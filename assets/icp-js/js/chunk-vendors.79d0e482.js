(self["webpackChunkicp_js"]=self["webpackChunkicp_js"]||[]).push([[504],{34:function(t,e,r){"use strict";var n=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},81:function(t,e,r){"use strict";var n=r(9565),i=r(9306),o=r(8551),s=r(6823),a=r(851),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(i(r))return o(n(r,t));throw new c(s(t)+" is not iterable")}},283:function(t,e,r){"use strict";var n=r(9504),i=r(9039),o=r(4901),s=r(9297),a=r(3724),c=r(350).CONFIGURABLE,u=r(3706),f=r(1181),h=f.enforce,l=f.get,d=String,p=Object.defineProperty,y=n("".slice),g=n("".replace),b=n([].join),w=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),m=String(String).split("String"),v=t.exports=function(t,e,r){"Symbol("===y(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),w&&r&&s(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=h(t);return s(n,"source")||(n.source=b(m,"string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return o(this)&&l(this).source||u(this)}),"toString")},303:function(t,e,r){"use strict";r(4114),r(8111),r(1701);const{Buffer:n}=r(712),{URL:i}=r(7795),o=r(8577).BigNumber,s=r(4198),a=r(7646),c=a.MT,u=a.NUMBYTES,f=a.SHIFT32,h=a.SYMS,l=a.TAG,d=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,y=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,g=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,b=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,m=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,v=new o("0x20000000000000"),E=n.from("f97e00","hex"),_=n.from("f9fc00","hex"),x=n.from("f97c00","hex");function I(t){return{}.toString.call(t).slice(8,-1)}class A{constructor(t){t=t||{},this.streaming="function"===typeof t.stream,this.onData=t.stream,this.semanticTypes=[[i,this._pushUrl],[o,this._pushBigNumber]];const e=t.genTypes||[],r=e.length;for(let n=0;n<r;n++)this.addSemanticType(e[n][0],e[n][1]);this._reset()}addSemanticType(t,e){const r=this.semanticTypes.length;for(let n=0;n<r;n++){const r=this.semanticTypes[n][0];if(r===t){const t=this.semanticTypes[n][1];return this.semanticTypes[n][1]=e,t}}return this.semanticTypes.push([t,e]),null}push(t){return!t||(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(t,e,r){return this.result[this.offset]=t,this.resultMethod[this.offset]=e,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(E)}_pushInfinity(t){const e=t<0?_:x;return this.push(e)}_pushFloat(t){const e=n.allocUnsafe(2);if(s.writeHalf(e,t)&&s.parseHalf(e)===t)return this._pushUInt8(d)&&this.push(e);const r=n.allocUnsafe(4);return r.writeFloatBE(t,0),r.readFloatBE(0)===t?this._pushUInt8(p)&&this.push(r):this._pushUInt8(y)&&this._pushDoubleBE(t)}_pushInt(t,e,r){const n=e<<5;return t<24?this._pushUInt8(n|t):t<=255?this._pushUInt8(n|u.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(t/f))&&this._pushUInt32BE(t%f):e===c.NEG_INT?this._pushFloat(r):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,c.NEG_INT,t):this._pushInt(t,c.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const e=n.byteLength(t,"utf8");return this._pushInt(e,c.UTF8_STRING)&&this.pushWrite(t,5,e)}_pushBoolean(t){return this._pushUInt8(t?g:b)}_pushUndefined(t){return this._pushUInt8(w)}_pushArray(t,e){const r=e.length;if(!t._pushInt(r,c.ARRAY))return!1;for(let n=0;n<r;n++)if(!t.pushAny(e[n]))return!1;return!0}_pushTag(t){return this._pushInt(t,c.TAG)}_pushDate(t,e){return t._pushTag(l.DATE_EPOCH)&&t.pushAny(Math.round(e/1e3))}_pushBuffer(t,e){return t._pushInt(e.length,c.BYTE_STRING)&&t.push(e)}_pushNoFilter(t,e){return t._pushBuffer(t,e.slice())}_pushRegexp(t,e){return t._pushTag(l.REGEXP)&&t.pushAny(e.source)}_pushSet(t,e){if(!t._pushInt(e.size,c.ARRAY))return!1;for(const r of e)if(!t.pushAny(r))return!1;return!0}_pushUrl(t,e){return t._pushTag(l.URI)&&t.pushAny(e.format())}_pushBigint(t){let e=l.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),e=l.NEG_BIGINT);let r=t.toString(16);r.length%2&&(r="0"+r);const i=n.from(r,"hex");return this._pushTag(e)&&this._pushBuffer(this,i)}_pushBigNumber(t,e){if(e.isNaN())return t._pushNaN();if(!e.isFinite())return t._pushInfinity(e.isNegative()?-1/0:1/0);if(e.isInteger())return t._pushBigint(e);if(!t._pushTag(l.DECIMAL_FRAC)||!t._pushInt(2,c.ARRAY))return!1;const r=e.decimalPlaces(),n=e.multipliedBy(new o(10).pow(r));return!!t._pushIntNum(-r)&&(n.abs().isLessThan(v)?t._pushIntNum(n.toNumber()):t._pushBigint(n))}_pushMap(t,e){return!!t._pushInt(e.size,c.MAP)&&this._pushRawMap(e.size,Array.from(e))}_pushObject(t){if(!t)return this._pushUInt8(m);for(var e=this.semanticTypes.length,r=0;r<e;r++)if(t instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(t,this,t);var n=t.encodeCBOR;if("function"===typeof n)return n.call(t,this);var i=Object.keys(t),o=i.length;return!!this._pushInt(o,c.MAP)&&this._pushRawMap(o,i.map((e=>[e,t[e]])))}_pushRawMap(t,e){e=e.map((function(t){return t[0]=A.encode(t[0]),t})).sort(s.keySorter);for(var r=0;r<t;r++){if(!this.push(e[r][0]))return!1;if(!this.pushAny(e[r][1]))return!1}return!0}write(t){return this.pushAny(t)}pushAny(t){var e=I(t);switch(e){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,n.isBuffer(t)?t:n.from(t));case"Null":return this._pushUInt8(m);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case h.NULL:return this._pushObject(null);case h.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(0===this.offset)return null;for(var t=this.result,e=this.resultLength,r=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=e[s];var a=n.allocUnsafe(o),c=0,u=0;for(s=0;s<i;s++){switch(u=e[s],r[s]){case 0:t[s].copy(a,c);break;case 1:a.writeUInt8(t[s],c,!0);break;case 2:a.writeUInt16BE(t[s],c,!0);break;case 3:a.writeUInt32BE(t[s],c,!0);break;case 4:a.writeDoubleBE(t[s],c,!0);break;case 5:a.write(t[s],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var f=a;return this._reset(),f}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const e=new A,r=e.pushAny(t);if(!r)throw new Error("Failed to encode input");return e.finalize()}}t.exports=A},350:function(t,e,r){"use strict";var n=r(3724),i=r(9297),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},397:function(t,e,r){"use strict";var n=r(7751);t.exports=n("document","documentElement")},421:function(t){"use strict";t.exports={}},507:function(t,e,r){"use strict";var n=r(9565);t.exports=function(t,e,r){var i,o,s=r?t:t.iterator,a=t.next;while(!(i=n(a,s)).done)if(o=e(i.value),void 0!==o)return o}},616:function(t,e,r){"use strict";var n=r(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},655:function(t,e,r){"use strict";var n=r(6955),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},679:function(t,e,r){"use strict";var n=r(1625),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},712:function(t,e,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */r(4114);var n=r(6103),i=r(9046),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(r){return!1}}function c(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return f(t,e,r)}function f(t,e,r){if("string"===typeof t)return p(t,e);if(ArrayBuffer.isView(t))return g(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return b(t,e,r);if("undefined"!==typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return b(t,e,r);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=w(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t,e,r){return h(t),t<=0?c(t):void 0!==e?"string"===typeof r?c(t).fill(e,r):c(t).fill(e):c(t)}function d(t){return h(t),c(t<0?0:0|m(t))}function p(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|E(t,e),n=c(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function y(t){for(var e=t.length<0?0:0|m(t.length),r=c(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function g(t){if(X(t,Uint8Array)){var e=new Uint8Array(t);return b(e.buffer,e.byteOffset,e.byteLength)}return y(t)}function b(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function w(t){if(u.isBuffer(t)){var e=0|m(t.length),r=c(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!==typeof t.length||J(t.length)?c(0):y(t):"Buffer"===t.type&&Array.isArray(t.data)?y(t.data):void 0}function m(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),u.alloc(+t)}function E(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(i)return n?-1:H(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return U(this,e,r);case"ascii":return F(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return N(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function I(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,J(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:A(t,e,r,n,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(t,e,r,n,i){var o,s=1,a=t.length,c=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===c)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var h=!0,l=0;l<c;l++)if(u(t,o+l)!==u(e,l)){h=!1;break}if(h)return o}return-1}function B(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(J(a))return s;t[r+s]=a}return s}function T(t,e,r,n){return K(H(e,t.length-r),t,r,n)}function S(t,e,r,n){return K(Y(e),t,r,n)}function O(t,e,r,n){return K(Z(e),t,r,n)}function R(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function N(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function U(t,e,r){r=Math.min(t.length,r);var n=[],i=e;while(i<r){var o,s,a,c,u=t[i],f=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(f=u);break;case 2:o=t[i+1],128===(192&o)&&(c=(31&u)<<6|63&o,c>127&&(f=c));break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(f=c));break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(f=c))}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return j(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return l(t,e,r)},u.allocUnsafe=function(t){return d(t)},u.allocUnsafeSlow=function(t){return d(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(X(o,Uint8Array))i+o.length>n.length?u.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},u.byteLength=E,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?U(this,0,t):_.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return I(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return I(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return B(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function j(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=P));return r}function F(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Q[t[o]];return i}function D(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function q(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(t,e,r,n,o){return e=+e,r>>>=0,o||C(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function $(t,e,r,n,o){return e=+e,r>>>=0,o||C(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);var n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);var n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);var n=e,i=1,o=this[t+--n];while(n>0&&(i*=256))o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;q(this,t,e,r,i,0)}var o=1,s=0;this[e]=255&t;while(++s<r&&(o*=256))this[e+s]=t/o&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;q(this,t,e,r,i,0)}var o=r-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;this[e]=255&t;while(++o<r&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return V(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return V(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return $(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return $(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var z=/[^+/0-9A-Za-z-_]/g;function G(t){if(t=t.split("=")[0],t=t.trim().replace(z,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function H(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function Z(t){return n.toByteArray(G(t))}function K(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!==t}var Q=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},741:function(t){"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},757:function(t,e,r){"use strict";var n=r(7751),i=r(4901),o=r(1625),s=r(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,a(t))}},851:function(t,e,r){"use strict";var n=r(6955),i=r(5966),o=r(4117),s=r(6269),a=r(8227),c=a("iterator");t.exports=function(t){if(!o(t))return i(t,c)||i(t,"@@iterator")||s[n(t)]}},875:function(t,e,r){"use strict";e.Diagnose=r(8343),e.Decoder=r(5735),e.Encoder=r(303),r(9261),e.Tagged=r(3011),e.Decoder.decodeAll,e.Decoder.decodeFirst,e.Diagnose.diagnose,e.Encoder.encode,e.Decoder.decode,e.Decoder.decodeAll,e.Encoder.encode},940:function(t,e,r){"use strict";r.d(e,{ZT:function(){return M},sc:function(){return D},Zf:function(){return q}});var n=r(6330);function i(t,e,r,n){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}function o(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}class a extends n.Vw{constructor(t,e,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=(0,n.O8)(this.buffer)}update(t){(0,n.CC)(this),t=(0,n.ZJ)(t),(0,n.DO)(t);const{view:e,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a!==i)r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,n.O8)(t);for(;i<=o-s;s+=i)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.CC)(this),(0,n.Ht)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,(0,n.uH)(this.buffer.subarray(a)),this.padOffset>o-a&&(this.process(r,0),a=0);for(let n=a;n<o;n++)e[n]=0;i(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,n.O8)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,h=this.get();if(f>h.length)throw new Error("_sha2: outputLen bigger than state");for(let n=0;n<f;n++)c.setUint32(4*n,h[n],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.destroyed=o,t.finished=i,t.length=n,t.pos=s,n%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const c=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),f=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),h=BigInt(2**32-1),l=BigInt(32);function d(t,e=!1){return e?{h:Number(t&h),l:Number(t>>l&h)}:{h:0|Number(t>>l&h),l:0|Number(t&h)}}function p(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:r,l:s}=d(t[o],e);[n[o],i[o]]=[r,s]}return[n,i]}const y=(t,e,r)=>t>>>r,g=(t,e,r)=>t<<32-r|e>>>r,b=(t,e,r)=>t>>>r|e<<32-r,w=(t,e,r)=>t<<32-r|e>>>r,m=(t,e,r)=>t<<64-r|e>>>r-32,v=(t,e,r)=>t>>>r-32|e<<64-r;function E(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}const _=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),x=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,I=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),A=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,B=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),T=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;const S=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array(64);class R extends a{constructor(t=32){super(64,t,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)O[n]=t.getUint32(e,!1);for(let o=16;o<64;o++){const t=O[o-15],e=O[o-2],r=(0,n.Ow)(t,7)^(0,n.Ow)(t,18)^t>>>3,i=(0,n.Ow)(e,17)^(0,n.Ow)(e,19)^e>>>10;O[o]=i+O[o-7]+r+O[o-16]|0}let{A:r,B:i,C:a,D:c,E:u,F:f,G:h,H:l}=this;for(let d=0;d<64;d++){const t=(0,n.Ow)(u,6)^(0,n.Ow)(u,11)^(0,n.Ow)(u,25),e=l+t+o(u,f,h)+S[d]+O[d]|0,p=(0,n.Ow)(r,2)^(0,n.Ow)(r,13)^(0,n.Ow)(r,22),y=p+s(r,i,a)|0;l=h,h=f,f=u,u=c+e|0,c=a,a=i,i=r,r=e+y|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,l=l+this.H|0,this.set(r,i,a,c,u,f,h,l)}roundClean(){(0,n.uH)(O)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.uH)(this.buffer)}}class N extends R{constructor(){super(28),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}}const U=(()=>p(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),P=(()=>U[0])(),j=(()=>U[1])(),F=new Uint32Array(80),k=new Uint32Array(80);class L extends a{constructor(t=64){super(128,t,16,!1),this.Ah=0|f[0],this.Al=0|f[1],this.Bh=0|f[2],this.Bl=0|f[3],this.Ch=0|f[4],this.Cl=0|f[5],this.Dh=0|f[6],this.Dl=0|f[7],this.Eh=0|f[8],this.El=0|f[9],this.Fh=0|f[10],this.Fl=0|f[11],this.Gh=0|f[12],this.Gl=0|f[13],this.Hh=0|f[14],this.Hl=0|f[15]}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:h,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[t,e,r,n,i,o,s,a,c,u,f,h,l,d,p,y]}set(t,e,r,n,i,o,s,a,c,u,f,h,l,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|h,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let y=0;y<16;y++,e+=4)F[y]=t.getUint32(e),k[y]=t.getUint32(e+=4);for(let E=16;E<80;E++){const t=0|F[E-15],e=0|k[E-15],r=b(t,e,1)^b(t,e,8)^y(t,e,7),n=w(t,e,1)^w(t,e,8)^g(t,e,7),i=0|F[E-2],o=0|k[E-2],s=b(i,o,19)^m(i,o,61)^y(i,o,6),a=w(i,o,19)^v(i,o,61)^g(i,o,6),c=I(n,a,k[E-7],k[E-16]),u=A(c,r,s,F[E-7],F[E-16]);F[E]=0|u,k[E]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:f,El:h,Fh:l,Fl:d,Gh:p,Gl:S,Hh:O,Hl:R}=this;for(let y=0;y<80;y++){const t=b(f,h,14)^b(f,h,18)^m(f,h,41),e=w(f,h,14)^w(f,h,18)^v(f,h,41),g=f&l^~f&p,I=h&d^~h&S,A=B(R,e,I,j[y],k[y]),N=T(A,O,t,g,P[y],F[y]),U=0|A,L=b(r,n,28)^m(r,n,34)^m(r,n,39),D=w(r,n,28)^v(r,n,34)^v(r,n,39),M=r&i^r&s^i&s,q=n&o^n&a^o&a;O=0|p,R=0|S,p=0|l,S=0|d,l=0|f,d=0|h,({h:f,l:h}=E(0|c,0|u,0|N,0|U)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const C=_(U,D,q);r=x(C,N,L,M),n=0|C}({h:r,l:n}=E(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=E(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=E(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=E(0|this.Dh,0|this.Dl,0|c,0|u)),({h:f,l:h}=E(0|this.Eh,0|this.El,0|f,0|h)),({h:l,l:d}=E(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:S}=E(0|this.Gh,0|this.Gl,0|p,0|S)),({h:O,l:R}=E(0|this.Hh,0|this.Hl,0|O,0|R)),this.set(r,n,i,o,s,a,c,u,f,h,l,d,p,S,O,R)}roundClean(){(0,n.uH)(F,k)}destroy(){(0,n.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const D=(0,n.qj)((()=>new R)),M=(0,n.qj)((()=>new N)),q=(0,n.qj)((()=>new L))},1062:function(t,e,r){"use strict";r.d(e,{Xf:function(){return b},hT:function(){return g},hp:function(){return w}});r(4114),r(8111),r(7588),r(1701);var n=r(9383),i=r(5404);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const o=BigInt(0),s=BigInt(1);function a(t,e){const r=e.negate();return t?r:e}function c(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function u(t,e){c(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),o=2**t,s=(0,i.OG)(t),a=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:o,shiftBy:a}}function f(t,e,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r;let c=Number(t&i),u=t>>a;c>n&&(c-=o,u+=s);const f=e*n,h=f+Math.abs(c)-1,l=0===c,d=c<0,p=e%2!==0,y=f;return{nextN:u,offset:h,isZero:l,isNeg:d,isNegF:p,offsetF:y}}function h(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach(((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)}))}function l(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)}))}const d=new WeakMap,p=new WeakMap;function y(t){return p.get(t)||1}function g(t,e){return{constTimeNegate:a,hasPrecomputes(t){return 1!==y(t)},unsafeLadder(e,r,n=t.ZERO){let i=e;while(r>o)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(t,r){const{windows:n,windowSize:i}=u(r,e),o=[];let s=t,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){let o=t.ZERO,s=t.BASE;const c=u(r,e);for(let t=0;t<c.windows;t++){const{nextN:e,offset:r,isZero:u,isNeg:h,isNegF:l,offsetF:d}=f(i,t,c);i=e,u?s=s.add(a(l,n[d])):o=o.add(a(h,n[r]))}return{p:o,f:s}},wNAFUnsafe(r,n,i,s=t.ZERO){const a=u(r,e);for(let t=0;t<a.windows;t++){if(i===o)break;const{nextN:e,offset:r,isZero:c,isNeg:u}=f(i,t,a);if(i=e,!c){const t=n[r];s=s.add(u?t.negate():t)}}return s},getPrecomputes(t,e,r){let n=d.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&d.set(e,r(n))),n},wNAFCached(t,e,r){const n=y(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)},wNAFCachedUnsafe(t,e,r,n){const i=y(t);return 1===i?this.unsafeLadder(t,e,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,n)},setWindowSize(t,r){c(r,e),p.set(t,r),d.delete(t)}}}function b(t,e,r,n){h(r,t),l(n,e);const o=r.length,s=n.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=(0,i.dJ)(BigInt(o));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const f=(0,i.OG)(u),d=new Array(Number(f)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let y=a;for(let i=p;i>=0;i-=u){d.fill(a);for(let e=0;e<s;e++){const t=n[e],o=Number(t>>BigInt(i)&f);d[o]=d[o].add(r[e])}let t=a;for(let e=d.length-1,r=a;e>0;e--)r=r.add(d[e]),t=t.add(r);if(y=y.add(t),0!==i)for(let e=0;e<u;e++)y=y.double()}return y}function w(t){return(0,n.jr)(t.Fp),(0,i.Q5)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.LH)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}},1072:function(t,e,r){"use strict";var n=r(1828),i=r(8727);t.exports=Object.keys||function(t){return n(t,i)}},1148:function(t,e,r){"use strict";var n=r(6518),i=r(9565),o=r(2652),s=r(9306),a=r(8551),c=r(1767),u=r(9539),f=r(4549),h=f("every",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:h},{every:function(t){a(this);try{s(t)}catch(n){u(this,"throw",n)}if(h)return i(h,this,t);var e=c(this),r=0;return!o(e,(function(e,n){if(!t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:function(t,e,r){"use strict";var n,i,o,s=r(8622),a=r(4576),c=r(34),u=r(6699),f=r(9297),h=r(7629),l=r(6119),d=r(421),p="Object already initialized",y=a.TypeError,g=a.WeakMap,b=function(t){return o(t)?i(t):n(t,{})},w=function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return r}};if(s||h.state){var m=h.state||(h.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(t,e){if(m.has(t))throw new y(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var v=l("state");d[v]=!0,n=function(t,e){if(f(t,v))throw new y(p);return e.facade=t,u(t,v,e),e},i=function(t){return f(t,v)?t[v]:{}},o=function(t){return f(t,v)}}t.exports={set:n,get:i,has:o,enforce:b,getterFor:w}},1291:function(t,e,r){"use strict";var n=r(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},1587:function(t,e,r){"use strict";r.d(e,{qB:function(){return o.qB},GZ:function(){return o.GZ},RK:function(){return i.R},BY:function(){return o.BY},i8:function(){return s}});var n,i=r(6905),o=r(2177);r(5627),r(3003);(function(t){t["Error"]="err",t["GetPrincipal"]="gp",t["GetPrincipalResponse"]="gpr",t["Query"]="q",t["QueryResponse"]="qr",t["Call"]="c",t["CallResponse"]="cr",t["ReadState"]="rs",t["ReadStateResponse"]="rsr",t["Status"]="s",t["StatusResponse"]="sr"})(n||(n={}));function s(){const t="undefined"===typeof window?"undefined"===typeof r.g?"undefined"===typeof self?void 0:self.ic.agent:r.g.ic.agent:window.ic.agent;if(!t)throw new Error("No Agent could be found.");return t}},1625:function(t,e,r){"use strict";var n=r(9504);t.exports=n({}.isPrototypeOf)},1698:function(t,e,r){"use strict";var n=r(6518),i=r(4204),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:i})},1701:function(t,e,r){"use strict";var n=r(6518),i=r(9565),o=r(9306),s=r(8551),a=r(1767),c=r(9462),u=r(6319),f=r(9539),h=r(4549),l=r(6395),d=!l&&h("map",TypeError),p=c((function(){var t=this.iterator,e=s(i(this.next,t)),r=this.done=!!e.done;if(!r)return u(t,this.mapper,[e.value,this.counter++],!0)}));n({target:"Iterator",proto:!0,real:!0,forced:l||d},{map:function(t){s(this);try{o(t)}catch(e){f(this,"throw",e)}return d?i(d,this,t):new p(a(this),{mapper:t})}})},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1828:function(t,e,r){"use strict";var n=r(9504),i=r(9297),o=r(5397),s=r(9617).indexOf,a=r(421),c=n([].push);t.exports=function(t,e){var r,n=o(t),u=0,f=[];for(r in n)!i(a,r)&&i(n,r)&&c(f,r);while(e.length>u)i(n,r=e[u++])&&(~s(f,r)||c(f,r));return f}},2106:function(t,e,r){"use strict";var n=r(283),i=r(4913);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},2140:function(t,e,r){"use strict";var n=r(8227),i=n("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},2177:function(t,e,r){"use strict";r.d(e,{qB:function(){return Zt},GZ:function(){return Dt},BY:function(){return Pt}});r(4114),r(4979);var n=r(3003),i=r(6460),o=r(9929),s=r(3839),a=r(5652),c=r(9023),u=r(9881),f=r(2948),h=r(5627),l=r(7887),d=r(4356),p=r(940),y=r(6330),g=(r(8111),r(1701),r(1062)),b=r(9383),w=r(5404);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const m=BigInt(0),v=BigInt(1),E=BigInt(2),_=BigInt(8),x={zip215:!0};function I(t){const e=(0,g.hp)(t);return(0,w.Q5)(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function A(t){const e=I(t),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,u=E<<BigInt(8*a)-v,f=r.create,h=(0,b.D0)(e.n,e.nBitLength);function l(t,n){const i=r.sqr(t),o=r.sqr(n),s=r.add(r.mul(e.a,i),o),a=r.add(r.ONE,r.mul(e.d,r.mul(i,o)));return r.eql(s,a)}if(!l(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const d=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(n){return{isValid:!1,value:m}}}),p=e.adjustScalarBytes||(t=>t),y=e.domain||((t,e,r)=>{if((0,w.e8)("phflag",r),e.length||r)throw new Error("Contexts/pre-hash are not supported");return t});function A(t,e,r=!1){const n=r?v:m;(0,w.aK)("coordinate "+t,e,n,u)}function B(t){if(!(t instanceof O))throw new Error("ExtendedPoint expected")}const T=(0,w.x)(((t,e)=>{const{ex:n,ey:i,ez:o}=t,s=t.is0();null==e&&(e=s?_:r.inv(o));const a=f(n*e),c=f(i*e),u=f(o*e);if(s)return{x:m,y:v};if(u!==v)throw new Error("invZ was invalid");return{x:a,y:c}})),S=(0,w.x)((t=>{const{a:r,d:n}=e;if(t.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=t,c=f(i*i),u=f(o*o),h=f(s*s),l=f(h*h),d=f(c*r),p=f(h*f(d+u)),y=f(l+f(n*f(c*u)));if(p!==y)throw new Error("bad point: equation left != right (1)");const g=f(i*o),b=f(s*a);if(g!==b)throw new Error("bad point: equation left != right (2)");return!0}));class O{constructor(t,e,r,n){A("x",t),A("y",e),A("z",r,!0),A("t",n),this.ex=t,this.ey=e,this.ez=r,this.et=n,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof O)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};return A("x",e),A("y",r),new O(e,r,v,f(e*r))}static normalizeZ(t){const e=(0,b.pS)(r,t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(O.fromAffine)}static msm(t,e){return(0,g.Xf)(O,h,t,e)}_setWindowSize(t){U.setWindowSize(this,t)}assertValidity(){S(this)}equals(t){B(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=t,a=f(e*s),c=f(i*n),u=f(r*s),h=f(o*n);return a===c&&u===h}is0(){return this.equals(O.ZERO)}negate(){return new O(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,o=f(r*r),s=f(n*n),a=f(E*f(i*i)),c=f(t*o),u=r+n,h=f(f(u*u)-o-s),l=c+s,d=l-a,p=c-s,y=f(h*d),g=f(l*p),b=f(h*p),w=f(d*l);return new O(y,g,w,b)}add(t){B(t);const{a:r,d:n}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:h,et:l}=t,d=f(i*c),p=f(o*u),y=f(a*n*l),g=f(s*h),b=f((i+o)*(c+u)-d-p),w=g-y,m=g+y,v=f(p-r*d),E=f(b*w),_=f(m*v),x=f(b*v),I=f(w*m);return new O(E,_,I,x)}subtract(t){return this.add(t.negate())}wNAF(t){return U.wNAFCached(this,t,O.normalizeZ)}multiply(t){const e=t;(0,w.aK)("scalar",e,v,n);const{p:r,f:i}=this.wNAF(e);return O.normalizeZ([r,i])[0]}multiplyUnsafe(t,e=O.ZERO){const r=t;return(0,w.aK)("scalar",r,m,n),r===m?N:this.is0()||r===v?this:U.wNAFCachedUnsafe(this,r,O.normalizeZ,e)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(t){return T(this,t)}clearCofactor(){const{h:t}=e;return t===v?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:o}=e,s=r.BYTES;t=(0,w.qj)("pointHex",t,s),(0,w.e8)("zip215",n);const a=t.slice(),c=t[s-1];a[s-1]=-129&c;const h=(0,w.lX)(a),l=n?u:r.ORDER;(0,w.aK)("pointHex.y",h,m,l);const p=f(h*h),y=f(p-v),g=f(i*p-o);let{isValid:b,value:E}=d(y,g);if(!b)throw new Error("Point.fromHex: invalid y coordinate");const _=(E&v)===v,x=0!==(128&c);if(!n&&E===m&&x)throw new Error("Point.fromHex: x=0 and x_0=1");return x!==_&&(E=f(-E)),O.fromAffine({x:E,y:h})}static fromPrivateKey(t){const{scalar:e}=F(t);return R.multiply(e)}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=(0,w.z)(e,r.BYTES);return n[n.length-1]|=t&v?128:0,n}toHex(){return(0,w.My)(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,v,f(e.Gx*e.Gy)),O.ZERO=new O(m,v,v,m);const{BASE:R,ZERO:N}=O,U=(0,g.hT)(O,8*a);function P(t){return(0,b.zi)(t,n)}function j(t){return P((0,w.lX)(t))}function F(t){const e=r.BYTES;t=(0,w.qj)("private key",t,e);const n=(0,w.qj)("hashed private key",o(t),2*e),i=p(n.slice(0,e)),s=n.slice(e,2*e),a=j(i);return{head:i,prefix:s,scalar:a}}function k(t){const{head:e,prefix:r,scalar:n}=F(t),i=R.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}function L(t){return k(t).pointBytes}function D(t=Uint8Array.of(),...e){const r=(0,w.Id)(...e);return j(o(y(r,(0,w.qj)("context",t),!!i)))}function M(t,e,o={}){t=(0,w.qj)("message",t),i&&(t=i(t));const{prefix:s,scalar:a,pointBytes:c}=k(e),u=D(o.context,s,t),f=R.multiply(u).toRawBytes(),h=D(o.context,f,c,t),l=P(u+h*a);(0,w.aK)("signature.s",l,m,n);const d=(0,w.Id)(f,(0,w.z)(l,r.BYTES));return(0,w.qj)("result",d,2*r.BYTES)}const q=x;function C(t,e,n,o=q){const{context:s,zip215:a}=o,c=r.BYTES;t=(0,w.qj)("signature",t,2*c),e=(0,w.qj)("message",e),n=(0,w.qj)("publicKey",n,c),void 0!==a&&(0,w.e8)("zip215",a),i&&(e=i(e));const u=(0,w.lX)(t.slice(c,2*c));let f,h,l;try{f=O.fromHex(n,a),h=O.fromHex(t.slice(0,c),a),l=R.multiplyUnsafe(u)}catch(y){return!1}if(!a&&f.isSmallOrder())return!1;const d=D(s,h.toRawBytes(),f.toRawBytes(),e),p=h.add(f.multiplyUnsafe(d));return p.subtract(l).clearCofactor().equals(O.ZERO)}R._setWindowSize(8);const V={getExtendedPublicKey:k,randomPrivateKey:()=>s(r.BYTES),precompute(t=8,e=O.BASE){return e._setWindowSize(t),e.multiply(BigInt(3)),e}};return{CURVE:e,getPublicKey:L,sign:M,verify:C,ExtendedPoint:O,utils:V}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const B=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),T=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),S=(BigInt(0),BigInt(1)),O=BigInt(2),R=(BigInt(3),BigInt(5)),N=BigInt(8);function U(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=B,s=t*t%o,a=s*t%o,c=(0,b.zH)(a,O,o)*a%o,u=(0,b.zH)(c,S,o)*t%o,f=(0,b.zH)(u,R,o)*u%o,h=(0,b.zH)(f,e,o)*f%o,l=(0,b.zH)(h,r,o)*h%o,d=(0,b.zH)(l,n,o)*l%o,p=(0,b.zH)(d,i,o)*d%o,y=(0,b.zH)(p,i,o)*d%o,g=(0,b.zH)(y,e,o)*f%o,w=(0,b.zH)(g,O,o)*t%o;return{pow_p_5_8:w,b2:a}}function P(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function j(t,e){const r=B,n=(0,b.zi)(e*e*e,r),i=(0,b.zi)(n*n*e,r),o=U(t*i).pow_p_5_8;let s=(0,b.zi)(t*n*o,r);const a=(0,b.zi)(e*s*s,r),c=s,u=(0,b.zi)(s*T,r),f=a===t,h=a===(0,b.zi)(-t,r),l=a===(0,b.zi)(-t*T,r);return f&&(s=c),(h||l)&&(s=u),(0,b.dQ)(s,r)&&(s=(0,b.zi)(-s,r)),{isValid:f||h,value:s}}const F=(()=>(0,b.D0)(B,void 0,!0))(),k=(()=>({a:F.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:F,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:N,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p.Zf,randomBytes:y.po,adjustScalarBytes:P,uvRatio:j}))(),L=(()=>A(k))();var D,M,q,C,V=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},$=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};class z{constructor(t={}){D.set(this,void 0),M.set(this,void 0),this[q]=this.entries.bind(this),this[C]="ExpirableMap";const{source:e=[],expirationTime:r=6e5}=t,n=Date.now();V(this,D,new Map([...e].map((([t,e])=>[t,{value:e,timestamp:n}]))),"f"),V(this,M,r,"f")}prune(){const t=Date.now();for(const[e,r]of $(this,D,"f").entries())t-r.timestamp>$(this,M,"f")&&$(this,D,"f").delete(e);return this}set(t,e){this.prune();const r={value:e,timestamp:Date.now()};return $(this,D,"f").set(t,r),this}get(t){const e=$(this,D,"f").get(t);if(void 0!==e){if(!(Date.now()-e.timestamp>$(this,M,"f")))return e.value;$(this,D,"f").delete(t)}}clear(){$(this,D,"f").clear()}entries(){const t=$(this,D,"f").entries(),e=function*(){for(const[e,r]of t)yield[e,r.value]};return e()}values(){const t=$(this,D,"f").values(),e=function*(){for(const e of t)yield e.value};return e()}keys(){return $(this,D,"f").keys()}forEach(t,e){for(const[r,n]of $(this,D,"f").entries())t.call(e,n.value,r,this)}has(t){return $(this,D,"f").has(t)}delete(t){return $(this,D,"f").delete(t)}get size(){return $(this,D,"f").size}}D=new WeakMap,M=new WeakMap,q=Symbol.iterator,C=Symbol.toStringTag;var G,H,Y,W,Z,K,X,J,Q,tt=r(6010),et=r(5258),rt=r(8962),nt=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},it=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};const ot=.5,st=1.5,at=500,ct=6e4,ut=9e5,ft=10;class ht{constructor(t=ht.default){G.set(this,void 0),H.set(this,void 0),Y.set(this,void 0),W.set(this,void 0),Z.set(this,void 0),K.set(this,void 0),X.set(this,void 0),J.set(this,void 0),Q.set(this,0);const{initialInterval:e=at,randomizationFactor:r=ot,multiplier:n=st,maxInterval:i=ct,maxElapsedTime:o=ut,maxIterations:s=ft,date:a=Date}=t;nt(this,G,e,"f"),nt(this,H,r,"f"),nt(this,Y,n,"f"),nt(this,W,i,"f"),nt(this,J,a,"f"),nt(this,Z,a.now(),"f"),nt(this,K,o,"f"),nt(this,X,s,"f")}get ellapsedTimeInMsec(){return it(this,J,"f").now()-it(this,Z,"f")}get currentInterval(){return it(this,G,"f")}get count(){return it(this,Q,"f")}get randomValueFromInterval(){const t=it(this,H,"f")*it(this,G,"f"),e=it(this,G,"f")-t,r=it(this,G,"f")+t;return Math.random()*(r-e)+e}incrementCurrentInterval(){var t;return nt(this,G,Math.min(it(this,G,"f")*it(this,Y,"f"),it(this,W,"f")),"f"),nt(this,Q,(t=it(this,Q,"f"),t++,t),"f"),it(this,G,"f")}next(){return this.ellapsedTimeInMsec>=it(this,K,"f")||it(this,Q,"f")>=it(this,X,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}G=new WeakMap,H=new WeakMap,Y=new WeakMap,W=new WeakMap,Z=new WeakMap,K=new WeakMap,X=new WeakMap,J=new WeakMap,Q=new WeakMap,ht.default={initialInterval:at,randomizationFactor:ot,multiplier:st,maxInterval:ct,maxElapsedTime:ut,maxIterations:ft,date:Date};var lt,dt,pt,yt,gt,bt,wt,mt,vt,Et,_t,xt,It,At,Bt,Tt,St,Ot,Rt,Nt,Ut,Pt,jt=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},Ft=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};(function(t){t["Received"]="received",t["Processing"]="processing",t["Replied"]="replied",t["Rejected"]="rejected",t["Unknown"]="unknown",t["Done"]="done"})(Pt||(Pt={}));const kt=6e4,Lt="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Dt="aaaaa-aa",Mt="ic0.app",qt=".ic0.app",Ct="icp0.io",Vt=".icp0.io",$t="icp-api.io",zt=".icp-api.io";class Gt extends i.Yv{constructor(t){super(t),this.message=t}}class Ht extends i.Yv{constructor(t){super(t),this.message=t}}function Yt(){let t;if("undefined"!==typeof window){if(!window.fetch)throw new Gt("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");t=window.fetch.bind(window)}else if("undefined"!==typeof r.g){if(!r.g.fetch)throw new Gt("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");t=r.g.fetch.bind(r.g)}else"undefined"!==typeof self&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw new Gt("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Wt(t){let e;if(void 0!==t)e=t.match(/^[a-z]+:/)||"undefined"===typeof window?new URL(t):new URL(window.location.protocol+"//"+t);else{const t=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],n="undefined"!==typeof window?window.location:void 0,i=null===n||void 0===n?void 0:n.hostname;let o;i&&"string"===typeof i&&(o=r.some((t=>i.endsWith(t)))?i:t.find((t=>i.endsWith(t)))),e=n&&o?new URL(`${n.protocol}//${o}${n.port?":"+n.port:""}`):new URL("https://icp-api.io")}return e.toString()}class Zt{constructor(t={}){var e,s;lt.add(this),dt.set(this,null),pt.set(this,!1),yt.set(this,void 0),gt.set(this,void 0),bt.set(this,void 0),wt.set(this,void 0),mt.set(this,0),vt.set(this,void 0),Et.set(this,void 0),_t.set(this,void 0),xt.set(this,void 0),this._isAgent=!0,this.config={},It.set(this,0),this.log=new rt.o,At.set(this,[]),Bt.set(this,[]),Tt.set(this,new z({expirationTime:3e5})),St.set(this,!0),Nt.set(this,((t,e)=>{if(!1===Ft(this,St,"f"))return t;if(!e)throw new d.bK("Invalid signature from replica signed query: no matching node key found.");const{status:r,signatures:i=[],requestId:o}=t,s=(0,c.em)((new TextEncoder).encode("\vic-response"));for(const u of i){const{timestamp:i,identity:f}=u,h=n.p.fromUint8Array(f).toText();let l;if("replied"===r){const{reply:e}=t;l=(0,a.uF)({status:r,reply:e,timestamp:BigInt(i),request_id:o})}else{if("rejected"!==r)throw new Error(`Unknown status: ${r}`);{const{reject_code:e,reject_message:n,error_code:s}=t;l=(0,a.uF)({status:r,reject_code:e,reject_message:n,error_code:s,timestamp:BigInt(i),request_id:o})}}const p=(0,c.xW)(s,(0,c.em)(new Uint8Array(l))),y=null===e||void 0===e?void 0:e.nodeKeys.get(h);if(!y)throw new d.bK("Invalid signature from replica signed query: no matching node key found.");const g=tt.G.fromDer(y).rawKey,b=L.verify(u.signature,new Uint8Array(p),new Uint8Array(g));if(b)return t;throw new d.bK(`Invalid signature from replica ${h} signed query.`)}return t})),this.config=t,jt(this,gt,t.fetch||Yt()||fetch.bind(r.g),"f"),jt(this,bt,t.fetchOptions,"f"),jt(this,wt,t.callOptions,"f"),jt(this,pt,null!==(e=t.shouldFetchRootKey)&&void 0!==e&&e,"f"),t.rootKey?this.rootKey=t.rootKey:Ft(this,pt,"f")?this.rootKey=null:this.rootKey=(0,c.aD)(Lt);const h=Wt(t.host);this.host=new URL(h),void 0!==t.verifyQuerySignatures&&jt(this,St,t.verifyQuerySignatures,"f"),jt(this,Et,null!==(s=t.retryTimes)&&void 0!==s?s:3,"f");const l=()=>new ht({maxIterations:Ft(this,Et,"f")});if(jt(this,_t,t.backoffStrategy||l,"f"),this.host.hostname.endsWith(qt)?this.host.hostname=Mt:this.host.hostname.endsWith(Vt)?this.host.hostname=Ct:this.host.hostname.endsWith(zt)&&(this.host.hostname=$t),t.credentials){const{name:e,password:r}=t.credentials;jt(this,vt,`${e}${r?":"+r:""}`,"f")}if(jt(this,yt,Promise.resolve(t.identity||new o.mC),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new i.Yv(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new i.Yv(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);jt(this,xt,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",(0,u.s8)(f.o)),t.useQueryNonces&&this.addTransform("query",(0,u.s8)(f.o)),t.logToConsole&&this.log.subscribe((t=>{"error"===t.level?console.error(t.message):"warn"===t.level?console.warn(t.message):console.log(t.message)}))}get waterMark(){return Ft(this,It,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const e=Zt.createSync(t),r=[e.syncTime()];return"https://icp-api.io"!==e.host.toString()&&t.shouldFetchRootKey&&r.push(e.fetchRootKey()),await Promise.all(r),e}static async from(t){var e;try{return"config"in t?await Zt.create(t.config):await Zt.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:null!==(e=t._identity)&&void 0!==e?e:void 0})}catch(C){throw new i.Yv("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return"127.0.0.1"===t||t.endsWith("127.0.0.1")}addTransform(t,e,r=e.priority||0){if("update"===t){const t=Ft(this,Bt,"f").findIndex((t=>(t.priority||0)<r));Ft(this,Bt,"f").splice(t>=0?t:Ft(this,Bt,"f").length,0,Object.assign(e,{priority:r}))}else if("query"===t){const t=Ft(this,At,"f").findIndex((t=>(t.priority||0)<r));Ft(this,At,"f").splice(t>=0?t:Ft(this,At,"f").length,0,Object.assign(e,{priority:r}))}}async getPrincipal(){if(!Ft(this,yt,"f"))throw new Ht("This identity has expired due this application's security policy. Please refresh your authentication.");return(await Ft(this,yt,"f")).getPrincipal()}async call(t,e,r){var i,o;await Ft(this,lt,"m",Ut).call(this);const l=null===(i=e.callSync)||void 0===i||i,d=await(void 0!==r?await r:await Ft(this,yt,"f"));if(!d)throw new Ht("This identity has expired due this application's security policy. Please refresh your authentication.");const p=n.p.from(t),y=e.effectiveCanisterId?n.p.from(e.effectiveCanisterId):p,g=d.getPrincipal()||n.p.anonymous();let b=new u.MM(Ft(this,xt,"f")*kt);Math.abs(Ft(this,mt,"f"))>3e4&&(b=new u.MM(Ft(this,xt,"f")*kt+Ft(this,mt,"f")));const w={request_type:f.q.Call,canister_id:p,method_name:e.methodName,arg:e.arg,sender:g,ingress_expiry:b};let m,v=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ft(this,vt,"f")?{Authorization:"Basic "+btoa(Ft(this,vt,"f"))}:{})},endpoint:"call",body:w});function E(t){return new Uint8Array(t)}m=(null===e||void 0===e?void 0:e.nonce)?E(e.nonce):v.body.nonce?E(v.body.nonce):void 0,w.nonce=m,v=await d.transformRequest(v);const _=s.lF(v.body),x=Ft(this,_t,"f").call(this),I=(0,a.Gb)(w);try{const t=()=>(this.log.print(`fetching "/api/v3/canister/${y.toText()}/call" with request:`,v),Ft(this,gt,"f").call(this,""+new URL(`/api/v3/canister/${y.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Ft(this,wt,"f")),v.request),{body:_}))),e=()=>(this.log.print(`fetching "/api/v2/canister/${y.toText()}/call" with request:`,v),Ft(this,gt,"f").call(this,""+new URL(`/api/v2/canister/${y.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},Ft(this,wt,"f")),v.request),{body:_}))),r=Ft(this,lt,"m",Rt).call(this,{request:l?t:e,backoff:x,tries:0}),n=await r,i=await n.arrayBuffer(),o=200===n.status&&i.byteLength>0?s.D4(i):null;if(o&&"certificate"in o){const t=await this.parseTimeFromResponse({certificate:o.certificate});jt(this,It,t,"f")}return{requestId:I,response:{ok:n.ok,status:n.status,statusText:n.statusText,body:o,headers:(0,u.Z3)(n.headers)},requestDetails:w}}catch(A){if(A.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},e),{callSync:!1}),r);const n=`Error while making call: ${null!==(o=A.message)&&void 0!==o?o:String(A)}`,i=new h.wn(n,A,(0,c.nj)(I),(0,c.nj)(v.body.sender_pubkey),(0,c.nj)(v.body.sender_sig),String(v.body.content.ingress_expiry["_value"]));throw this.log.error(n,i),i}}async query(t,e,r){var i,o,f,l;await Ft(this,lt,"m",Ut).call(this);const p=Ft(this,_t,"f").call(this),y=e.effectiveCanisterId?n.p.from(e.effectiveCanisterId):n.p.from(t);let g,b;this.log.print(`ecid ${y.toString()}`),this.log.print(`canisterId ${t.toString()}`);const w=await(void 0!==r?r:Ft(this,yt,"f"));if(!w)throw new Ht("This identity has expired due this application's security policy. Please refresh your authentication.");const m=n.p.from(t),v=(null===w||void 0===w?void 0:w.getPrincipal())||n.p.anonymous(),E={request_type:"query",canister_id:m,method_name:e.methodName,arg:e.arg,sender:v,ingress_expiry:new u.MM(Ft(this,xt,"f")*kt)},_=(0,a.Gb)(E);g=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ft(this,vt,"f")?{Authorization:"Basic "+btoa(Ft(this,vt,"f"))}:{})},endpoint:"read",body:E}),g=await(null===w||void 0===w?void 0:w.transformRequest(g));const x=s.lF(g.body),I={canister:m.toText(),ecid:y,transformedRequest:g,body:x,requestId:_,backoff:p,tries:0},A=async()=>({requestDetails:E,query:await Ft(this,lt,"m",Ot).call(this,I)}),B=async()=>{if(!Ft(this,St,"f"))return;const t=Ft(this,Tt,"f").get(y.toString());return t||(await this.fetchSubnetKeys(y.toString()),Ft(this,Tt,"f").get(y.toString()))};try{const[e,r]=await Promise.all([A(),B()]);b=e;const{requestDetails:n,query:i}=b,o=Object.assign(Object.assign({},i),{requestDetails:n});if(this.log.print("Query response:",o),!Ft(this,St,"f"))return o;try{return Ft(this,Nt,"f").call(this,o,r)}catch(T){this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),Ft(this,Tt,"f").delete(t.toString()),await this.fetchSubnetKeys(y.toString());const e=Ft(this,Tt,"f").get(t.toString());if(!e)throw new d.bK("Invalid signature from replica signed query: no matching node key found.");return Ft(this,Nt,"f").call(this,o,e)}}catch(S){const t=`Error while making call: ${null!==(i=S.message)&&void 0!==i?i:String(S)}`,e=new h.oj(t,S,String(_),(0,c.nj)(null===(o=null===g||void 0===g?void 0:g.body)||void 0===o?void 0:o.sender_pubkey),(0,c.nj)(null===(f=null===g||void 0===g?void 0:g.body)||void 0===f?void 0:f.sender_sig),String(null===(l=null===g||void 0===g?void 0:g.body)||void 0===l?void 0:l.content.ingress_expiry["_value"]));throw this.log.error(t,e),e}}async createReadStateRequest(t,e){await Ft(this,lt,"m",Ut).call(this);const r=await(void 0!==e?await e:await Ft(this,yt,"f"));if(!r)throw new Ht("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(null===r||void 0===r?void 0:r.getPrincipal())||n.p.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},Ft(this,vt,"f")?{Authorization:"Basic "+btoa(Ft(this,vt,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new u.MM(Ft(this,xt,"f")*kt)}});return null===r||void 0===r?void 0:r.transformRequest(o)}async readState(t,e,r,i){var o,a,u,f;function l(t){for(const e of t.paths){const[t,r]=e,n=(0,c.em)((new TextEncoder).encode("request_status"));if((0,c.HA)(t,n))return r}}const d=l(e);await Ft(this,lt,"m",Ut).call(this);const p="string"===typeof t?n.p.fromText(t):t,y=null!==i&&void 0!==i?i:await this.createReadStateRequest(e,r),g=s.lF(y.body);this.log.print(`fetching "/api/v2/canister/${p}/read_state" with request:`,y);const b=Ft(this,_t,"f").call(this);try{const t=await Ft(this,lt,"m",Rt).call(this,{request:()=>Ft(this,gt,"f").call(this,""+new URL(`/api/v2/canister/${p.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},Ft(this,bt,"f")),y.request),{body:g})),backoff:b,tries:0});if(!t.ok)throw new Error(`Server returned an error:\n  Code: ${t.status} (${t.statusText})\n  Body: ${await t.text()}\n`);const e=s.D4(await t.arrayBuffer());this.log.print("Read state response:",e);const r=await this.parseTimeFromResponse(e);return r>0&&(this.log.print("Read state response time:",r),jt(this,It,r,"f")),e}catch(w){const t=`Caught exception while attempting to read state: ${null!==(o=w.message)&&void 0!==o?o:String(w)}`,e=new h.hx(t,w,String(d),(0,c.nj)(null===(a=null===y||void 0===y?void 0:y.body)||void 0===a?void 0:a.sender_pubkey),(0,c.nj)(null===(u=null===y||void 0===y?void 0:y.body)||void 0===u?void 0:u.sender_sig),String(null===(f=null===y||void 0===y?void 0:y.body)||void 0===f?void 0:f.content.ingress_expiry["_value"]));throw this.log.error(t,e),e}}async parseTimeFromResponse(t){let e;if(t.certificate){const r=s.D4(t.certificate);if(!r||!("tree"in r))throw new Error("Could not decode time from response");e=r.tree;const n=(0,d.hV)(["time"],e);if(n.status!==d.hi.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(n.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(n))throw new Error("Time was not found in the response or was not in its expected format.");const i=(0,et.A)((0,c.em)(n.value));return this.log.print("Time from response:",i),this.log.print("Time from response in milliseconds:",Number(i)),Number(i)}return this.log.warn("No certificate found in response"),0}async syncTime(t){await Ft(this,lt,"m",Ut).call(this);const e=await Promise.resolve().then(r.bind(r,7887)),i=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const r=Zt.createSync({identity:new o.mC,host:this.host.toString(),fetch:Ft(this,gt,"f"),retryTimes:0}),s=await e.request({canisterId:null!==t&&void 0!==t?t:n.p.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:r,paths:["time"]}),a=s.get("time");a&&(jt(this,mt,Number(a)-Number(i),"f"),this.log.notify({message:`Syncing time: offset of ${Ft(this,mt,"f")}`,level:"info"}))}catch(s){this.log.error("Caught exception while attempting to sync time",s)}}async status(){const t=Ft(this,vt,"f")?{Authorization:"Basic "+btoa(Ft(this,vt,"f"))}:{};this.log.print('fetching "/api/v2/status"');const e=Ft(this,_t,"f").call(this),r=await Ft(this,lt,"m",Rt).call(this,{backoff:e,request:()=>Ft(this,gt,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},Ft(this,bt,"f"))),tries:0});return s.D4(await r.arrayBuffer())}async fetchRootKey(){let t;return Ft(this,dt,"f")||jt(this,dt,new Promise(((t,e)=>{this.status().then((e=>{const r=e.root_key;this.rootKey=r,t(r)})).catch(e)})),"f"),t=await Ft(this,dt,"f"),jt(this,dt,null,"f"),t}invalidateIdentity(){jt(this,yt,null,"f")}replaceIdentity(t){jt(this,yt,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await Ft(this,lt,"m",Ut).call(this);const e=n.p.from(t),r=await(0,l.request)({canisterId:e,paths:["subnet"],agent:this}),i=r.get("subnet");if(i&&"object"===typeof i&&"nodeKeys"in i)return Ft(this,Tt,"f").set(e.toText(),i),i}_transform(t){let e=Promise.resolve(t);if("call"===t.endpoint)for(const r of Ft(this,Bt,"f"))e=e.then((t=>r(t).then((e=>e||t))));else for(const r of Ft(this,At,"f"))e=e.then((t=>r(t).then((e=>e||t))));return e}}dt=new WeakMap,pt=new WeakMap,yt=new WeakMap,gt=new WeakMap,bt=new WeakMap,wt=new WeakMap,mt=new WeakMap,vt=new WeakMap,Et=new WeakMap,_t=new WeakMap,xt=new WeakMap,It=new WeakMap,At=new WeakMap,Bt=new WeakMap,Tt=new WeakMap,St=new WeakMap,Nt=new WeakMap,lt=new WeakSet,Ot=async function t(e){var r,n;const{ecid:o,transformedRequest:a,body:c,requestId:f,backoff:l,tries:d}=e,p=0===d?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with tries:`,{tries:d,backoff:l,delay:p}),null===p)throw new i.Yv(`Timestamp failed to pass the watermark after retrying the configured ${Ft(this,Et,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);let y;p>0&&await new Promise((t=>setTimeout(t,p)));try{this.log.print(`fetching "/api/v2/canister/${o.toString()}/query" with request:`,a);const t=await Ft(this,gt,"f").call(this,""+new URL(`/api/v2/canister/${o.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},Ft(this,bt,"f")),a.request),{body:c}));if(200!==t.status)throw new h.tc(`Gateway returned an error:\n  Code: ${t.status} (${t.statusText})\n  Body: ${await t.text()}\n`,{ok:t.ok,status:t.status,statusText:t.statusText,headers:(0,u.Z3)(t.headers)});{const e=s.D4(await t.arrayBuffer());y=Object.assign(Object.assign({},e),{httpDetails:{ok:t.ok,status:t.status,statusText:t.statusText,headers:(0,u.Z3)(t.headers)},requestId:f})}}catch(w){if(d<Ft(this,Et,"f"))return this.log.warn(`Caught exception while attempting to make query:\n  ${w}\n  Retrying query.`),await Ft(this,lt,"m",t).call(this,Object.assign(Object.assign({},e),{tries:d+1}));throw w}const g=null===(n=null===(r=y.signatures)||void 0===r?void 0:r[0])||void 0===n?void 0:n.timestamp;if(!Ft(this,St,"f"))return y;if(!g)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const b=Number(BigInt(g)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:b}),Number(this.waterMark)>b){const r=new i.Yv("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",r,{timestamp:g,waterMark:this.waterMark}),d<Ft(this,Et,"f"))return await Ft(this,lt,"m",t).call(this,Object.assign(Object.assign({},e),{tries:d+1}));throw new i.Yv(`Timestamp failed to pass the watermark after retrying the configured ${Ft(this,Et,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return y},Rt=async function t(e){const{request:r,backoff:n,tries:o}=e,s=0===o?0:n.next();if(null===s)throw new i.Yv(`Timestamp failed to pass the watermark after retrying the configured ${Ft(this,Et,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);let a;s>0&&await new Promise((t=>setTimeout(t,s)));try{a=await r()}catch(l){if(Ft(this,Et,"f")>o)return this.log.warn(`Caught exception while attempting to make request:\n  ${l}\n  Retrying request.`),await Ft(this,lt,"m",t).call(this,{request:r,backoff:n,tries:o+1});throw l}if(a.ok)return a;const c=await a.clone().text(),f=`Server returned an error:\n  Code: ${a.status} (${a.statusText})\n  Body: ${c}\n`;if(404===a.status&&a.url.includes("api/v3"))throw new h.tc("v3 api not supported. Fall back to v2",{ok:a.ok,status:a.status,statusText:a.statusText,headers:(0,u.Z3)(a.headers)});if(o<Ft(this,Et,"f"))return await Ft(this,lt,"m",t).call(this,{request:r,backoff:n,tries:o+1});throw new h.tc(f,{ok:a.ok,status:a.status,statusText:a.statusText,headers:(0,u.Z3)(a.headers)})},Ut=async function(){if(!this.rootKey){if(null!==this.rootKey||!Ft(this,pt,"f"))throw new i.Yv(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${Ft(this,pt,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`);await this.fetchRootKey()}}},2195:function(t,e,r){"use strict";var n=r(9504),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},2211:function(t,e,r){"use strict";var n=r(9039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2360:function(t,e,r){"use strict";var n,i=r(8551),o=r(6801),s=r(8727),a=r(421),c=r(397),u=r(4055),f=r(6119),h=">",l="<",d="prototype",p="script",y=f("IE_PROTO"),g=function(){},b=function(t){return l+p+h+t+l+"/"+p+h},w=function(t){t.write(b("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=u("iframe"),r="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(b("document.F=Object")),t.close(),t.F},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&n?w(n):m():w(n);var t=s.length;while(t--)delete v[d][s[t]];return v()};a[y]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(g[d]=i(t),r=new g,g[d]=null,r[y]=t):r=v(),void 0===e?r:o.f(r,e)}},2446:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4656));const o=i(r(7179));e.value=o},2475:function(t,e,r){"use strict";var n=r(6518),i=r(8527),o=r(4916),s=!o("isSupersetOf",(function(t){return!t}));n({target:"Set",proto:!0,real:!0,forced:s},{isSupersetOf:i})},2489:function(t,e,r){"use strict";var n=r(6518),i=r(9565),o=r(9306),s=r(8551),a=r(1767),c=r(9462),u=r(6319),f=r(6395),h=r(9539),l=r(4549),d=!f&&l("filter",TypeError),p=c((function(){var t,e,r,n=this.iterator,o=this.predicate,a=this.next;while(1){if(t=s(i(a,n)),e=this.done=!!t.done,e)return;if(r=t.value,u(n,o,[r,this.counter++],!0))return r}}));n({target:"Iterator",proto:!0,real:!0,forced:f||d},{filter:function(t){s(this);try{o(t)}catch(e){h(this,"throw",e)}return d?i(d,this,t):new p(a(this),{predicate:t})}})},2529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},2603:function(t,e,r){"use strict";var n=r(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},2652:function(t,e,r){"use strict";var n=r(6080),i=r(9565),o=r(8551),s=r(6823),a=r(4209),c=r(6198),u=r(1625),f=r(81),h=r(851),l=r(9539),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},y=p.prototype;t.exports=function(t,e,r){var g,b,w,m,v,E,_,x=r&&r.that,I=!(!r||!r.AS_ENTRIES),A=!(!r||!r.IS_RECORD),B=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),S=n(e,x),O=function(t){return g&&l(g,"normal",t),new p(!0,t)},R=function(t){return I?(o(t),T?S(t[0],t[1],O):S(t[0],t[1])):T?S(t,O):S(t)};if(A)g=t.iterator;else if(B)g=t;else{if(b=h(t),!b)throw new d(s(t)+" is not iterable");if(a(b)){for(w=0,m=c(t);m>w;w++)if(v=R(t[w]),v&&u(y,v))return v;return new p(!1)}g=f(t,b)}E=A?t.next:g.next;while(!(_=i(E,g)).done){try{v=R(_.value)}catch(N){l(g,"throw",N)}if("object"==typeof v&&v&&u(y,v))return v}return new p(!1)}},2777:function(t,e,r){"use strict";var n=r(9565),i=r(34),o=r(757),s=r(5966),a=r(4270),c=r(8227),u=TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,c=s(t,f);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!i(r)||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2787:function(t,e,r){"use strict";var n=r(9297),i=r(4901),o=r(8981),s=r(6119),a=r(2211),c=s("IE_PROTO"),u=Object,f=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(n(e,c))return e[c];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof u?f:null}},2796:function(t,e,r){"use strict";var n=r(9039),i=r(4901),o=/#|\.prototype\./,s=function(t,e){var r=c[a(t)];return r===f||r!==u&&(i(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",f=s.POLYFILL="P";t.exports=s},2839:function(t,e,r){"use strict";var n=r(4576),i=n.navigator,o=i&&i.userAgent;t.exports=o?String(o):""},2948:function(t,e,r){"use strict";r.d(e,{q:function(){return i},o:function(){return o}});const n=()=>{if("undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if("undefined"!==typeof crypto&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return"undefined"!==typeof crypto&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(4294967295*Math.random())};var i;function o(){const t=new ArrayBuffer(16),e=new DataView(t),r=n(),i=n(),o=n(),s=n();return e.setUint32(0,r),e.setUint32(4,i),e.setUint32(8,o),e.setUint32(12,s),t}(function(t){t["Call"]="call"})(i||(i={}))},2967:function(t,e,r){"use strict";var n=r(6706),i=r(34),o=r(7750),s=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(a){}return function(r,n){return o(r),s(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},3003:function(t,e,r){"use strict";r.d(e,{p:function(){return b}});r(8111),r(1701),r(8237);const n="abcdefghijklmnopqrstuvwxyz234567",i=Object.create(null);for(let w=0;w<n.length;w++)i[n[w]]=w;function o(t){let e=0,r=0,i="";function o(t){return e<0?r|=t>>-e:r=t<<e&248,e>3?(e-=8,1):(e<4&&(i+=n[r>>3],e+=5),0)}for(let n=0;n<t.length;)n+=o(t[n]);return i+(e<0?n[r>>3]:"")}function s(t){let e=0,r=0;const n=new Uint8Array(4*t.length/3|0);let o=0;function s(t){let s=i[t.toLowerCase()];if(void 0===s)throw new Error(`Invalid character: ${JSON.stringify(t)}`);s<<=3,r|=s>>>e,e+=5,e>=8&&(n[o++]=r,e-=8,r=e>0?s<<5-e&255:0)}for(const i of t)s(i);return n.slice(0,o)}i["0"]=i.o,i["1"]=i.i;const a=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function c(t){const e=new Uint8Array(t);let r=-1;for(let n=0;n<e.length;n++){const t=e[n],i=255&(t^r);r=a[i]^r>>>8}return(-1^r)>>>0}var u=r(4887);function f(t){return u.ZT.create().update(new Uint8Array(t)).digest()}const h="__principal__",l=2,d=4,p="aaaaa-aa",y=t=>{var e;return new Uint8Array((null!==(e=t.match(/.{1,2}/g))&&void 0!==e?e:[]).map((t=>parseInt(t,16))))},g=t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"");class b{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([d]))}static managementCanister(){return this.fromText(p)}static selfAuthenticating(t){const e=f(t);return new this(new Uint8Array([...e,l]))}static from(t){if("string"===typeof t)return b.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new b(t);if("object"===typeof t&&null!==t&&!0===t._isPrincipal)return new b(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(y(t))}static fromText(t){let e=t;if(t.includes(h)){const r=JSON.parse(t);h in r&&(e=r[h])}const r=e.toLowerCase().replace(/-/g,"");let n=s(r);n=n.slice(4,n.length);const i=new this(n);if(i.toText()!==e)throw new Error(`Principal "${i.toText()}" does not have a valid checksum (original value "${e}" may not be a valid Principal ID).`);return i}static fromUint8Array(t){return new this(t)}isAnonymous(){return 1===this._arr.byteLength&&this._arr[0]===d}toUint8Array(){return this._arr}toHex(){return g(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4),e=new DataView(t);e.setUint32(0,c(this._arr));const r=new Uint8Array(t),n=Uint8Array.from(this._arr),i=new Uint8Array([...r,...n]),s=o(i),a=s.match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[h]:this.toText()}}compareTo(t){for(let e=0;e<Math.min(this._arr.length,t._arr.length);e++){if(this._arr[e]<t._arr[e])return"lt";if(this._arr[e]>t._arr[e])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const e=this.compareTo(t);return"lt"==e||"eq"==e}gtEq(t){const e=this.compareTo(t);return"gt"==e||"eq"==e}}},3011:function(t){"use strict";class e{constructor(t,e,r){if(this.tag=t,this.value=e,this.err=r,"number"!==typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=null!=t?t[this.tag]:void 0,"function"!==typeof n&&(n=e["_tag"+this.tag],"function"!==typeof n))return this;try{return n.call(e,this.value)}catch(i){return r=i,this.err=r,this}}}t.exports=e},3167:function(t,e,r){"use strict";var n=r(4901),i=r(34),o=r(2967);t.exports=function(t,e,r){var s,a;return o&&n(s=e.constructor)&&s!==r&&i(a=s.prototype)&&a!==r.prototype&&o(t,a),t}},3392:function(t,e,r){"use strict";var n=r(9504),i=0,o=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},3440:function(t,e,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),s=r(5170),a=r(3789),c=r(8469),u=r(507),f=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=a(t),i=o(e);return s(e)<=r.size?c(e,(function(t){r.includes(t)&&h(i,t)})):u(r.getIterator(),(function(t){f(e,t)&&h(i,t)})),i}},3506:function(t,e,r){"use strict";var n=r(3925),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},3528:function(t,e,r){"use strict";const{URLWithLegacySupport:n,format:i}=r(6034);t.exports=(t,e={},r={},o)=>{let s,a=e.protocol?e.protocol.replace(":",""):"http";a=(r[a]||o||a)+":";try{s=new n(t)}catch(u){s={}}const c=Object.assign({},e,{protocol:a||s.protocol,host:e.host||s.host});return new n(t,i(c)).toString()}},3579:function(t,e,r){"use strict";var n=r(6518),i=r(9565),o=r(2652),s=r(9306),a=r(8551),c=r(1767),u=r(9539),f=r(4549),h=f("some",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:h},{some:function(t){a(this);try{s(t)}catch(n){u(this,"throw",n)}if(h)return i(h,this,t);var e=c(this),r=0;return o(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650:function(t,e,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),s=r(3789),a=r(507),c=i.add,u=i.has,f=i.remove;t.exports=function(t){var e=n(this),r=s(t).getIterator(),i=o(e);return a(r,(function(t){u(e,t)?f(i,t):c(i,t)})),i}},3706:function(t,e,r){"use strict";var n=r(9504),i=r(4901),o=r(7629),s=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3724:function(t,e,r){"use strict";var n=r(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3789:function(t,e,r){"use strict";var n=r(9306),i=r(8551),o=r(9565),s=r(1291),a=r(1767),c="Invalid size",u=RangeError,f=TypeError,h=Math.max,l=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};l.prototype={getIterator:function(){return a(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!==e)throw new f(c);var r=s(e);if(r<0)throw new u(c);return new l(t,r)}},3838:function(t,e,r){"use strict";var n=r(7080),i=r(5170),o=r(8469),s=r(3789);t.exports=function(t){var e=n(this),r=s(t);return!(i(e)>r.size)&&!1!==o(e,(function(t){if(!r.includes(t))return!1}),!0)}},3839:function(t,e,r){"use strict";r.d(e,{D4:function(){return p},lF:function(){return h}});var n=r(875),i=r(2446),o=r(9023);class s{get name(){return"Principal"}get priority(){return 0}match(t){return t&&!0===t._isPrincipal}encode(t){return i.value.bytes(t.toUint8Array())}}class a{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return i.value.bytes(new Uint8Array(t))}}class c{get name(){return"BigInt"}get priority(){return 1}match(t){return"bigint"===typeof t}encode(t){return t>BigInt(0)?i.value.tagged(2,i.value.bytes((0,o.aD)(t.toString(16)))):i.value.tagged(3,i.value.bytes((0,o.aD)((BigInt("-1")*t).toString(16))))}}const u=i.SelfDescribeCborSerializer.withDefaultEncoders(!0);var f;function h(t){return u.serialize(t)}function l(t){const e=t.byteLength;let r=BigInt(0);for(let n=0;n<e;n++)r=r*BigInt(256)+BigInt(t[n]);return r}u.addEncoder(new s),u.addEncoder(new a),u.addEncoder(new c),function(t){t[t["Uint64LittleEndian"]=71]="Uint64LittleEndian",t[t["Semantic"]=55799]="Semantic"}(f||(f={}));class d extends n.Decoder{createByteString(t){return(0,o.xW)(...t)}createByteStringFromHeap(t,e){return t===e?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,e))}}function p(t){const e=new Uint8Array(t),r=new d({size:e.byteLength,tags:{2:t=>l(t),3:t=>-l(t),[f.Semantic]:t=>t}});try{return r.decodeFirst(e)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${(0,o.nj)(e)}`)}}},3853:function(t,e,r){"use strict";var n=r(6518),i=r(4449),o=r(4916),s=!o("isDisjointFrom",(function(t){return!t}));n({target:"Set",proto:!0,real:!0,forced:s},{isDisjointFrom:i})},3925:function(t,e,r){"use strict";var n=r(34);t.exports=function(t){return n(t)||null===t}},4055:function(t,e,r){"use strict";var n=r(4576),i=r(34),o=n.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},4082:function(t,e,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
r(4114);const n=r(6103),i=r(9046),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;e.hp=u,e.IS=50;const s=2147483647;function a(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function c(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return f(t,e,r)}function f(t,e,r){if("string"===typeof t)return p(t,e);if(ArrayBuffer.isView(t))return g(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(st(t,ArrayBuffer)||t&&st(t.buffer,ArrayBuffer))return b(t,e,r);if("undefined"!==typeof SharedArrayBuffer&&(st(t,SharedArrayBuffer)||t&&st(t.buffer,SharedArrayBuffer)))return b(t,e,r);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=w(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t,e,r){return h(t),t<=0?c(t):void 0!==e?"string"===typeof r?c(t).fill(e,r):c(t).fill(e):c(t)}function d(t){return h(t),c(t<0?0:0|m(t))}function p(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|E(t,e);let n=c(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function y(t){const e=t.length<0?0:0|m(t.length),r=c(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function g(t){if(st(t,Uint8Array)){const e=new Uint8Array(t);return b(e.buffer,e.byteOffset,e.byteLength)}return y(t)}function b(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function w(t){if(u.isBuffer(t)){const e=0|m(t.length),r=c(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!==typeof t.length||at(t.length)?c(0):y(t):"Buffer"===t.type&&Array.isArray(t.data)?y(t.data):void 0}function m(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),u.alloc(+t)}function E(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||st(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return it(t).length;default:if(i)return n?-1:et(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return U(this,e,r);case"ascii":return F(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return N(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function I(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,at(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:A(t,e,r,n,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(t,e,r,n,i){let o,s=1,a=t.length,c=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return-1}function B(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(at(n))return s;t[r+s]=n}return s}function T(t,e,r,n){return ot(et(e,t.length-r),t,r,n)}function S(t,e,r,n){return ot(rt(e),t,r,n)}function O(t,e,r,n){return ot(it(e),t,r,n)}function R(t,e,r,n){return ot(nt(e,t.length-r),t,r,n)}function N(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function U(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;while(i<r){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128===(192&r)&&(c=(31&e)<<6|63&r,c>127&&(o=c));break;case 3:r=t[i+1],n=t[i+2],128===(192&r)&&128===(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return j(n)}u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return l(t,e,r)},u.allocUnsafe=function(t){return d(t)},u.allocUnsafeSlow=function(t){return d(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(st(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),st(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(st(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=E,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)x(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?U(this,0,t):_.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(st(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;let o=i-n,s=r-e;const a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return I(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return I(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return B(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function j(t){const e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);let r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=P));return r}function F(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=ct[t[o]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function q(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i){K(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function V(t,e,r,n,i){K(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function $(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(t,e,r,n,o){return e=+e,r>>>=0,o||$(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function G(t,e,r,n,o){return e=+e,r>>>=0,o||$(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=this[t],i=1,o=0;while(++o<e&&(i*=256))n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||M(t,e,this.length);let n=e,i=1,o=this[t+--n];while(n>0&&(i*=256))o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=ut((function(t){t>>>=0,X(t,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||J(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){const n=Math.pow(2,8*r)-1;q(this,t,e,r,n,0)}let i=1,o=0;this[e]=255&t;while(++o<r&&(i*=256))this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){const n=Math.pow(2,8*r)-1;q(this,t,e,r,n,0)}let i=r-1,o=1;this[e+i]=255&t;while(--i>=0&&(o*=256))this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=ut((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=ut((function(t,e=0){return V(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);q(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;this[e]=255&t;while(++i<r&&(o*=256))t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);q(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;this[e+i]=255&t;while(--i>=0&&(o*=256))t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||q(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=ut((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=ut((function(t,e=0){return V(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return z(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return z(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return G(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return G(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const H={};function Y(t,e,r){H[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function W(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Z(t,e,r){X(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||J(e,t.length-(r+1))}function K(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"===typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new H.ERR_OUT_OF_RANGE("value",i,t)}Z(n,i,o)}function X(t,e){if("number"!==typeof t)throw new H.ERR_INVALID_ARG_TYPE(e,"number",t)}function J(t,e,r){if(Math.floor(t)!==t)throw X(t,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Y("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const Q=/[^+/0-9A-Za-z-_]/g;function tt(t){if(t=t.split("=")[0],t=t.trim().replace(Q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function et(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function rt(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function nt(t,e){let r,n,i;const o=[];for(let s=0;s<t.length;++s){if((e-=2)<0)break;r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function it(t){return n.toByteArray(tt(t))}function ot(t,e,r,n){let i;for(i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function st(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function at(t){return t!==t}const ct=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function ut(t){return"undefined"===typeof BigInt?ft:t}function ft(){throw new Error("BigInt not supported")}},4114:function(t,e,r){"use strict";var n=r(6518),i=r(8981),o=r(6198),s=r(4527),a=r(6837),c=r(9039),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),f=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=u||!f();n({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=i(this),r=o(e),n=arguments.length;a(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return s(e,r),r}})},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},4198:function(t,e,r){"use strict";const{Buffer:n}=r(712),i=r(8577).BigNumber,o=r(7646),s=o.SHIFT32,a=o.SHIFT16,c=2097151;function u(t){return t<16?"0"+t.toString(16):t.toString(16)}e.parseHalf=function(t){var e,r,n;return n=128&t[0]?-1:1,e=(124&t[0])>>2,r=(3&t[0])<<8|t[1],e?31===e?n*(r?NaN:Infinity):n*Math.pow(2,e-25)*(1024+r):5.960464477539063e-8*n*r},e.arrayBufferToBignumber=function(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=u(t[n]);return new i(r,16)},e.buildMap=t=>{const e=new Map,r=Object.keys(t),n=r.length;for(let i=0;i<n;i++)e.set(r[i],t[r[i]]);return e},e.buildInt32=(t,e)=>t*a+e,e.buildInt64=(t,r,n,o)=>{const a=e.buildInt32(t,r),u=e.buildInt32(n,o);return a>c?new i(a).times(s).plus(u):a*s+u},e.writeHalf=function(t,e){const r=n.allocUnsafe(4);r.writeFloatBE(e,0);const i=r.readUInt32BE(0);if(0!==(8191&i))return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return t.writeUInt16BE(o,0),!0},e.keySorter=function(t,e){var r=t[0].byteLength,n=e[0].byteLength;return r>n?1:n>r?-1:t[0].compare(e[0])},e.isNegativeZero=t=>0===t&&1/t<0,e.nextPowerOf2=t=>{let e=0;if(t&&!(t&t-1))return t;while(0!==t)t>>=1,e+=1;return 1<<e}},4204:function(t,e,r){"use strict";var n=r(7080),i=r(4402).add,o=r(9286),s=r(3789),a=r(507);t.exports=function(t){var e=n(this),r=s(t).getIterator(),c=o(e);return a(r,(function(t){i(c,t)})),c}},4209:function(t,e,r){"use strict";var n=r(8227),i=r(6269),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},4270:function(t,e,r){"use strict";var n=r(9565),i=r(4901),o=r(34),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&i(r=t.toString)&&!o(a=n(r,t)))return a;if(i(r=t.valueOf)&&!o(a=n(r,t)))return a;if("string"!==e&&i(r=t.toString)&&!o(a=n(r,t)))return a;throw new s("Can't convert object to primitive value")}},4356:function(t,e,r){"use strict";r.d(e,{Bx:function(){return T},Gk:function(){return O},Xr:function(){return E},bK:function(){return y},hV:function(){return B},hi:function(){return I},us:function(){return b}});r(8111),r(1701),r(3579);var n,i,o=r(3839),s=r(6460),a=r(5652),c=r(9023),u=r(3003),f=r(6917),h=r(5258),l=r(1587),d=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},p=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};class y extends s.Yv{constructor(t){super(`Invalid certificate: ${t}`)}}function g(t,e){const r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}(function(t){t[t["Empty"]=0]="Empty",t[t["Fork"]=1]="Fork",t[t["Labeled"]=2]="Labeled",t[t["Leaf"]=3]="Leaf",t[t["Pruned"]=4]="Pruned"})(i||(i={}));class b{constructor(t,e,r,i,s=5,a=!1){this._rootKey=e,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=s,n.set(this,!1),d(this,n,a,"f"),this.cert=o.D4(new Uint8Array(t))}static async create(t){const e=b.createUnverified(t);return await e.verify(),e}static createUnverified(t){let e=t.blsVerify;return e||(e=f.r),new b(t.certificate,t.rootKey,t.canisterId,e,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return B(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await _(this.cert.tree),e=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=v(e),o=(0,c.xW)(x("ic-state-root"),t);let s=!1;const a=E(this.lookup(["time"]));if(!a)throw new y("Certificate does not contain a time");if(!p(this,n,"f")){const t=3e5,e=60*this._maxAgeInMinutes*1e3,r=Date.now(),n=r-e,i=r+t,o=(0,h.A)(a);if(o.getTime()<n)throw new y(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+o.toISOString()+" Current time: "+new Date(r).toISOString());if(o.getTime()>i)throw new y("Certificate is signed more than 5 minutes in the future. Certificate time: "+o.toISOString()+" Current time: "+new Date(r).toISOString())}try{s=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(o))}catch(u){s=!1}if(!s)throw new y("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const e=await b.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(e.cert.delegation)throw new y("Delegation certificates cannot be nested");if(await e.verify(),this._canisterId.toString()!==l.GZ){const r=O({canisterId:this._canisterId,subnetId:u.p.fromUint8Array(new Uint8Array(t.subnet_id)),tree:e.cert.tree});if(!r)throw new y(`Canister ${this._canisterId} not in range of delegations for subnet 0x${(0,c.nj)(t.subnet_id)}`)}const r=E(e.lookup(["subnet",t.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${(0,c.nj)(t.subnet_id)}`);return r}}n=new WeakMap;const w=(0,c.aD)("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),m=96;function v(t){const e=w.byteLength+m;if(t.byteLength!==e)throw new TypeError(`BLS DER-encoded public key must be ${e} bytes long`);const r=t.slice(0,w.byteLength);if(!(0,c.HA)(r,w))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${w}, but get ${r}`);return t.slice(w.byteLength)}function E(t){if(t.status===I.Found)return t.value instanceof ArrayBuffer?t.value:t.value instanceof Uint8Array?t.value.buffer:void 0}async function _(t){switch(t[0]){case i.Empty:return(0,a.tW)(x("ic-hashtree-empty"));case i.Pruned:return t[1];case i.Leaf:return(0,a.tW)((0,c.xW)(x("ic-hashtree-leaf"),t[1]));case i.Labeled:return(0,a.tW)((0,c.xW)(x("ic-hashtree-labeled"),t[1],await _(t[2])));case i.Fork:return(0,a.tW)((0,c.xW)(x("ic-hashtree-fork"),await _(t[1]),await _(t[2])));default:throw new Error("unreachable")}}function x(t){const e=new Uint8Array([t.length]),r=(new TextEncoder).encode(t);return(0,c.xW)(e,r)}var I,A;function B(t,e){if(0===t.length)switch(e[0]){case i.Leaf:if(!e[1])throw new Error("Invalid tree structure for leaf");return e[1]instanceof ArrayBuffer?{status:I.Found,value:e[1]}:e[1]instanceof Uint8Array?{status:I.Found,value:e[1].buffer}:{status:I.Found,value:e[1]};default:return{status:I.Found,value:e}}const r="string"===typeof t[0]?(new TextEncoder).encode(t[0]):t[0],n=S(r,e);switch(n.status){case I.Found:return B(t.slice(1),n.value);case A.Greater:case A.Less:return{status:I.Absent};default:return n}}function T(t){switch(t[0]){case i.Empty:return[];case i.Fork:return T(t[1]).concat(T(t[2]));default:return[t]}}function S(t,e){switch(e[0]){case i.Labeled:return g(t,e[1])?{status:A.Greater}:(0,c.HA)(t,e[1])?{status:I.Found,value:e[2]}:{status:A.Less};case i.Fork:const r=S(t,e[1]);switch(r.status){case A.Greater:{const r=S(t,e[2]);return r.status===A.Less?{status:I.Absent}:r}case I.Unknown:{let r=S(t,e[2]);return r.status===A.Less?{status:I.Unknown}:r}default:return r}case i.Pruned:return{status:I.Unknown};default:return{status:I.Absent}}}function O(t){const{canisterId:e,subnetId:r,tree:n}=t,i=B(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==I.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);const s=o.D4(i.value),a=s.map((t=>[u.p.fromUint8Array(t[0]),u.p.fromUint8Array(t[1])])),c=a.some((t=>t[0].ltEq(e)&&t[1].gtEq(e)));return c}(function(t){t["Unknown"]="unknown",t["Absent"]="absent",t["Found"]="found"})(I||(I={})),function(t){t["Less"]="less",t["Greater"]="greater"}(A||(A={}))},4376:function(t,e,r){"use strict";var n=r(2195);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4402:function(t,e,r){"use strict";var n=r(9504),i=Set.prototype;t.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i["delete"]),proto:i}},4449:function(t,e,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),s=r(3789),a=r(8469),c=r(507),u=r(9539);t.exports=function(t){var e=n(this),r=s(t);if(o(e)<=r.size)return!1!==a(e,(function(t){if(r.includes(t))return!1}),!0);var f=r.getIterator();return!1!==c(f,(function(t){if(i(e,t))return u(f,"normal",!1)}))}},4495:function(t,e,r){"use strict";var n=r(9519),i=r(9039),o=r(4576),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4527:function(t,e,r){"use strict";var n=r(3724),i=r(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4549:function(t,e,r){"use strict";var n=r(4576);t.exports=function(t,e){var r=n.Iterator,i=r&&r.prototype,o=i&&i[t],s=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(a){a instanceof e||(s=!1)}if(!s)return o}},4576:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4656:function(t,e,r){"use strict";r(8111),r(1701),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698);var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(7179)),o=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class s{constructor(t,e=!1){this._serializer=t,this._stable=e,this.name="jsonDefault",this.priority=-100}match(t){return-1!=["undefined","boolean","number","string","object"].indexOf(typeof t)}encode(t){switch(typeof t){case"undefined":return i.undefined_();case"boolean":return i.bool(t);case"number":return Math.floor(t)===t?i.number(t):i.doubleFloat(t);case"string":return i.string(t);case"object":if(null===t)return i.null_();if(Array.isArray(t))return i.array(t.map((t=>this._serializer.serializeValue(t))));if(o.find((e=>t instanceof e)))return i.bytes(t.buffer);if(-1!==Object.getOwnPropertyNames(t).indexOf("toJSON"))return this.encode(t.toJSON());if(t instanceof Map){const e=new Map;for(const[r,n]of t.entries())e.set(r,this._serializer.serializeValue(n));return i.map(e,this._stable)}{const e=new Map;for(const[r,n]of Object.entries(t))e.set(r,this._serializer.serializeValue(n));return i.map(e,this._stable)}default:throw new Error("Invalid value.")}}}e.JsonDefaultCborEncoder=s;class a{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return"object"==typeof t&&"function"==typeof t["toCBOR"]}encode(t){return t.toCBOR()}}e.ToCborEncoder=a;class c{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const e=new this;return e.addEncoder(new s(e,t)),e.addEncoder(new a),e}removeEncoder(t){for(const e of this._encoders.values())e.name==t&&this._encoders.delete(e)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let e=null;for(const r of this._encoders)(!e||r.priority>e.priority)&&r.match(t)&&(e=r);if(null===e)throw new Error("Could not find an encoder for value.");return e}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}e.CborSerializer=c;class u extends c{serialize(t){return i.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}e.SelfDescribeCborSerializer=u},4659:function(t,e,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},4887:function(t,e,r){"use strict";r.d(e,{ZT:function(){return o},sc:function(){return i}});var n=r(940);const i=n.sc,o=n.ZT},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,r){"use strict";var n=r(3724),i=r(5917),o=r(8686),s=r(8551),a=r(6969),c=TypeError,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",l="configurable",d="writable";e.f=n?o?function(t,e,r){if(s(t),e=a(e),s(r),"function"===typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=f(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:l in r?r[l]:n[l],enumerable:h in r?r[h]:n[h],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(s(t),e=a(e),s(r),i)try{return u(t,e,r)}catch(n){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},4916:function(t,e,r){"use strict";var n=r(7751),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},o=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var r=n("Set");try{(new r)[t](i(0));try{return(new r)[t](i(-1)),!1}catch(a){if(!e)return!0;try{return(new r)[t](o(-1/0)),!1}catch(c){var s=new r;return s.add(1),s.add(2),e(s[t](o(1/0)))}}}catch(c){return!1}}},4979:function(t,e,r){"use strict";var n=r(6518),i=r(4576),o=r(7751),s=r(6980),a=r(4913).f,c=r(9297),u=r(679),f=r(3167),h=r(2603),l=r(5002),d=r(6193),p=r(3724),y=r(6395),g="DOMException",b=o("Error"),w=o(g),m=function(){u(this,v);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=new w(e,r),i=new b(e);return i.name=g,a(n,"stack",s(1,d(i.stack,1))),f(n,this,m),n},v=m.prototype=w.prototype,E="stack"in new b(g),_="stack"in new w(1,2),x=w&&p&&Object.getOwnPropertyDescriptor(i,g),I=!!x&&!(x.writable&&x.configurable),A=E&&!I&&!_;n({global:!0,constructor:!0,forced:y||A},{DOMException:A?m:w});var B=o(g),T=B.prototype;if(T.constructor!==B)for(var S in y||a(T,"constructor",s(1,B)),l)if(c(l,S)){var O=l[S],R=O.s;c(B,R)||a(B,R,s(6,O.c))}},5002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5024:function(t,e,r){"use strict";var n=r(6518),i=r(3650),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:i})},5031:function(t,e,r){"use strict";var n=r(7751),i=r(9504),o=r(8480),s=r(3717),a=r(8551),c=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),r=s.f;return r?c(e,r(t)):e}},5170:function(t,e,r){"use strict";var n=r(6706),i=r(4402);t.exports=n(i.proto,"size","get")||function(t){return t.size}},5258:function(t,e,r){"use strict";r.d(e,{A:function(){return o},b:function(){return i}});var n=r(9441);const i=t=>(0,n.Ui)(new n.Ki(t)),o=t=>{const e=i(t);return new Date(Number(e)/1e6)}},5397:function(t,e,r){"use strict";var n=r(7055),i=r(7750);t.exports=function(t){return n(i(t))}},5404:function(t,e,r){"use strict";r.d(e,{AI:function(){return _},DO:function(){return s},GU:function(){return T},Id:function(){return E},My:function(){return l},OG:function(){return S},Ph:function(){return g},Q5:function(){return R},SJ:function(){return N},aK:function(){return A},aY:function(){return o},dJ:function(){return B},e8:function(){return a},lX:function(){return b},lq:function(){return w},qj:function(){return v},r4:function(){return I},x:function(){return U},z:function(){return m},zW:function(){return c}});r(4114);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n=BigInt(0),i=BigInt(1);function o(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function s(t){if(!o(t))throw new Error("Uint8Array expected")}function a(t,e){if("boolean"!==typeof e)throw new Error(t+" boolean expected, got "+e)}function c(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function u(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?n:BigInt("0x"+t)}const f="function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex,h=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function l(t){if(s(t),f)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=h[t[r]];return e}const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(t){return t>=d._0&&t<=d._9?t-d._0:t>=d.A&&t<=d.F?t-(d.A-10):t>=d.a&&t<=d.f?t-(d.a-10):void 0}function y(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);if(f)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const e=p(t.charCodeAt(o)),r=p(t.charCodeAt(o+1));if(void 0===e||void 0===r){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}n[i]=16*e+r}return n}function g(t){return u(l(t))}function b(t){return s(t),u(l(Uint8Array.from(t).reverse()))}function w(t,e){return y(t.toString(16).padStart(2*e,"0"))}function m(t,e){return w(t,e).reverse()}function v(t,e,r){let n;if("string"===typeof e)try{n=y(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else{if(!o(e))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function E(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];s(r),e+=r.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}function _(t){if("string"!==typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}const x=t=>"bigint"===typeof t&&n<=t;function I(t,e,r){return x(t)&&x(e)&&x(r)&&e<=t&&t<r}function A(t,e,r,n){if(!I(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function B(t){let e;for(e=0;t>n;t>>=i,e+=1);return e}function T(t,e){return t>>BigInt(e)&i}const S=t=>(i<<BigInt(t))-i;const O={bigint:t=>"bigint"===typeof t,function:t=>"function"===typeof t,boolean:t=>"boolean"===typeof t,string:t=>"string"===typeof t,stringOrUint8Array:t=>"string"===typeof t||o(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"===typeof t&&Number.isSafeInteger(t.outputLen)};function R(t,e,r={}){const n=(e,r,n)=>{const i=O[r];if("function"!==typeof i)throw new Error("invalid validator function");const o=t[e];if((!n||void 0!==o)&&!i(o,t))throw new Error("param "+String(e)+" is invalid. Expected "+r+", got "+o)};for(const[i,o]of Object.entries(e))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return t}const N=()=>{throw new Error("not implemented")};function U(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(void 0!==i)return i;const o=t(r,...n);return e.set(r,o),o}}},5610:function(t,e,r){"use strict";var n=r(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5627:function(t,e,r){"use strict";r.d(e,{hx:function(){return a},oj:function(){return s},tc:function(){return i},wn:function(){return o}});var n=r(6460);class i extends n.Yv{constructor(t,e){super(t),this.response=e,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class o extends n.Yv{constructor(t,e,r,n,i,o){super(t),this.response=e,this.requestId=r,this.senderPubkey=n,this.senderSig=i,this.ingressExpiry=o,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class s extends n.Yv{constructor(t,e,r,n,i,o){super(t),this.response=e,this.requestId=r,this.senderPubkey=n,this.senderSig=i,this.ingressExpiry=o,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class a extends n.Yv{constructor(t,e,r,n,i,o){super(t),this.response=e,this.requestId=r,this.senderPubkey=n,this.senderSig=i,this.ingressExpiry=o,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}},5652:function(t,e,r){"use strict";r.d(e,{Gb:function(){return f},tW:function(){return a},uF:function(){return h}});r(8111),r(2489),r(1701);var n=r(9441),i=r(875),o=r(4887),s=r(9023);function a(t){return(0,s.Nn)(o.sc.create().update(new Uint8Array(t)).digest())}function c(t){if(t instanceof i.Tagged)return c(t.value);if("string"===typeof t)return u(t);if("number"===typeof t)return a((0,n.kk)(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return a(t);if(Array.isArray(t)){const e=t.map(c);return a((0,s.xW)(...e))}if(t&&"object"===typeof t&&t._isPrincipal)return a(t.toUint8Array());if("object"===typeof t&&null!==t&&"function"===typeof t.toHash)return c(t.toHash());if("object"===typeof t)return h(t);if("bigint"===typeof t)return a((0,n.kk)(t));throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const u=t=>{const e=(new TextEncoder).encode(t);return a(e)};function f(t){return h(t)}function h(t){const e=Object.entries(t).filter((([,t])=>void 0!==t)).map((([t,e])=>{const r=u(t),n=c(e);return[r,n]})),r=e,n=r.sort((([t],[e])=>(0,s.UD)(t,e))),i=(0,s.xW)(...n.map((t=>(0,s.xW)(...t)))),o=a(i);return o}},5735:function(t,e,r){"use strict";r(4114);const{Buffer:n}=r(712),i=r(9046),o=r(8577).BigNumber,s=r(7154),a=r(4198),c=r(7646),u=r(9261),f=r(3011),{URL:h}=r(7795);class l{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=a.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=n.from(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(1e3*t),2:t=>a.arrayBufferToBignumber(t),3:t=>c.NEG_ONE.minus(a.arrayBufferToBignumber(t)),4:t=>c.TEN.pow(t[0]).times(t[1]),5:t=>c.TWO.pow(t[0]).times(t[1]),32:t=>new h(t),35:t=>new RegExp(t)},t.tags),this.parser=s(r.g,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case c.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case c.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case c.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case c.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break;default:break}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,0===t.length&&this._closeParent())}_push(t,e){const r=this._currentParent;switch(r.values++,r.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=t:this._ref.push(t),this._dec();break;case c.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=t,r.tmpKey=null,this._dec()):(r.tmpKey=t,"string"!==typeof r.tmpKey&&(r.type=c.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case c.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,t),r.tmpKey=null,this._dec()):r.tmpKey=t;break;case c.PARENT.TAG:this._ref.push(t),e||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,e,r){this._parents[this._depth]={type:e,length:r,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,e){const r=this._knownTags[t];return r?r(e):new f(t,e)}createMap(t,e){return t}createObject(t,e){return t}createArray(t,e){return t}createByteString(t,e){return n.concat(t)}createByteStringFromHeap(t,e){return t===e?n.alloc(0):n.from(this._heap.slice(t,e))}createInt(t){return t}createInt32(t,e){return a.buildInt32(t,e)}createInt64(t,e,r,n){return a.buildInt64(t,e,r,n)}createFloat(t){return t}createFloatSingle(t,e,r,n){return i.read([t,e,r,n],0,!1,23,4)}createFloatDouble(t,e,r,n,o,s,a,c){return i.read([t,e,r,n,o,s,a,c],0,!1,52,8)}createInt32Neg(t,e){return-1-a.buildInt32(t,e)}createInt64Neg(t,e,r,n){const i=a.buildInt32(t,e),s=a.buildInt32(r,n);return i>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new o(i).times(c.SHIFT32).plus(s)):-1-(i*c.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,e){return t.join("")}createUtf8StringFromHeap(t,e){return t===e?"":this._buffer.toString("utf8",t,e)}createSimpleUnassigned(t){return new u(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,e){this._push(this.createInt32(t,e))}pushInt64(t,e,r,n){this._push(this.createInt64(t,e,r,n))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,e,r,n){this._push(this.createFloatSingle(t,e,r,n))}pushFloatDouble(t,e,r,n,i,o,s,a){this._push(this.createFloatDouble(t,e,r,n,i,o,s,a))}pushInt32Neg(t,e){this._push(this.createInt32Neg(t,e))}pushInt64Neg(t,e,r,n){this._push(this.createInt64Neg(t,e,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,e){const r=a.buildInt32(t,e);this._createArrayStartFixed(r)}pushArrayStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,e){const r=a.buildInt32(t,e);this._createObjectStartFixed(r)}pushObjectStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,e){this._push(this.createByteStringFromHeap(t,e))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,e){this._push(this.createUtf8StringFromHeap(t,e))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,e){this.pushTagStart(a.buildInt32(t,e))}pushTagStart8(t,e,r,n){this.pushTagStart(a.buildInt64(t,e,r,n))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){0!==t?this._createParent({},c.PARENT.OBJECT,t):this._push(this.createObject({}))}_createArrayStartFixed(t){0!==t?this._createParent(new Array(t),c.PARENT.ARRAY,t):this._push(this.createArray([]))}_decode(t){if(0===t.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(t);const e=this.parser.parse(t.byteLength);if(this._depth>1){while(0===this._currentParent.length)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(e>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,e){"string"===typeof t&&(t=n.from(t,e||"hex"));const r=new l({size:t.length});return r.decodeFirst(t)}static decodeAll(t,e){"string"===typeof t&&(t=n.from(t,e||"hex"));const r=new l({size:t.length});return r.decodeAll(t)}}l.decodeFirst=l.decode,t.exports=l},5745:function(t,e,r){"use strict";var n=r(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},5876:function(t,e,r){"use strict";var n=r(6518),i=r(3838),o=r(4916),s=!o("isSubsetOf",(function(t){return t}));n({target:"Set",proto:!0,real:!0,forced:s},{isSubsetOf:i})},5917:function(t,e,r){"use strict";var n=r(3724),i=r(9039),o=r(4055);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5966:function(t,e,r){"use strict";var n=r(9306),i=r(4117);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},6010:function(t,e,r){"use strict";r.d(e,{G:function(){return c}});var n,i,o=r(7e3),s=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},a=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};class c{constructor(t){if(n.set(this,void 0),i.set(this,void 0),t.byteLength!==c.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");s(this,n,t,"f"),s(this,i,c.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new c(t)}static fromDer(t){return new c(this.derDecode(t))}static derEncode(t){return(0,o.C2)(t,o.le).buffer}static derDecode(t){const e=(0,o.n9)(t,o.le);if(e.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return e}get rawKey(){return a(this,n,"f")}get derKey(){return a(this,i,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}n=new WeakMap,i=new WeakMap,c.RAW_KEY_LENGTH=32},6034:function(t){"use strict";const e=self.location?self.location.protocol+"//"+self.location.host:"",r=self.URL;class n{constructor(t="",n=e){this.super=new r(t,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function i(t){if("string"===typeof t){const e=new r(t);return e.toString()}if(!(t instanceof r)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",r=t.auth?t.auth+"@":"",n=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",o=t.host||"",s=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),c=t.hash||"",u=t.pathname||"",f=t.path||u+a;return`${i}${e||r}${o||s+n}${f}${c}`}}t.exports={URLWithLegacySupport:n,URLSearchParams:self.URLSearchParams,defaultBase:e,format:i}},6080:function(t,e,r){"use strict";var n=r(7476),i=r(9306),o=r(616),s=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},6103:function(t,e,r){"use strict";r(4114),e.byteLength=f,e.toByteArray=l,e.fromByteArray=y;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function f(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function h(t,e,r){return 3*(e+r)/4-r}function l(t){var e,r,n=u(t),s=n[0],a=n[1],c=new o(h(t,s,a)),f=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;return 2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,c[f++]=255&e),1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e),c}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(n));return i.join("")}function y(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(p(t,a,a+s>c?c:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},6119:function(t,e,r){"use strict";var n=r(5745),i=r(3392),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},6193:function(t,e,r){"use strict";var n=r(9504),i=Error,o=n("".replace),s=function(t){return String(new i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=o(t,a,"");return t}},6198:function(t,e,r){"use strict";var n=r(8014);t.exports=function(t){return n(t.length)}},6210:function(t,e,r){"use strict";r.d(e,{Ag:function(){return x},qB:function(){return i.qB}});r(4114),r(8111),r(1701);var n=r(4082),i=r(1587),o=r(6460),s=r(9441),a=r(4356),c=r(9023);const u=3e5;function f(){return y(l(h(),1e3),p(1e3,1.2),d(u))}function h(){let t=!0;return async()=>!!t&&(t=!1,!0)}function l(t,e){return async(r,n,i)=>{if(await t(r,n,i))return new Promise((t=>setTimeout(t,e)))}}function d(t){const e=Date.now()+t;return async(r,n,i)=>{if(Date.now()>e)throw new Error(`Request timed out after ${t} msec:\n  Request ID: ${(0,c.nj)(n)}\n  Request status: ${i}\n`)}}function p(t,e){let r=t;return()=>new Promise((t=>setTimeout((()=>{r*=e,t()}),r)))}function y(...t){return async(e,r,n)=>{for(const i of t)await i(e,r,n)}}async function g(t,e,r,n=f(),o,s){var u;const h=[(new TextEncoder).encode("request_status"),r],l=null!==o&&void 0!==o?o:await(null===(u=t.createReadStateRequest)||void 0===u?void 0:u.call(t,{paths:[h]})),d=await t.readState(e,{paths:[h]},void 0,l);if(null==t.rootKey)throw new Error("Agent root key not initialized before polling");const p=await a.us.create({certificate:d.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:s}),y=(0,a.Xr)(p.lookup([...h,(new TextEncoder).encode("status")]));let b;switch(b="undefined"===typeof y?i.BY.Unknown:(new TextDecoder).decode(y),b){case i.BY.Replied:return{reply:(0,a.Xr)(p.lookup([...h,"reply"])),certificate:p};case i.BY.Received:case i.BY.Unknown:case i.BY.Processing:return await n(e,r,b),g(t,e,r,n,l,s);case i.BY.Rejected:{const t=new Uint8Array((0,a.Xr)(p.lookup([...h,"reject_code"])))[0],e=(new TextDecoder).decode((0,a.Xr)(p.lookup([...h,"reject_message"])));throw new Error(`Call was rejected:\n  Request ID: ${(0,c.nj)(r)}\n  Reject code: ${t}\n  Reject text: ${e}\n`)}case i.BY.Done:throw new Error(`Call was marked as done but we never saw the reply:\n  Request ID: ${(0,c.nj)(r)}\n`)}throw new Error("unreachable")}var b=r(3003),w=({IDL:t})=>{const e=t.Variant({mainnet:t.Null,testnet:t.Null}),r=t.Text,n=t.Record({network:e,address:r,min_confirmations:t.Opt(t.Nat32)}),i=t.Nat64,o=i,s=t.Nat32,a=t.Record({start_height:s,end_height:t.Opt(s),network:e}),c=t.Vec(t.Nat8),u=t.Record({tip_height:s,block_headers:t.Vec(c)}),f=t.Record({network:e}),h=t.Nat64,l=t.Vec(h),d=t.Record({network:e,filter:t.Opt(t.Variant({page:t.Vec(t.Nat8),min_confirmations:t.Nat32})),address:r}),p=t.Vec(t.Nat8),y=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),g=t.Record({height:t.Nat32,value:i,outpoint:y}),b=t.Record({next_page:t.Opt(t.Vec(t.Nat8)),tip_height:s,tip_block_hash:p,utxos:t.Vec(g)}),w=t.Record({transaction:t.Vec(t.Nat8),network:e}),m=t.Principal,v=t.Record({canister_id:m,num_requested_changes:t.Opt(t.Nat64)}),E=t.Variant({from_user:t.Record({user_id:t.Principal}),from_canister:t.Record({canister_version:t.Opt(t.Nat64),canister_id:t.Principal})}),_=t.Vec(t.Nat8),x=t.Variant({creation:t.Record({controllers:t.Vec(t.Principal)}),code_deployment:t.Record({mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),module_hash:t.Vec(t.Nat8)}),load_snapshot:t.Record({canister_version:t.Nat64,taken_at_timestamp:t.Nat64,snapshot_id:_}),controllers_change:t.Record({controllers:t.Vec(t.Principal)}),code_uninstall:t.Null}),I=t.Record({timestamp_nanos:t.Nat64,canister_version:t.Nat64,origin:E,details:x}),A=t.Record({controllers:t.Vec(t.Principal),module_hash:t.Opt(t.Vec(t.Nat8)),recent_changes:t.Vec(I),total_num_changes:t.Nat64}),B=t.Record({canister_id:m}),T=t.Variant({controllers:t.Null,public:t.Null,allowed_viewers:t.Vec(t.Principal)}),S=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),reserved_cycles_limit:t.Nat,log_visibility:T,wasm_memory_limit:t.Nat,memory_allocation:t.Nat,compute_allocation:t.Nat}),O=t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:S,query_stats:t.Record({response_payload_bytes_total:t.Nat,num_instructions_total:t.Nat,num_calls_total:t.Nat,request_payload_bytes_total:t.Nat}),idle_cycles_burned_per_day:t.Nat,module_hash:t.Opt(t.Vec(t.Nat8)),reserved_cycles:t.Nat}),R=t.Record({canister_id:m}),N=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),reserved_cycles_limit:t.Opt(t.Nat),log_visibility:t.Opt(T),wasm_memory_limit:t.Opt(t.Nat),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),U=t.Record({settings:t.Opt(N),sender_canister_version:t.Opt(t.Nat64)}),P=t.Record({canister_id:m}),j=t.Record({canister_id:m}),F=t.Record({canister_id:m,snapshot_id:_}),k=t.Record({canister_id:m}),L=t.Variant({secp256k1:t.Null}),D=t.Record({key_id:t.Record({name:t.Text,curve:L}),canister_id:t.Opt(m),derivation_path:t.Vec(t.Vec(t.Nat8))}),M=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),q=t.Record({canister_id:m}),C=t.Record({idx:t.Nat64,timestamp_nanos:t.Nat64,content:t.Vec(t.Nat8)}),V=t.Record({canister_log_records:t.Vec(C)}),$=t.Record({value:t.Text,name:t.Text}),z=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec($)}),G=t.Record({url:t.Text,method:t.Variant({get:t.Null,head:t.Null,post:t.Null}),max_response_bytes:t.Opt(t.Nat64),body:t.Opt(t.Vec(t.Nat8)),transform:t.Opt(t.Record({function:t.Func([t.Record({context:t.Vec(t.Nat8),response:z})],[z],["query"]),context:t.Vec(t.Nat8)})),headers:t.Vec($)}),H=t.Variant({reinstall:t.Null,upgrade:t.Opt(t.Record({wasm_memory_persistence:t.Opt(t.Variant({keep:t.Null,replace:t.Null})),skip_pre_upgrade:t.Opt(t.Bool)})),install:t.Null}),Y=t.Record({hash:t.Vec(t.Nat8)}),W=t.Record({arg:t.Vec(t.Nat8),wasm_module_hash:t.Vec(t.Nat8),mode:H,chunk_hashes_list:t.Vec(Y),target_canister:m,store_canister:t.Opt(m),sender_canister_version:t.Opt(t.Nat64)}),Z=t.Vec(t.Nat8),K=t.Record({arg:t.Vec(t.Nat8),wasm_module:Z,mode:H,canister_id:m,sender_canister_version:t.Opt(t.Nat64)}),X=t.Record({canister_id:m}),J=t.Record({id:_,total_size:t.Nat64,taken_at_timestamp:t.Nat64}),Q=t.Vec(J),tt=t.Record({canister_id:m,sender_canister_version:t.Opt(t.Nat64),snapshot_id:_}),et=t.Record({start_at_timestamp_nanos:t.Nat64,subnet_id:t.Principal}),rt=t.Record({num_block_failures_total:t.Nat64,node_id:t.Principal,num_blocks_proposed_total:t.Nat64}),nt=t.Vec(t.Record({timestamp_nanos:t.Nat64,node_metrics:t.Vec(rt)})),it=t.Record({settings:t.Opt(N),specified_id:t.Opt(m),amount:t.Opt(t.Nat),sender_canister_version:t.Opt(t.Nat64)}),ot=t.Record({canister_id:m}),st=t.Record({canister_id:m,amount:t.Nat}),at=t.Vec(t.Nat8),ct=t.Variant({ed25519:t.Null,bip340secp256k1:t.Null}),ut=t.Record({key_id:t.Record({algorithm:ct,name:t.Text}),canister_id:t.Opt(m),derivation_path:t.Vec(t.Vec(t.Nat8))}),ft=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),ht=t.Record({key_id:t.Record({name:t.Text,curve:L}),derivation_path:t.Vec(t.Vec(t.Nat8)),message_hash:t.Vec(t.Nat8)}),lt=t.Record({signature:t.Vec(t.Nat8)}),dt=t.Variant({bip341:t.Record({merkle_root_hash:t.Vec(t.Nat8)})}),pt=t.Record({aux:t.Opt(dt),key_id:t.Record({algorithm:ct,name:t.Text}),derivation_path:t.Vec(t.Vec(t.Nat8)),message:t.Vec(t.Nat8)}),yt=t.Record({signature:t.Vec(t.Nat8)}),gt=t.Record({canister_id:m}),bt=t.Record({canister_id:m}),wt=t.Record({canister_id:m}),mt=t.Vec(Y),vt=t.Record({subnet_id:t.Principal}),Et=t.Record({replica_version:t.Text}),_t=t.Record({replace_snapshot:t.Opt(_),canister_id:m}),xt=J,It=t.Record({canister_id:m,sender_canister_version:t.Opt(t.Nat64)}),At=t.Record({canister_id:t.Principal,settings:N,sender_canister_version:t.Opt(t.Nat64)}),Bt=t.Record({chunk:t.Vec(t.Nat8),canister_id:t.Principal}),Tt=Y;return t.Service({bitcoin_get_balance:t.Func([n],[o],[]),bitcoin_get_block_headers:t.Func([a],[u],[]),bitcoin_get_current_fee_percentiles:t.Func([f],[l],[]),bitcoin_get_utxos:t.Func([d],[b],[]),bitcoin_send_transaction:t.Func([w],[],[]),canister_info:t.Func([v],[A],[]),canister_status:t.Func([B],[O],[]),clear_chunk_store:t.Func([R],[],[]),create_canister:t.Func([U],[P],[]),delete_canister:t.Func([j],[],[]),delete_canister_snapshot:t.Func([F],[],[]),deposit_cycles:t.Func([k],[],[]),ecdsa_public_key:t.Func([D],[M],[]),fetch_canister_logs:t.Func([q],[V],["query"]),http_request:t.Func([G],[z],[]),install_chunked_code:t.Func([W],[],[]),install_code:t.Func([K],[],[]),list_canister_snapshots:t.Func([X],[Q],[]),load_canister_snapshot:t.Func([tt],[],[]),node_metrics_history:t.Func([et],[nt],[]),provisional_create_canister_with_cycles:t.Func([it],[ot],[]),provisional_top_up_canister:t.Func([st],[],[]),raw_rand:t.Func([],[at],[]),schnorr_public_key:t.Func([ut],[ft],[]),sign_with_ecdsa:t.Func([ht],[lt],[]),sign_with_schnorr:t.Func([pt],[yt],[]),start_canister:t.Func([gt],[],[]),stop_canister:t.Func([bt],[],[]),stored_chunks:t.Func([wt],[mt],[]),subnet_info:t.Func([vt],[Et],[]),take_canister_snapshot:t.Func([_t],[xt],[]),uninstall_code:t.Func([It],[],[]),update_settings:t.Func([At],[],[]),upload_chunk:t.Func([Bt],[Tt],[])})};class m extends o.Yv{constructor(t,e,r,n){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${e} (${r})`,...Object.getOwnPropertyNames(n).map((t=>`  "${t}": ${JSON.stringify(n[t])}`))].join("\n")),this.canisterId=t,this.methodName=e,this.type=r,this.props=n}}class v extends m{constructor(t,e,r){var n;super(t,e,"query",{Status:r.status,Code:null!==(n=i.RK[r.reject_code])&&void 0!==n?n:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class E extends m{constructor(t,e,r,n,i,o,s){super(t,e,"update",Object.assign({"Request ID":(0,c.nj)(r)},n.body?Object.assign(Object.assign({},s?{"Error code":s}:{}),{"Reject code":String(i),"Reject message":o}):{"HTTP status code":n.status.toString(),"HTTP status text":n.statusText})),this.requestId=r,this.response=n,this.reject_code=i,this.reject_message=o,this.error_code=s}}const _=Symbol.for("ic-agent-metadata");class x{constructor(t){this[_]=Object.freeze(t)}static agentOf(t){return t[_].config.agent}static interfaceOf(t){return t[_].service}static canisterIdOf(t){return b.p.from(t[_].config.canisterId)}static async install(t,e){const r=void 0===t.mode?{install:null}:t.mode,n=t.arg?[...new Uint8Array(t.arg)]:[],i=[...new Uint8Array(t.module)],o="string"===typeof e.canisterId?b.p.fromText(e.canisterId):e.canisterId;await O(e).install_code({mode:r,arg:n,wasm_module:i,canister_id:o,sender_canister_version:[]})}static async createCanister(t,e){function r(t){return[{controllers:t.controllers?[t.controllers]:[],compute_allocation:t.compute_allocation?[t.compute_allocation]:[],freezing_threshold:t.freezing_threshold?[t.freezing_threshold]:[],memory_allocation:t.memory_allocation?[t.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:n}=await O(t||{}).provisional_create_canister_with_cycles({amount:[],settings:r(e||{}),specified_id:[],sender_canister_version:[]});return n}static async createAndInstallCanister(t,e,r){const n=await this.createCanister(r);return await this.install(Object.assign({},e),Object.assign(Object.assign({},r),{canisterId:n})),this.createActor(t,Object.assign(Object.assign({},r),{canisterId:n}))}static createActorClass(t,e){const r=t({IDL:s.Ih});class n extends x{constructor(t){if(!t.canisterId)throw new o.Yv(`Canister ID is required, but received ${typeof t.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const n="string"===typeof t.canisterId?b.p.fromText(t.canisterId):t.canisterId;super({config:Object.assign(Object.assign(Object.assign({},A),t),{canisterId:n}),service:r});for(const[i,o]of r._fields)(null===e||void 0===e?void 0:e.httpDetails)&&o.annotations.push(B),(null===e||void 0===e?void 0:e.certificate)&&o.annotations.push(T),this[i]=S(this,i,o,t.blsVerify)}}return n}static createActor(t,e){if(!e.canisterId)throw new o.Yv(`Canister ID is required, but received ${typeof e.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(e)}static createActorWithHttpDetails(t,e){return new(this.createActorClass(t,{httpDetails:!0}))(e)}static createActorWithExtendedDetails(t,e,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,r))(e)}}function I(t,e){const r=s.Ih.decode(t,n.hp.from(e));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const A={pollingStrategyFactory:f},B="http-details",T="certificate";function S(t,e,r,n){let o;o=r.annotations.includes("query")||r.annotations.includes("composite_query")?async(n,...o)=>{var a,c;n=Object.assign(Object.assign({},n),null===(c=(a=t[_].config).queryTransform)||void 0===c?void 0:c.call(a,e,o,Object.assign(Object.assign({},t[_].config),n)));const u=n.agent||t[_].config.agent||(0,i.i8)(),f=b.p.from(n.canisterId||t[_].config.canisterId),h=s.Ih.encode(r.argTypes,o),l=await u.query(f,{methodName:e,arg:h,effectiveCanisterId:n.effectiveCanisterId}),d=Object.assign(Object.assign({},l.httpDetails),{requestDetails:l.requestDetails});switch(l.status){case"rejected":throw new v(f,e,l);case"replied":return r.annotations.includes(B)?{httpDetails:d,result:I(r.retTypes,l.reply.arg)}:I(r.retTypes,l.reply.arg)}}:async(o,...c)=>{var u,f;o=Object.assign(Object.assign({},o),null===(f=(u=t[_].config).callTransform)||void 0===f?void 0:f.call(u,e,c,Object.assign(Object.assign({},t[_].config),o)));const h=o.agent||t[_].config.agent||(0,i.i8)(),{canisterId:l,effectiveCanisterId:d,pollingStrategyFactory:p}=Object.assign(Object.assign(Object.assign({},A),t[_].config),o),y=b.p.from(l),w=void 0!==d?b.p.from(d):y,m=s.Ih.encode(r.argTypes,c),{requestId:v,response:x,requestDetails:S}=await h.call(y,{methodName:e,arg:m,effectiveCanisterId:w});let O,R;if(x.body&&x.body.certificate){if(null==h.rootKey)throw new Error("Agent is missing root key");const t=x.body.certificate;R=await a.us.create({certificate:(0,s.em)(t),rootKey:h.rootKey,canisterId:b.p.from(l),blsVerify:n});const r=[(new TextEncoder).encode("request_status"),v],i=(new TextDecoder).decode((0,a.Xr)(R.lookup([...r,"status"])));switch(i){case"replied":O=(0,a.Xr)(R.lookup([...r,"reply"]));break;case"rejected":{const t=new Uint8Array((0,a.Xr)(R.lookup([...r,"reject_code"])))[0],n=(new TextDecoder).decode((0,a.Xr)(R.lookup([...r,"reject_message"]))),i=(0,a.Xr)(R.lookup([...r,"error_code"])),o=i?(new TextDecoder).decode(i):void 0;throw new E(y,e,v,x,t,n,o)}}}else if(x.body&&"reject_message"in x.body){const{reject_code:t,reject_message:r,error_code:n}=x.body;throw new E(y,e,v,x,t,r,n)}if(202===x.status){const t=p(),e=await g(h,w,v,t,n);R=e.certificate,O=e.reply}const N=r.annotations.includes(B),U=r.annotations.includes(T),P=Object.assign(Object.assign({},x),{requestDetails:S});if(void 0!==O)return N&&U?{httpDetails:P,certificate:R,result:I(r.retTypes,O)}:U?{certificate:R,result:I(r.retTypes,O)}:N?{httpDetails:P,result:I(r.retTypes,O)}:I(r.retTypes,O);if(0===r.retTypes.length)return N?{httpDetails:x,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const c=(...t)=>o({},...t);return c.withOptions=t=>(...e)=>o(t,...e),c}function O(t){function e(e,r){if(t.effectiveCanisterId)return{effectiveCanisterId:b.p.from(t.effectiveCanisterId)};const n=r[0];let i=b.p.fromHex("");return n&&"object"===typeof n&&n.target_canister&&"install_chunked_code"===e&&(i=b.p.from(n.target_canister)),n&&"object"===typeof n&&n.canister_id&&(i=b.p.from(n.canister_id)),{effectiveCanisterId:i}}return x.createActor(w,Object.assign(Object.assign(Object.assign({},t),{canisterId:b.p.fromHex("")}),{callTransform:e,queryTransform:e}))}r(9881),r(2948),r(9929);r(7e3),r(7887),r(2177);r(8962),r(6010),r(5652),r(6917),r(3839)},6269:function(t){"use strict";t.exports={}},6279:function(t,e,r){"use strict";var n=r(6840);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},6319:function(t,e,r){"use strict";var n=r(8551),i=r(9539);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(s){i(t,"throw",s)}}},6330:function(t,e,r){"use strict";r.d(e,{Vw:function(){return p},DO:function(){return s},CC:function(){return a},Fe:function(){return o},Ht:function(){return c},uH:function(){return u},qj:function(){return y},O8:function(){return f},po:function(){return g},Ow:function(){return h},ZJ:function(){return d}});const n="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function i(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function o(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function s(t,...e){if(!i(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function a(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function c(t,e){s(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function u(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function f(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function h(t,e){return t<<32-e|t>>>e}function l(t){if("string"!==typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function d(t){return"string"===typeof t&&(t=l(t)),s(t),t}class p{}function y(t){const e=e=>t().update(d(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function g(t=32){if(n&&"function"===typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(t));if(n&&"function"===typeof n.randomBytes)return Uint8Array.from(n.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}},6395:function(t){"use strict";t.exports=!1},6460:function(t,e,r){"use strict";r.d(e,{Yv:function(){return n}});r(8111),r(1701),r(3003),r(6905),r(9023);class n extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=n.prototype,Object.setPrototypeOf(this,n.prototype)}}},6518:function(t,e,r){"use strict";var n=r(4576),i=r(7347).f,o=r(6699),s=r(6840),a=r(9433),c=r(7740),u=r(2796);t.exports=function(t,e){var r,f,h,l,d,p,y=t.target,g=t.global,b=t.stat;if(f=g?n:b?n[y]||a(y,{}):n[y]&&n[y].prototype,f)for(h in e){if(d=e[h],t.dontCallGetSet?(p=i(f,h),l=p&&p.value):l=f[h],r=u(g?h:y+(b?".":"#")+h,t.forced),!r&&void 0!==l){if(typeof d==typeof l)continue;c(d,l)}(t.sham||l&&l.sham)&&o(d,"sham",!0),s(f,h,d,t)}}},6699:function(t,e,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},6706:function(t,e,r){"use strict";var n=r(9504),i=r(9306);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(o){}}},6801:function(t,e,r){"use strict";var n=r(3724),i=r(8686),o=r(4913),s=r(8551),a=r(5397),c=r(1072);e.f=n&&!i?Object.defineProperties:function(t,e){s(t);var r,n=a(e),i=c(e),u=i.length,f=0;while(u>f)o.f(t,r=i[f++],n[r]);return t}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},6837:function(t){"use strict";var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},6840:function(t,e,r){"use strict";var n=r(4901),i=r(4913),o=r(283),s=r(9433);t.exports=function(t,e,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(n(r)&&o(r,u,a),a.global)c?t[e]=r:s(e,r);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(f){}c?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6905:function(t,e,r){"use strict";var n;r.d(e,{R:function(){return n}}),function(t){t[t["SysFatal"]=1]="SysFatal",t[t["SysTransient"]=2]="SysTransient",t[t["DestinationInvalid"]=3]="DestinationInvalid",t[t["CanisterReject"]=4]="CanisterReject",t[t["CanisterError"]=5]="CanisterError"}(n||(n={}))},6917:function(t,e,r){"use strict";r.d(e,{r:function(){return lt}});r(8111),r(1701),r(8237);var n=r(940),i=r(6330),o=(r(4114),r(9383)),s=r(5404);const a=s.Ph;function c(t,e){if(f(t),f(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function u(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function f(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function h(t,e,r,n){(0,s.DO)(t),(0,s.DO)(e),f(r),e.length>255&&(e=n((0,s.Id)((0,s.AI)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const h=(0,s.Id)(e,c(e.length,1)),l=c(0,o),d=c(r,2),p=new Array(a),y=n((0,s.Id)(l,t,d,c(0,1),h));p[0]=n((0,s.Id)(y,c(1,1),h));for(let f=1;f<=a;f++){const t=[u(y,p[f-1]),c(f+1,1),h];p[f]=n((0,s.Id)(...t))}const g=(0,s.Id)(...p);return g.slice(0,r)}function l(t,e,r,n,i){if((0,s.DO)(t),(0,s.DO)(e),f(r),e.length>255){const t=Math.ceil(2*n/8);e=i.create({dkLen:t}).update((0,s.AI)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(c(r,2)).update(e).update(c(e.length,1)).digest()}function d(t,e,r){(0,s.Q5)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:c,hash:u,expand:d,DST:p}=r;(0,s.DO)(t),f(e);const y="string"===typeof p?(0,s.AI)(p):p,g=n.toString(2).length,b=Math.ceil((g+i)/8),w=e*c*b;let m;if("xmd"===d)m=h(t,y,w,u);else if("xof"===d)m=l(t,y,w,i,u);else{if("_internal_pass"!==d)throw new Error('expand must be "xmd" or "xof"');m=t}const v=new Array(e);for(let s=0;s<e;s++){const t=new Array(c);for(let e=0;e<c;e++){const r=b*(e+s*c),i=m.subarray(r,r+b);t[e]=(0,o.zi)(a(i),n)}v[s]=t}return v}function p(t,e){const r=e.map((t=>Array.from(t).reverse()));return(e,n)=>{const[i,s,a,c]=r.map((r=>r.reduce(((r,n)=>t.add(t.mul(r,e),n))))),[u,f]=(0,o.pS)(t,[s,c],!0);return e=t.mul(i,u),n=t.mul(n,t.mul(a,f)),{x:e,y:n}}}function y(t,e,r){if("function"!==typeof e)throw new Error("mapToCurve() must be defined");function n(r){return t.fromAffine(e(r))}function i(e){const r=e.clearCofactor();return r.equals(t.ZERO)?t.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(t,e){const o=d(t,2,{...r,DST:r.DST,...e}),s=n(o[0]),a=n(o[1]);return i(s.add(a))},encodeToCurve(t,e){const o=d(t,1,{...r,DST:r.encodeDST,...e});return i(n(o[0]))},mapToCurve(t){if(!Array.isArray(t))throw new Error("expected array of bigints");for(const e of t)if("bigint"!==typeof e)throw new Error("expected array of bigints");return i(n(t))}}}var g=r(1062);function b(t){const e=(0,g.hp)(t);(0,s.Q5)(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}Error;const w=BigInt(0),m=BigInt(1),v=BigInt(2),E=BigInt(3),_=BigInt(4);function x(t){const e=b(t),{Fp:r}=e,n=(0,o.D0)(e.n,e.nBitLength),i=e.toBytes||((t,e,n)=>{const i=e.toAffine();return(0,s.Id)(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),a=e.fromBytes||(t=>{const e=t.subarray(1),n=r.fromBytes(e.subarray(0,r.BYTES)),i=r.fromBytes(e.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function c(t){const{a:n,b:i}=e,o=r.sqr(t),s=r.mul(o,t);return r.add(r.add(s,r.mul(t,n)),i)}function u(t,e){const n=r.sqr(e),i=c(t);return r.eql(n,i)}if(!u(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const f=r.mul(r.pow(e.a,E),_),h=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(f,h)))throw new Error("bad curve params: a or b");function l(t){return(0,s.r4)(t,m,e.n)}function d(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:a}=e;if(r&&"bigint"!==typeof t){if((0,s.aY)(t)&&(t=(0,s.My)(t)),"string"!==typeof t||!r.includes(t.length))throw new Error("invalid private key");t=t.padStart(2*n,"0")}let c;try{c="bigint"===typeof t?t:(0,s.Ph)((0,s.qj)("private key",t,n))}catch(u){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof t)}return i&&(c=(0,o.zi)(c,a)),(0,s.aK)("private key",c,m,a),c}function p(t){if(!(t instanceof x))throw new Error("ProjectivePoint expected")}const y=(0,s.x)(((t,e)=>{const{px:n,py:i,pz:o}=t;if(r.eql(o,r.ONE))return{x:n,y:i};const s=t.is0();null==e&&(e=s?r.ONE:r.inv(o));const a=r.mul(n,e),c=r.mul(i,e),u=r.mul(o,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),v=(0,s.x)((t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");if(!u(n,i))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class x{constructor(t,e,n){if(null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e)||r.is0(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");this.px=t,this.py=e,this.pz=n,Object.freeze(this)}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof x)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?x.ZERO:new x(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=(0,o.pS)(r,t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(x.fromAffine)}static fromHex(t){const e=x.fromAffine(a((0,s.qj)("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return x.BASE.multiply(d(t))}static msm(t,e){return(0,g.Xf)(x,n,t,e)}_setWindowSize(t){B.setWindowSize(this,t)}assertValidity(){v(this)}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){p(t);const{px:e,py:n,pz:i}=this,{px:o,py:s,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,E),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,f=r.ZERO,h=r.mul(o,o),l=r.mul(s,s),d=r.mul(a,a),p=r.mul(o,s);return p=r.add(p,p),f=r.mul(o,a),f=r.add(f,f),c=r.mul(t,f),u=r.mul(i,d),u=r.add(c,u),c=r.sub(l,u),u=r.add(l,u),u=r.mul(c,u),c=r.mul(p,c),f=r.mul(i,f),d=r.mul(t,d),p=r.sub(h,d),p=r.mul(t,p),p=r.add(p,f),f=r.add(h,h),h=r.add(f,h),h=r.add(h,d),h=r.mul(h,p),u=r.add(u,h),d=r.mul(s,a),d=r.add(d,d),h=r.mul(d,p),c=r.sub(c,h),f=r.mul(d,l),f=r.add(f,f),f=r.add(f,f),new x(c,u,f)}add(t){p(t);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=t;let u=r.ZERO,f=r.ZERO,h=r.ZERO;const l=e.a,d=r.mul(e.b,E);let y=r.mul(n,s),g=r.mul(i,a),b=r.mul(o,c),w=r.add(n,i),m=r.add(s,a);w=r.mul(w,m),m=r.add(y,g),w=r.sub(w,m),m=r.add(n,o);let v=r.add(s,c);return m=r.mul(m,v),v=r.add(y,b),m=r.sub(m,v),v=r.add(i,o),u=r.add(a,c),v=r.mul(v,u),u=r.add(g,b),v=r.sub(v,u),h=r.mul(l,m),u=r.mul(d,b),h=r.add(u,h),u=r.sub(g,h),h=r.add(g,h),f=r.mul(u,h),g=r.add(y,y),g=r.add(g,y),b=r.mul(l,b),m=r.mul(d,m),g=r.add(g,b),b=r.sub(y,b),b=r.mul(l,b),m=r.add(m,b),y=r.mul(g,m),f=r.add(f,y),y=r.mul(v,m),u=r.mul(w,u),u=r.sub(u,y),y=r.mul(w,g),h=r.mul(v,h),h=r.add(h,y),new x(u,f,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(x.ZERO)}wNAF(t){return B.wNAFCached(this,t,x.normalizeZ)}multiplyUnsafe(t){const{endo:n,n:i}=e;(0,s.aK)("scalar",t,w,i);const o=x.ZERO;if(t===w)return o;if(this.is0()||t===m)return this;if(!n||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,t,x.normalizeZ);let{k1neg:a,k1:c,k2neg:u,k2:f}=n.splitScalar(t),h=o,l=o,d=this;while(c>w||f>w)c&m&&(h=h.add(d)),f&m&&(l=l.add(d)),d=d.double(),c>>=m,f>>=m;return a&&(h=h.negate()),u&&(l=l.negate()),l=new x(r.mul(l.px,n.beta),l.py,l.pz),h.add(l)}multiply(t){const{endo:n,n:i}=e;let o,a;if((0,s.aK)("scalar",t,m,i),n){const{k1neg:e,k1:i,k2neg:s,k2:c}=n.splitScalar(t);let{p:u,f:f}=this.wNAF(i),{p:h,f:l}=this.wNAF(c);u=B.constTimeNegate(e,u),h=B.constTimeNegate(s,h),h=new x(r.mul(h.px,n.beta),h.py,h.pz),o=u.add(h),a=f.add(l)}else{const{p:e,f:r}=this.wNAF(t);o=e,a=r}return x.normalizeZ([o,a])[0]}multiplyAndAddUnsafe(t,e,r){const n=x.BASE,i=(t,e)=>e!==w&&e!==m&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,r));return o.is0()?void 0:o}toAffine(t){return y(this,t)}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===m)return!0;if(r)return r(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===m?this:r?r(x,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return(0,s.e8)("isCompressed",t),this.assertValidity(),i(x,this,t)}toHex(t=!0){return(0,s.e8)("isCompressed",t),(0,s.My)(this.toRawBytes(t))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);const{endo:I,nBitLength:A}=e,B=(0,g.hT)(x,I?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:l}}function I(t,e){const r=t.ORDER;let n=w;for(let p=r-m;p%v===w;p/=v)n+=m;const i=n,o=v<<i-m-m,s=o*v,a=(r-m)/s,c=(a-m)/v,u=s-m,f=o,h=t.pow(e,a),l=t.pow(e,(a+m)/v);let d=(e,r)=>{let n=h,o=t.pow(r,u),s=t.sqr(o);s=t.mul(s,r);let a=t.mul(e,s);a=t.pow(a,c),a=t.mul(a,o),o=t.mul(a,r),s=t.mul(a,e);let d=t.mul(s,o);a=t.pow(d,f);let p=t.eql(a,t.ONE);o=t.mul(s,l),a=t.mul(d,n),s=t.cmov(o,s,p),d=t.cmov(a,d,p);for(let c=i;c>m;c--){let e=c-v;e=v<<e-m;let r=t.pow(d,e);const i=t.eql(r,t.ONE);o=t.mul(s,n),n=t.mul(n,n),r=t.mul(d,n),s=t.cmov(o,s,i),d=t.cmov(r,d,i)}return{isValid:p,value:s}};if(t.ORDER%_===E){const r=(t.ORDER-E)/_,n=t.sqrt(t.neg(e));d=(e,i)=>{let o=t.sqr(i);const s=t.mul(e,i);o=t.mul(o,s);let a=t.pow(o,r);a=t.mul(a,s);const c=t.mul(a,n),u=t.mul(t.sqr(a),i),f=t.eql(u,e);let h=t.cmov(c,a,f);return{isValid:f,value:h}}}return d}function A(t,e){if((0,o.jr)(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=I(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,c,u,f,h,l;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),a=t.add(s,t.ONE),a=t.mul(a,e.B),c=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),c=t.mul(c,e.A),s=t.sqr(a),f=t.sqr(c),u=t.mul(f,e.A),s=t.add(s,u),s=t.mul(s,a),f=t.mul(f,c),u=t.mul(f,e.B),s=t.add(s,u),h=t.mul(i,a);const{isValid:d,value:p}=r(s,f);l=t.mul(i,n),l=t.mul(l,p),h=t.cmov(h,a,d),l=t.cmov(l,p,d);const y=t.isOdd(n)===t.isOdd(l);l=t.cmov(t.neg(l),l,y);const g=(0,o.pS)(t,[c],!0)[0];return h=t.mul(h,g),{x:h,y:l}}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const B=BigInt(0),T=BigInt(1),S=BigInt(2),O=BigInt(3);function R(t){const e=[];for(;t>T;t>>=T)(t&T)===B?e.unshift(0):(t&O)===O?(e.unshift(-1),t+=T):e.unshift(1);return e}function N(t){const{Fp:e,Fr:r,Fp2:n,Fp6:i,Fp12:a}=t.fields,c=t.params.xNegative,u=t.params.twistType,f=x({n:r.ORDER,...t.G1}),h=Object.assign(f,y(f.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),l=x({n:r.ORDER,...t.G2}),d=Object.assign(l,y(l.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let p;if("multiplicative"===u)p=(t,e,r,i,o,s)=>a.mul014(i,t,n.mul(e,o),n.mul(r,s));else{if("divisive"!==u)throw new Error("bls: unknown twist type");p=(t,e,r,i,o,s)=>a.mul034(i,n.mul(r,s),n.mul(e,o),t)}const g=n.div(n.ONE,n.mul(n.ONE,S));function b(t,e,r,i){const o=n.sqr(r),s=n.sqr(i),a=n.mulByB(n.mul(s,O)),c=n.mul(a,O),u=n.sub(n.sub(n.sqr(n.add(r,i)),s),o),f=n.sub(a,o),h=n.mul(n.sqr(e),O),l=n.neg(u);return t.push([f,h,l]),e=n.mul(n.mul(n.mul(n.sub(o,c),e),r),g),r=n.sub(n.sqr(n.mul(n.add(o,c),g)),n.mul(n.sqr(a),O)),i=n.mul(o,u),{Rx:e,Ry:r,Rz:i}}function w(t,e,r,i,o,s){const a=n.sub(r,n.mul(s,i)),c=n.sub(e,n.mul(o,i)),u=n.sub(n.mul(a,o),n.mul(c,s)),f=n.neg(a),h=c;t.push([u,f,h]);const l=n.sqr(c),d=n.mul(l,c),p=n.mul(l,e),y=n.add(n.sub(d,n.mul(p,S)),n.mul(n.sqr(a),i));return e=n.mul(c,y),r=n.sub(n.mul(n.sub(p,y),a),n.mul(d,r)),i=n.mul(i,d),{Rx:e,Ry:r,Rz:i}}const m=R(t.params.ateLoopSize),v=(0,s.x)((e=>{const r=e,{x:i,y:o}=r.toAffine(),s=i,a=o,c=n.neg(o);let u=s,f=a,h=n.ONE;const l=[];for(const t of m){const e=[];({Rx:u,Ry:f,Rz:h}=b(e,u,f,h)),t&&({Rx:u,Ry:f,Rz:h}=w(e,u,f,h,s,-1===t?c:a)),l.push(e)}if(t.postPrecompute){const e=l[l.length-1];t.postPrecompute(u,f,h,s,a,w.bind(null,e))}return l}));function E(t,e=!1){let r=a.ONE;if(t.length){const e=t[0][0].length;for(let n=0;n<e;n++){r=a.sqr(r);for(const[e,i,o]of t)for(const[t,s,a]of e[n])r=p(t,s,a,r,i,o)}}return c&&(r=a.conjugate(r)),e?a.finalExponentiate(r):r}function _(t,e=!0){const r=[];h.ProjectivePoint.normalizeZ(t.map((({g1:t})=>t))),d.ProjectivePoint.normalizeZ(t.map((({g2:t})=>t)));for(const{g1:n,g2:i}of t){if(n.equals(h.ProjectivePoint.ZERO)||i.equals(d.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");n.assertValidity(),i.assertValidity();const t=n.toAffine();r.push([v(i),t.x,t.y])}return E(r,e)}function I(t,e,r=!0){return _([{g1:t,g2:e}],r)}const A={randomPrivateKey:()=>{const e=(0,o.Tp)(r.ORDER);return(0,o.qy)(t.randomBytes(e),r.ORDER)},calcPairingPrecomputes:v},{ShortSignature:B}=t.G1,{Signature:T}=t.G2;function N(t){return t instanceof h.ProjectivePoint?t:h.ProjectivePoint.fromHex(t)}function U(t,e){return t instanceof h.ProjectivePoint?t:h.hashToCurve((0,s.qj)("point",t),e)}function P(t){return t instanceof d.ProjectivePoint?t:T.fromHex(t)}function j(t,e){return t instanceof d.ProjectivePoint?t:d.hashToCurve((0,s.qj)("point",t),e)}function F(t){return h.ProjectivePoint.fromPrivateKey(t).toRawBytes(!0)}function k(t){return d.ProjectivePoint.fromPrivateKey(t).toRawBytes(!0)}function L(t,e,r){const n=j(t,r);n.assertValidity();const i=n.multiply(h.normPrivateKeyToScalar(e));return t instanceof d.ProjectivePoint?i:T.toRawBytes(i)}function D(t,e,r){const n=U(t,r);n.assertValidity();const i=n.multiply(h.normPrivateKeyToScalar(e));return t instanceof h.ProjectivePoint?i:B.toRawBytes(i)}function M(t,e,r,n){const i=N(r),o=j(e,n),s=h.ProjectivePoint.BASE,c=P(t),u=_([{g1:i.negate(),g2:o},{g1:s,g2:c}]);return a.eql(u,a.ONE)}function q(t,e,r,n){const i=P(r),o=U(e,n),s=d.ProjectivePoint.BASE,c=N(t),u=_([{g1:o,g2:i},{g1:c,g2:s.negate()}]);return a.eql(u,a.ONE)}function C(t){if(!Array.isArray(t)||0===t.length)throw new Error("expected non-empty array")}function V(t){C(t);const e=t.map(N).reduce(((t,e)=>t.add(e)),h.ProjectivePoint.ZERO),r=e;return t[0]instanceof h.ProjectivePoint?(r.assertValidity(),r):r.toRawBytes(!0)}function $(t){C(t);const e=t.map(P).reduce(((t,e)=>t.add(e)),d.ProjectivePoint.ZERO),r=e;return t[0]instanceof d.ProjectivePoint?(r.assertValidity(),r):T.toRawBytes(r)}function z(t){C(t);const e=t.map(N).reduce(((t,e)=>t.add(e)),h.ProjectivePoint.ZERO),r=e;return t[0]instanceof h.ProjectivePoint?(r.assertValidity(),r):B.toRawBytes(r)}function G(t,e,r,n){if(C(e),r.length!==e.length)throw new Error("amount of public keys and messages should be equal");const i=P(t),o=e.map((t=>j(t,n))),s=r.map(N),c=new Map;for(let a=0;a<s.length;a++){const t=s[a],e=o[a];let r=c.get(e);void 0===r&&(r=[],c.set(e,r)),r.push(t)}const u=[];try{for(const[t,e]of c){const r=e.reduce(((t,e)=>t.add(e)));u.push({g1:r,g2:t})}return u.push({g1:h.ProjectivePoint.BASE.negate(),g2:i}),a.eql(_(u),a.ONE)}catch{return!1}}return h.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:F,getPublicKeyForShortSignatures:k,sign:L,signShortSignature:D,verify:M,verifyBatch:G,verifyShortSignature:q,aggregatePublicKeys:V,aggregateSignatures:$,aggregateShortSignatures:z,millerLoopBatch:E,pairing:I,pairingBatch:_,G1:h,G2:d,Signature:T,ShortSignature:B,fields:{Fr:r,Fp:e,Fp2:n,Fp6:i,Fp12:a},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:A}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const U=BigInt(0),P=BigInt(1),j=BigInt(2),F=BigInt(3);function k(t,e,r,n,i=1,o){const s=BigInt(void 0===o?n:o),a=r**BigInt(n),c=[];for(let u=0;u<i;u++){const i=BigInt(u+1),o=[];for(let c=0,u=P;c<n;c++){const n=(i*u-i)/s%a;o.push(t.pow(e,n)),u*=r}c.push(o)}return c}function L(t,e,r){const n=e.pow(r,(t.ORDER-P)/F),i=e.pow(r,(t.ORDER-P)/j);function o(t,r){const o=e.mul(e.frobeniusMap(t,1),n),s=e.mul(e.frobeniusMap(r,1),i);return[o,s]}const s=e.pow(r,(t.ORDER**j-P)/F),a=e.pow(r,(t.ORDER**j-P)/j);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(t,r){return[e.mul(t,s),e.neg(r)]}const u=t=>(e,r)=>{const n=r.toAffine(),i=t(n.x,n.y);return e.fromAffine({x:i[0],y:i[1]})},f=u(o),h=u(c);return{psi:o,psi2:c,G2psi:f,G2psi2:h,PSI_X:n,PSI_Y:i,PSI2_X:s,PSI2_Y:a}}function D(t){const{ORDER:e}=t,r=o.D0(e),n=r.create(t.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,j),a=k(r,n,r.ORDER,2)[0],c=({c0:t,c1:e},{c0:n,c1:i})=>({c0:r.add(t,n),c1:r.add(e,i)}),u=({c0:t,c1:e},{c0:n,c1:i})=>({c0:r.sub(t,n),c1:r.sub(e,i)}),f=({c0:t,c1:e},n)=>{if("bigint"===typeof n)return{c0:r.mul(t,n),c1:r.mul(e,n)};const{c0:i,c1:o}=n;let s=r.mul(t,i),a=r.mul(e,o);const c=r.sub(s,a),u=r.sub(r.mul(r.add(t,e),r.add(i,o)),r.add(s,a));return{c0:c,c1:u}},h=({c0:t,c1:e})=>{const n=r.add(t,e),i=r.sub(t,e),o=r.add(t,t);return{c0:r.mul(n,i),c1:r.mul(o,e)}},l=t=>{if(2!==t.length)throw new Error("invalid tuple");const e=t.map((t=>r.create(t)));return{c0:e[0],c1:e[1]}},d=e*e,p=l(t.FP2_NONRESIDUE),y={ORDER:d,isLE:r.isLE,NONRESIDUE:p,BITS:(0,s.dJ)(d),BYTES:Math.ceil((0,s.dJ)(d)/8),MASK:(0,s.OG)((0,s.dJ)(d)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:t=>t,isValid:({c0:t,c1:e})=>"bigint"===typeof t&&"bigint"===typeof e,is0:({c0:t,c1:e})=>r.is0(t)&&r.is0(e),eql:({c0:t,c1:e},{c0:n,c1:i})=>r.eql(t,n)&&r.eql(e,i),neg:({c0:t,c1:e})=>({c0:r.neg(t),c1:r.neg(e)}),pow:(t,e)=>o.f4(y,t,e),invertBatch:t=>o.pS(y,t),add:c,sub:u,mul:f,sqr:h,addN:c,subN:u,mulN:f,sqrN:h,div:(t,e)=>y.mul(t,"bigint"===typeof e?r.inv(r.create(e)):y.inv(e)),inv:({c0:t,c1:e})=>{const n=r.inv(r.create(t*t+e*e));return{c0:r.mul(n,r.create(t)),c1:r.mul(n,r.create(-e))}},sqrt:e=>{if(t.Fp2sqrt)return t.Fp2sqrt(e);const{c0:s,c1:a}=e;if(r.is0(a))return 1===o.tB(r,s)?y.create({c0:r.sqrt(s),c1:r.ZERO}):y.create({c0:r.ZERO,c1:r.sqrt(r.div(s,n))});const c=r.sqrt(r.sub(r.sqr(s),r.mul(r.sqr(a),n)));let u=r.mul(r.add(c,s),i);const f=o.tB(r,u);-1===f&&(u=r.sub(u,c));const h=r.sqrt(u),l=y.create({c0:h,c1:r.div(r.mul(a,i),h)});if(!y.eql(y.sqr(l),e))throw new Error("Cannot find square root");const d=l,p=y.neg(d),{re:g,im:b}=y.reim(d),{re:w,im:m}=y.reim(p);return b>m||b===m&&g>w?d:p},isOdd:t=>{const{re:e,im:r}=y.reim(t),n=e%j,i=e===U,o=r%j;return BigInt(n||i&&o)==P},fromBytes(t){if(t.length!==y.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:r.fromBytes(t.subarray(0,r.BYTES)),c1:r.fromBytes(t.subarray(r.BYTES))}},toBytes:({c0:t,c1:e})=>(0,s.Id)(r.toBytes(t),r.toBytes(e)),cmov:({c0:t,c1:e},{c0:n,c1:i},o)=>({c0:r.cmov(t,n,o),c1:r.cmov(e,i,o)}),reim:({c0:t,c1:e})=>({re:t,im:e}),mulByNonresidue:({c0:t,c1:e})=>y.mul({c0:t,c1:e},p),mulByB:t.Fp2mulByB,fromBigTuple:l,frobeniusMap:({c0:t,c1:e},n)=>({c0:t,c1:r.mul(e,a[n%2])})},g=({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o})=>({c0:y.add(t,n),c1:y.add(e,i),c2:y.add(r,o)}),b=({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o})=>({c0:y.sub(t,n),c1:y.sub(e,i),c2:y.sub(r,o)}),w=({c0:t,c1:e,c2:r},n)=>{if("bigint"===typeof n)return{c0:y.mul(t,n),c1:y.mul(e,n),c2:y.mul(r,n)};const{c0:i,c1:o,c2:s}=n,a=y.mul(t,i),c=y.mul(e,o),u=y.mul(r,s);return{c0:y.add(a,y.mulByNonresidue(y.sub(y.mul(y.add(e,r),y.add(o,s)),y.add(c,u)))),c1:y.add(y.sub(y.mul(y.add(t,e),y.add(i,o)),y.add(a,c)),y.mulByNonresidue(u)),c2:y.sub(y.add(c,y.mul(y.add(t,r),y.add(i,s))),y.add(a,u))}},m=({c0:t,c1:e,c2:r})=>{let n=y.sqr(t),i=y.mul(y.mul(t,e),j),o=y.mul(y.mul(e,r),j),s=y.sqr(r);return{c0:y.add(y.mulByNonresidue(o),n),c1:y.add(y.mulByNonresidue(s),i),c2:y.sub(y.sub(y.add(y.add(i,y.sqr(y.add(y.sub(t,e),r))),o),n),s)}},[v,E]=k(y,p,r.ORDER,6,2,3),_={ORDER:y.ORDER,isLE:y.isLE,BITS:3*y.BITS,BYTES:3*y.BYTES,MASK:(0,s.OG)(3*y.BITS),ZERO:{c0:y.ZERO,c1:y.ZERO,c2:y.ZERO},ONE:{c0:y.ONE,c1:y.ZERO,c2:y.ZERO},create:t=>t,isValid:({c0:t,c1:e,c2:r})=>y.isValid(t)&&y.isValid(e)&&y.isValid(r),is0:({c0:t,c1:e,c2:r})=>y.is0(t)&&y.is0(e)&&y.is0(r),neg:({c0:t,c1:e,c2:r})=>({c0:y.neg(t),c1:y.neg(e),c2:y.neg(r)}),eql:({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o})=>y.eql(t,n)&&y.eql(e,i)&&y.eql(r,o),sqrt:s.SJ,div:(t,e)=>_.mul(t,"bigint"===typeof e?r.inv(r.create(e)):_.inv(e)),pow:(t,e)=>o.f4(_,t,e),invertBatch:t=>o.pS(_,t),add:g,sub:b,mul:w,sqr:m,addN:g,subN:b,mulN:w,sqrN:m,inv:({c0:t,c1:e,c2:r})=>{let n=y.sub(y.sqr(t),y.mulByNonresidue(y.mul(r,e))),i=y.sub(y.mulByNonresidue(y.sqr(r)),y.mul(t,e)),o=y.sub(y.sqr(e),y.mul(t,r)),s=y.inv(y.add(y.mulByNonresidue(y.add(y.mul(r,i),y.mul(e,o))),y.mul(t,n)));return{c0:y.mul(s,n),c1:y.mul(s,i),c2:y.mul(s,o)}},fromBytes:t=>{if(t.length!==_.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:y.fromBytes(t.subarray(0,y.BYTES)),c1:y.fromBytes(t.subarray(y.BYTES,2*y.BYTES)),c2:y.fromBytes(t.subarray(2*y.BYTES))}},toBytes:({c0:t,c1:e,c2:r})=>(0,s.Id)(y.toBytes(t),y.toBytes(e),y.toBytes(r)),cmov:({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o},s)=>({c0:y.cmov(t,n,s),c1:y.cmov(e,i,s),c2:y.cmov(r,o,s)}),fromBigSix:t=>{if(!Array.isArray(t)||6!==t.length)throw new Error("invalid Fp6 usage");return{c0:y.fromBigTuple(t.slice(0,2)),c1:y.fromBigTuple(t.slice(2,4)),c2:y.fromBigTuple(t.slice(4,6))}},frobeniusMap:({c0:t,c1:e,c2:r},n)=>({c0:y.frobeniusMap(t,n),c1:y.mul(y.frobeniusMap(e,n),v[n%6]),c2:y.mul(y.frobeniusMap(r,n),E[n%6])}),mulByFp2:({c0:t,c1:e,c2:r},n)=>({c0:y.mul(t,n),c1:y.mul(e,n),c2:y.mul(r,n)}),mulByNonresidue:({c0:t,c1:e,c2:r})=>({c0:y.mulByNonresidue(r),c1:t,c2:e}),mul1:({c0:t,c1:e,c2:r},n)=>({c0:y.mulByNonresidue(y.mul(r,n)),c1:y.mul(t,n),c2:y.mul(e,n)}),mul01({c0:t,c1:e,c2:r},n,i){let o=y.mul(t,n),s=y.mul(e,i);return{c0:y.add(y.mulByNonresidue(y.sub(y.mul(y.add(e,r),i),s)),o),c1:y.sub(y.sub(y.mul(y.add(n,i),y.add(t,e)),o),s),c2:y.add(y.sub(y.mul(y.add(t,r),n),o),s)}}},x=k(y,p,r.ORDER,12,1,6)[0],I=({c0:t,c1:e},{c0:r,c1:n})=>({c0:_.add(t,r),c1:_.add(e,n)}),A=({c0:t,c1:e},{c0:r,c1:n})=>({c0:_.sub(t,r),c1:_.sub(e,n)}),B=({c0:t,c1:e},r)=>{if("bigint"===typeof r)return{c0:_.mul(t,r),c1:_.mul(e,r)};let{c0:n,c1:i}=r,o=_.mul(t,n),s=_.mul(e,i);return{c0:_.add(o,_.mulByNonresidue(s)),c1:_.sub(_.mul(_.add(t,e),_.add(n,i)),_.add(o,s))}},T=({c0:t,c1:e})=>{let r=_.mul(t,e);return{c0:_.sub(_.sub(_.mul(_.add(_.mulByNonresidue(e),t),_.add(t,e)),r),_.mulByNonresidue(r)),c1:_.add(r,r)}};function S(t,e){const r=y.sqr(t),n=y.sqr(e);return{first:y.add(y.mulByNonresidue(n),r),second:y.sub(y.sub(y.sqr(y.add(t,e)),r),n)}}const O={ORDER:y.ORDER,isLE:_.isLE,BITS:2*_.BITS,BYTES:2*_.BYTES,MASK:(0,s.OG)(2*_.BITS),ZERO:{c0:_.ZERO,c1:_.ZERO},ONE:{c0:_.ONE,c1:_.ZERO},create:t=>t,isValid:({c0:t,c1:e})=>_.isValid(t)&&_.isValid(e),is0:({c0:t,c1:e})=>_.is0(t)&&_.is0(e),neg:({c0:t,c1:e})=>({c0:_.neg(t),c1:_.neg(e)}),eql:({c0:t,c1:e},{c0:r,c1:n})=>_.eql(t,r)&&_.eql(e,n),sqrt:s.SJ,inv:({c0:t,c1:e})=>{let r=_.inv(_.sub(_.sqr(t),_.mulByNonresidue(_.sqr(e))));return{c0:_.mul(t,r),c1:_.neg(_.mul(e,r))}},div:(t,e)=>O.mul(t,"bigint"===typeof e?r.inv(r.create(e)):O.inv(e)),pow:(t,e)=>o.f4(O,t,e),invertBatch:t=>o.pS(O,t),add:I,sub:A,mul:B,sqr:T,addN:I,subN:A,mulN:B,sqrN:T,fromBytes:t=>{if(t.length!==O.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:_.fromBytes(t.subarray(0,_.BYTES)),c1:_.fromBytes(t.subarray(_.BYTES))}},toBytes:({c0:t,c1:e})=>(0,s.Id)(_.toBytes(t),_.toBytes(e)),cmov:({c0:t,c1:e},{c0:r,c1:n},i)=>({c0:_.cmov(t,r,i),c1:_.cmov(e,n,i)}),fromBigTwelve:t=>({c0:_.fromBigSix(t.slice(0,6)),c1:_.fromBigSix(t.slice(6,12))}),frobeniusMap(t,e){const{c0:r,c1:n,c2:i}=_.frobeniusMap(t.c1,e),o=x[e%12];return{c0:_.frobeniusMap(t.c0,e),c1:_.create({c0:y.mul(r,o),c1:y.mul(n,o),c2:y.mul(i,o)})}},mulByFp2:({c0:t,c1:e},r)=>({c0:_.mulByFp2(t,r),c1:_.mulByFp2(e,r)}),conjugate:({c0:t,c1:e})=>({c0:t,c1:_.neg(e)}),mul014:({c0:t,c1:e},r,n,i)=>{let o=_.mul01(t,r,n),s=_.mul1(e,i);return{c0:_.add(_.mulByNonresidue(s),o),c1:_.sub(_.sub(_.mul01(_.add(e,t),r,y.add(n,i)),o),s)}},mul034:({c0:t,c1:e},r,n,i)=>{const o=_.create({c0:y.mul(t.c0,r),c1:y.mul(t.c1,r),c2:y.mul(t.c2,r)}),s=_.mul01(e,n,i),a=_.mul01(_.add(t,e),y.add(r,n),i);return{c0:_.add(_.mulByNonresidue(s),o),c1:_.sub(a,_.add(o,s))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:r,Fp2:y,Fp6:_,Fp4Square:S,Fp12:O}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const M=BigInt(0),q=BigInt(1),C=BigInt(2),V=BigInt(3),$=BigInt(4),z=BigInt("0xd201000000010000"),G=(0,s.dJ)(z),{Fp:H,Fp2:Y,Fp6:W,Fp4Square:Z,Fp12:K}=D({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[q,q],Fp2mulByB:({c0:t,c1:e})=>{const r=H.mul(t,$),n=H.mul(e,$);return{c0:H.sub(r,n),c1:H.add(r,n)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:r,c1:n,c2:i}=t,{c0:o,c1:s,c2:a}=e,{first:c,second:u}=Z(r,s),{first:f,second:h}=Z(o,i),{first:l,second:d}=Z(n,a),p=Y.mulByNonresidue(d);return{c0:W.create({c0:Y.add(Y.mul(Y.sub(c,r),C),c),c1:Y.add(Y.mul(Y.sub(f,n),C),f),c2:Y.add(Y.mul(Y.sub(l,i),C),l)}),c1:W.create({c0:Y.add(Y.mul(Y.add(p,o),C),p),c1:Y.add(Y.mul(Y.add(u,s),C),u),c2:Y.add(Y.mul(Y.add(h,a),C),h)})}},Fp12cyclotomicExp(t,e){let r=K.ONE;for(let n=G-1;n>=0;n--)r=K._cyclotomicSquare(r),(0,s.GU)(e,n)&&(r=K.mul(r,t));return r},Fp12finalExponentiate:t=>{const e=z,r=K.div(K.frobeniusMap(t,6),t),n=K.mul(K.frobeniusMap(r,2),r),i=K.conjugate(K._cyclotomicExp(n,e)),o=K.mul(K.conjugate(K._cyclotomicSquare(n)),i),s=K.conjugate(K._cyclotomicExp(o,e)),a=K.conjugate(K._cyclotomicExp(s,e)),c=K.mul(K.conjugate(K._cyclotomicExp(a,e)),K._cyclotomicSquare(i)),u=K.conjugate(K._cyclotomicExp(c,e)),f=K.frobeniusMap(K.mul(i,a),2),h=K.frobeniusMap(K.mul(s,n),3),l=K.frobeniusMap(K.mul(c,K.conjugate(n)),1),d=K.mul(K.mul(u,K.conjugate(o)),n);return K.mul(K.mul(K.mul(f,h),l),d)}}),X=(0,o.D0)(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),J=p(Y,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map((t=>t.map((t=>Y.fromBigTuple(t.map(BigInt))))))),Q=p(H,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map((t=>t.map((t=>BigInt(t)))))),tt=A(Y,{A:Y.create({c0:H.create(M),c1:H.create(BigInt(240))}),B:Y.create({c0:H.create(BigInt(1012)),c1:H.create(BigInt(1012))}),Z:Y.create({c0:H.create(BigInt(-2)),c1:H.create(BigInt(-1))})}),et=A(H,{A:H.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:H.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:H.create(BigInt(11))}),{G2psi:rt,G2psi2:nt}=L(H,Y,Y.div(Y.ONE,Y.NONRESIDUE)),it=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:H.ORDER,m:2,k:128,expand:"xmd",hash:n.sc}),ot=at(H.toBytes(M),{infinity:!0,compressed:!0});function st(t){t=t.slice();const e=224&t[0],r=!!(e>>7&1),n=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:r,infinity:n,sort:i,value:t}}function at(t,e){if(224&t[0])throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function ct(t){t.assertValidity();const e=t.equals(ft.G1.ProjectivePoint.ZERO),{x:r,y:n}=t.toAffine();if(e)return ot.slice();const i=H.ORDER,o=Boolean(n*C/i);return at((0,s.lq)(r,H.BYTES),{compressed:!0,sort:o})}function ut(t){t.assertValidity();const e=H.BYTES;if(t.equals(ft.G2.ProjectivePoint.ZERO))return(0,s.Id)(ot,(0,s.lq)(M,e));const{x:r,y:n}=t.toAffine(),{re:i,im:o}=Y.reim(r),{re:a,im:c}=Y.reim(n),u=c>M?c*C:a*C,f=Boolean(u/H.ORDER&q),h=i;return(0,s.Id)(at((0,s.lq)(o,e),{sort:f,compressed:!0}),(0,s.lq)(h,e))}const ft=N({fields:{Fp:H,Fp2:Y,Fp6:W,Fp12:K,Fr:X},G1:{Fp:H,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:H.ZERO,b:$,htfDefaults:{...it,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new t(H.mul(e.px,r),e.py,e.pz),i=e.multiplyUnsafe(z).negate(),o=i.multiplyUnsafe(z);return o.equals(n)},clearCofactor:(t,e)=>e.multiplyUnsafe(z).add(e),mapToCurve:t=>{const{x:e,y:r}=et(H.create(t[0]));return Q(e,r)},fromBytes:t=>{const{compressed:e,infinity:r,sort:n,value:i}=st(t);if(48===i.length&&e){const t=H.ORDER,e=(0,s.Ph)(i),o=H.create(e&H.MASK);if(r){if(o!==M)throw new Error("G1: non-empty compressed point at infinity");return{x:M,y:M}}const a=H.add(H.pow(o,V),H.create(ft.params.G1b));let c=H.sqrt(a);if(!c)throw new Error("invalid compressed G1 point");return c*C/t!==BigInt(n)&&(c=H.neg(c)),{x:H.create(o),y:H.create(c)}}if(96!==i.length||e)throw new Error("invalid point G1, expected 48/96 bytes");{const t=(0,s.Ph)(i.subarray(0,H.BYTES)),e=(0,s.Ph)(i.subarray(H.BYTES));if(r){if(t!==M||e!==M)throw new Error("G1: non-empty point at infinity");return ft.G1.ProjectivePoint.ZERO.toAffine()}return{x:H.create(t),y:H.create(e)}}},toBytes:(t,e,r)=>{const n=e.equals(t.ZERO),{x:i,y:o}=e.toAffine();if(r){if(n)return ot.slice();const t=H.ORDER,e=Boolean(o*C/t);return at((0,s.lq)(i,H.BYTES),{compressed:!0,sort:e})}if(n){const t=(0,s.Id)(new Uint8Array([64]),new Uint8Array(2*H.BYTES-1));return t}return(0,s.Id)((0,s.lq)(i,H.BYTES),(0,s.lq)(o,H.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:r,value:n}=st((0,s.qj)("signatureHex",t,48)),i=H.ORDER,o=(0,s.Ph)(n);if(e)return ft.G1.ProjectivePoint.ZERO;const a=H.create(o&H.MASK),c=H.add(H.pow(a,V),H.create(ft.params.G1b));let u=H.sqrt(c);if(!u)throw new Error("invalid compressed G1 point");const f=BigInt(r);u*C/i!==f&&(u=H.neg(u));const h=ft.G1.ProjectivePoint.fromAffine({x:a,y:u});return h.assertValidity(),h},toRawBytes(t){return ct(t)},toHex(t){return(0,s.My)(ct(t))}}},G2:{Fp:Y,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Y.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Y.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Y.ZERO,b:Y.fromBigTuple([$,$]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...it},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:r}=tt(Y.fromBigTuple(t));return J(e,r)},isTorsionFree:(t,e)=>e.multiplyUnsafe(z).negate().equals(rt(t,e)),clearCofactor:(t,e)=>{const r=z;let n=e.multiplyUnsafe(r).negate(),i=rt(t,e),o=e.double();o=nt(t,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n);const s=o.subtract(e);return s},fromBytes:t=>{const{compressed:e,infinity:r,sort:n,value:i}=st(t);if(!e&&!r&&n||!e&&r&&n||n&&r&&e)throw new Error("invalid encoding flag: "+(224&t[0]));const o=H.BYTES,a=(t,e,r)=>(0,s.Ph)(t.slice(e,r));if(96===i.length&&e){const t=ft.params.G2b,e=H.ORDER;if(r){if(i.reduce(((t,e)=>0!==t?e+1:e),0)>0)throw new Error("invalid compressed G2 point");return{x:Y.ZERO,y:Y.ZERO}}const s=a(i,0,o),c=a(i,o,2*o),u=Y.create({c0:H.create(c),c1:H.create(s)}),f=Y.add(Y.pow(u,V),t);let h=Y.sqrt(f);const l=h.c1===M?h.c0*C/e:h.c1*C/e?q:M;return h=n&&l>0?h:Y.neg(h),{x:u,y:h}}if(192!==i.length||e)throw new Error("invalid point G2, expected 96/192 bytes");{if(r){if(i.reduce(((t,e)=>0!==t?e+1:e),0)>0)throw new Error("invalid uncompressed G2 point");return{x:Y.ZERO,y:Y.ZERO}}const t=a(i,0,o),e=a(i,o,2*o),n=a(i,2*o,3*o),s=a(i,3*o,4*o);return{x:Y.fromBigTuple([e,t]),y:Y.fromBigTuple([s,n])}}},toBytes:(t,e,r)=>{const{BYTES:n,ORDER:i}=H,o=e.equals(t.ZERO),{x:a,y:c}=e.toAffine();if(r){if(o)return(0,s.Id)(ot,(0,s.lq)(M,n));const t=Boolean(c.c1===M?c.c0*C/i:c.c1*C/i);return(0,s.Id)(at((0,s.lq)(a.c1,n),{compressed:!0,sort:t}),(0,s.lq)(a.c0,n))}{if(o)return(0,s.Id)(new Uint8Array([64]),new Uint8Array(4*n-1));const{re:t,im:e}=Y.reim(a),{re:r,im:i}=Y.reim(c);return(0,s.Id)((0,s.lq)(e,n),(0,s.lq)(t,n),(0,s.lq)(i,n),(0,s.lq)(r,n))}},Signature:{fromHex(t){const{infinity:e,sort:r,value:n}=st((0,s.qj)("signatureHex",t)),i=H.ORDER,o=n.length/2;if(48!==o&&96!==o)throw new Error("invalid compressed signature length, must be 96 or 192");const a=(0,s.Ph)(n.slice(0,o)),c=(0,s.Ph)(n.slice(o));if(e)return ft.G2.ProjectivePoint.ZERO;const u=H.create(a&H.MASK),f=H.create(c),h=Y.create({c0:f,c1:u}),l=Y.add(Y.pow(h,V),ft.params.G2b);let d=Y.sqrt(l);if(!d)throw new Error("Failed to find a square root");const{re:p,im:y}=Y.reim(d),g=BigInt(r),b=y>M&&y*C/i!==g,w=y===M&&p*C/i!==g;(b||w)&&(d=Y.neg(d));const m=ft.G2.ProjectivePoint.fromAffine({x:h,y:d});return m.assertValidity(),m},toRawBytes(t){return ut(t)},toHex(t){return(0,s.My)(ut(t))}}},params:{ateLoopSize:z,r:X.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:it,hash:n.sc,randomBytes:i.po});var ht=r(9023);function lt(t,e,r){const n="string"===typeof t?t:(0,ht.nj)(t),i="string"===typeof e?e:(0,ht.nj)(e),o="string"===typeof r?r:(0,ht.nj)(r);return ft.verifyShortSignature(i,o,n)}},6955:function(t,e,r){"use strict";var n=r(2140),i=r(4901),o=r(2195),s=r(8227),a=s("toStringTag"),c=Object,u="Arguments"===o(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(r){}};t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=f(e=c(t),a))?r:u?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},6969:function(t,e,r){"use strict";var n=r(2777),i=r(757);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7e3:function(t,e,r){"use strict";r.d(e,{C2:function(){return u},le:function(){return c},n9:function(){return f}});var n=r(9023);const i=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},o=(t,e,r)=>{if(r<=127)return t[e]=r,1;if(r<=255)return t[e]=129,t[e+1]=r,2;if(r<=65535)return t[e]=130,t[e+1]=r>>8,t[e+2]=r,3;if(r<=16777215)return t[e]=131,t[e+1]=r>>16,t[e+2]=r>>8,t[e+3]=r,4;throw new Error("Length too long (> 4 bytes)")},s=(t,e)=>{if(t[e]<128)return 1;if(128===t[e])throw new Error("Invalid length 0");if(129===t[e])return 2;if(130===t[e])return 3;if(131===t[e])return 4;throw new Error("Length too long (> 4 bytes)")},a=(t,e)=>{const r=s(t,e);if(1===r)return t[e];if(2===r)return t[e+1];if(3===r)return(t[e+1]<<8)+t[e+2];if(4===r)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")},c=(Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]),Uint8Array.from([48,5,6,3,43,101,112]));Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function u(t,e){const r=2+i(t.byteLength+1),n=e.byteLength+r+t.byteLength;let s=0;const a=new Uint8Array(1+i(n)+n);return a[s++]=48,s+=o(a,s,n),a.set(e,s),s+=e.byteLength,a[s++]=3,s+=o(a,s,t.byteLength+1),a[s++]=0,a.set(new Uint8Array(t),s),a}const f=(t,e)=>{let r=0;const i=(t,e)=>{if(o[r++]!==t)throw new Error("Expected: "+e)},o=new Uint8Array(t);if(i(48,"sequence"),r+=s(o,r),!(0,n.HA)(o.slice(r,r+e.byteLength),e))throw new Error("Not the expected OID.");r+=e.byteLength,i(3,"bit string");const c=a(o,r)-1;r+=s(o,r),i(0,"0 padding");const u=o.slice(r);if(c!==u.length)throw new Error(`DER payload mismatch: Expected length ${c} actual length ${u.length}`);return u}},7040:function(t,e,r){"use strict";var n=r(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,r){"use strict";var n=r(9504),i=r(9039),o=r(2195),s=Object,a=n("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},7080:function(t,e,r){"use strict";var n=r(4402).has;t.exports=function(t){return n(t),t}},7154:function(t){t.exports=function(t,e,r){"use asm";var n=new t.Uint8Array(r);var i=e.pushInt;var o=e.pushInt32;var s=e.pushInt32Neg;var a=e.pushInt64;var c=e.pushInt64Neg;var u=e.pushFloat;var f=e.pushFloatSingle;var h=e.pushFloatDouble;var l=e.pushTrue;var d=e.pushFalse;var p=e.pushUndefined;var y=e.pushNull;var g=e.pushInfinity;var b=e.pushInfinityNeg;var w=e.pushNaN;var m=e.pushNaNNeg;var v=e.pushArrayStart;var E=e.pushArrayStartFixed;var _=e.pushArrayStartFixed32;var x=e.pushArrayStartFixed64;var I=e.pushObjectStart;var A=e.pushObjectStartFixed;var B=e.pushObjectStartFixed32;var T=e.pushObjectStartFixed64;var S=e.pushByteString;var O=e.pushByteStringStart;var R=e.pushUtf8String;var N=e.pushUtf8StringStart;var U=e.pushSimpleUnassigned;var P=e.pushTagStart;var j=e.pushTagStart4;var F=e.pushTagStart8;var k=e.pushTagUnassigned;var L=e.pushBreak;var D=t.Math.pow;var M=0;var q=0;var C=0;function V(t){t=t|0;M=0;q=t;while((M|0)<(q|0)){C=Kt[n[M]&255](n[M]|0)|0;if((C|0)>0){break}}return C|0}function $(t){t=t|0;if(((M|0)+(t|0)|0)<(q|0)){return 0}return 1}function z(t){t=t|0;return n[t|0]<<8|n[t+1|0]|0}function G(t){t=t|0;return n[t|0]<<24|n[t+1|0]<<16|n[t+2|0]<<8|n[t+3|0]|0}function H(t){t=t|0;i(t|0);M=M+1|0;return 0}function Y(t){t=t|0;if($(1)|0){return 1}i(n[M+1|0]|0);M=M+2|0;return 0}function W(t){t=t|0;if($(2)|0){return 1}i(z(M+1|0)|0);M=M+3|0;return 0}function Z(t){t=t|0;if($(4)|0){return 1}o(z(M+1|0)|0,z(M+3|0)|0);M=M+5|0;return 0}function K(t){t=t|0;if($(8)|0){return 1}a(z(M+1|0)|0,z(M+3|0)|0,z(M+5|0)|0,z(M+7|0)|0);M=M+9|0;return 0}function X(t){t=t|0;i(-1-(t-32|0)|0);M=M+1|0;return 0}function J(t){t=t|0;if($(1)|0){return 1}i(-1-(n[M+1|0]|0)|0);M=M+2|0;return 0}function Q(t){t=t|0;var e=0;if($(2)|0){return 1}e=z(M+1|0)|0;i(-1-(e|0)|0);M=M+3|0;return 0}function tt(t){t=t|0;if($(4)|0){return 1}s(z(M+1|0)|0,z(M+3|0)|0);M=M+5|0;return 0}function et(t){t=t|0;if($(8)|0){return 1}c(z(M+1|0)|0,z(M+3|0)|0,z(M+5|0)|0,z(M+7|0)|0);M=M+9|0;return 0}function rt(t){t=t|0;var e=0;var r=0;var n=0;n=t-64|0;if($(n|0)|0){return 1}e=M+1|0;r=(M+1|0)+(n|0)|0;S(e|0,r|0);M=r|0;return 0}function nt(t){t=t|0;var e=0;var r=0;var i=0;if($(1)|0){return 1}i=n[M+1|0]|0;e=M+2|0;r=(M+2|0)+(i|0)|0;if($(i+1|0)|0){return 1}S(e|0,r|0);M=r|0;return 0}function it(t){t=t|0;var e=0;var r=0;var n=0;if($(2)|0){return 1}n=z(M+1|0)|0;e=M+3|0;r=(M+3|0)+(n|0)|0;if($(n+2|0)|0){return 1}S(e|0,r|0);M=r|0;return 0}function ot(t){t=t|0;var e=0;var r=0;var n=0;if($(4)|0){return 1}n=G(M+1|0)|0;e=M+5|0;r=(M+5|0)+(n|0)|0;if($(n+4|0)|0){return 1}S(e|0,r|0);M=r|0;return 0}function st(t){t=t|0;return 1}function at(t){t=t|0;O();M=M+1|0;return 0}function ct(t){t=t|0;var e=0;var r=0;var n=0;n=t-96|0;if($(n|0)|0){return 1}e=M+1|0;r=(M+1|0)+(n|0)|0;R(e|0,r|0);M=r|0;return 0}function ut(t){t=t|0;var e=0;var r=0;var i=0;if($(1)|0){return 1}i=n[M+1|0]|0;e=M+2|0;r=(M+2|0)+(i|0)|0;if($(i+1|0)|0){return 1}R(e|0,r|0);M=r|0;return 0}function ft(t){t=t|0;var e=0;var r=0;var n=0;if($(2)|0){return 1}n=z(M+1|0)|0;e=M+3|0;r=(M+3|0)+(n|0)|0;if($(n+2|0)|0){return 1}R(e|0,r|0);M=r|0;return 0}function ht(t){t=t|0;var e=0;var r=0;var n=0;if($(4)|0){return 1}n=G(M+1|0)|0;e=M+5|0;r=(M+5|0)+(n|0)|0;if($(n+4|0)|0){return 1}R(e|0,r|0);M=r|0;return 0}function lt(t){t=t|0;return 1}function dt(t){t=t|0;N();M=M+1|0;return 0}function pt(t){t=t|0;E(t-128|0);M=M+1|0;return 0}function yt(t){t=t|0;if($(1)|0){return 1}E(n[M+1|0]|0);M=M+2|0;return 0}function gt(t){t=t|0;if($(2)|0){return 1}E(z(M+1|0)|0);M=M+3|0;return 0}function bt(t){t=t|0;if($(4)|0){return 1}_(z(M+1|0)|0,z(M+3|0)|0);M=M+5|0;return 0}function wt(t){t=t|0;if($(8)|0){return 1}x(z(M+1|0)|0,z(M+3|0)|0,z(M+5|0)|0,z(M+7|0)|0);M=M+9|0;return 0}function mt(t){t=t|0;v();M=M+1|0;return 0}function vt(t){t=t|0;var e=0;e=t-160|0;if($(e|0)|0){return 1}A(e|0);M=M+1|0;return 0}function Et(t){t=t|0;if($(1)|0){return 1}A(n[M+1|0]|0);M=M+2|0;return 0}function _t(t){t=t|0;if($(2)|0){return 1}A(z(M+1|0)|0);M=M+3|0;return 0}function xt(t){t=t|0;if($(4)|0){return 1}B(z(M+1|0)|0,z(M+3|0)|0);M=M+5|0;return 0}function It(t){t=t|0;if($(8)|0){return 1}T(z(M+1|0)|0,z(M+3|0)|0,z(M+5|0)|0,z(M+7|0)|0);M=M+9|0;return 0}function At(t){t=t|0;I();M=M+1|0;return 0}function Bt(t){t=t|0;P(t-192|0|0);M=M+1|0;return 0}function Tt(t){0;P(t|0);M=M+1|0;return 0}function St(t){0;P(t|0);M=M+1|0;return 0}function Ot(t){0;P(t|0);M=M+1|0;return 0}function Rt(t){0;P(t|0);M=M+1|0;return 0}function Nt(t){t=t|0;P(t-192|0|0);M=M+1|0;return 0}function Ut(t){0;P(t|0);M=M+1|0;return 0}function Pt(t){0;P(t|0);M=M+1|0;return 0}function jt(t){0;P(t|0);M=M+1|0;return 0}function Ft(t){t=t|0;if($(1)|0){return 1}P(n[M+1|0]|0);M=M+2|0;return 0}function kt(t){t=t|0;if($(2)|0){return 1}P(z(M+1|0)|0);M=M+3|0;return 0}function Lt(t){t=t|0;if($(4)|0){return 1}j(z(M+1|0)|0,z(M+3|0)|0);M=M+5|0;return 0}function Dt(t){t=t|0;if($(8)|0){return 1}F(z(M+1|0)|0,z(M+3|0)|0,z(M+5|0)|0,z(M+7|0)|0);M=M+9|0;return 0}function Mt(t){t=t|0;U((t|0)-224|0);M=M+1|0;return 0}function qt(t){t=t|0;d();M=M+1|0;return 0}function Ct(t){t=t|0;l();M=M+1|0;return 0}function Vt(t){t=t|0;y();M=M+1|0;return 0}function $t(t){t=t|0;p();M=M+1|0;return 0}function zt(t){t=t|0;if($(1)|0){return 1}U(n[M+1|0]|0);M=M+2|0;return 0}function Gt(t){t=t|0;var e=0;var r=0;var i=1.0;var o=0.0;var s=0.0;var a=0.0;if($(2)|0){return 1}e=n[M+1|0]|0;r=n[M+2|0]|0;if((e|0)&0x80){i=-1.0}o=+(((e|0)&0x7C)>>2);s=+(((e|0)&0x03)<<8|r);if(+o==0.0){u(+(+i*+5.9604644775390625e-8*+s))}else if(+o==31.0){if(+i==1.0){if(+s>0.0){w()}else{g()}}else{if(+s>0.0){m()}else{b()}}}else{u(+(+i*D(+2,+(+o-25.0))*+(1024.0+s)))}M=M+3|0;return 0}function Ht(t){t=t|0;if($(4)|0){return 1}f(n[M+1|0]|0,n[M+2|0]|0,n[M+3|0]|0,n[M+4|0]|0);M=M+5|0;return 0}function Yt(t){t=t|0;if($(8)|0){return 1}h(n[M+1|0]|0,n[M+2|0]|0,n[M+3|0]|0,n[M+4|0]|0,n[M+5|0]|0,n[M+6|0]|0,n[M+7|0]|0,n[M+8|0]|0);M=M+9|0;return 0}function Wt(t){t=t|0;return 1}function Zt(t){t=t|0;L();M=M+1|0;return 0}var Kt=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,Y,W,Z,K,Wt,Wt,Wt,Wt,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,J,Q,tt,et,Wt,Wt,Wt,Wt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,nt,it,ot,st,Wt,Wt,Wt,at,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ct,ut,ft,ht,lt,Wt,Wt,Wt,dt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,yt,gt,bt,wt,Wt,Wt,Wt,mt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,vt,Et,_t,xt,It,Wt,Wt,Wt,At,Bt,Bt,Bt,Bt,Bt,Bt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Nt,Ft,kt,Lt,Dt,Wt,Wt,Wt,Wt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,qt,Ct,Vt,$t,zt,Gt,Ht,Yt,Wt,Wt,Wt,Zt];return{parse:V}}},7179:function(t,e,r){"use strict";r(4114),r(8111),r(1701),r(8237),Object.defineProperty(e,"__esModule",{value:!0});const n=9007199254740992;function i(t,...e){const r=new Uint8Array(t.byteLength+e.reduce(((t,e)=>t+e.byteLength),0));r.set(new Uint8Array(t),0);let n=t.byteLength;for(const i of e)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function o(t,e,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(e-24);r=r.slice(2*-n).padStart(2*n,"0");const i=[(t<<5)+e].concat(r.match(/../g).map((t=>parseInt(t,16))));return new Uint8Array(i).buffer}function s(t,e){if(e<24)return new Uint8Array([(t<<5)+e]).buffer;{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27;return o(t,r,e.toString(16))}}function a(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=(1023&n)<<10|1023&t.charCodeAt(r),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return i(new Uint8Array(s(3,t.length)),new Uint8Array(e))}function c(t,e){if(14277111==t)return i(new Uint8Array([217,217,247]),e);if(t<24)return i(new Uint8Array([192+t]),e);{const e=t<=255?24:t<=65535?25:t<=4294967295?26:27,r=2**(e-24),n=t.toString(16).slice(2*-r).padStart(2*r,"0"),i=[192+e].concat(n.match(/../g).map((t=>parseInt(t,16))));return new Uint8Array(i).buffer}}function u(t){return new Uint8Array(t).buffer}function f(t){if(isNaN(t))throw new RangeError("Invalid number.");t=Math.min(Math.max(0,t),23);const e=[0+t];return new Uint8Array(e).buffer}function h(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),255),t=t.toString(16),o(0,24,t)}function l(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),65535),t=t.toString(16),o(0,25,t)}function d(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),4294967295),t=t.toString(16),o(0,26,t)}function p(t,e){if("string"==typeof t&&16==e){if(t.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return o(0,27,t)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),n),t=t.toString(16),o(0,27,t)}function y(t){if(isNaN(t))throw new RangeError("Invalid number.");if(0===t)return f(0);t=Math.min(Math.max(0,-t),24)-1;const e=[32+t];return new Uint8Array(e).buffer}function g(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),255),t=t.toString(16),o(1,24,t)}function b(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),65535),t=t.toString(16),o(1,25,t)}function w(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),4294967295),t=t.toString(16),o(1,26,t)}function m(t,e){if("string"==typeof t&&16==e){if(t=t.startsWith("-")?t.slice(1):"0",t.match(/[^0-9a-fA-F]/)||t.length>16)throw new RangeError("Invalid number.");let e=!1,r=t.split("").reduceRight(((t,r)=>{if(e)return r+t;let n=parseInt(r,16)-1;return n>=0?(e=!0,n.toString(16)+t):"f"+t}),"");return e?o(1,27,r):p(0)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),9007199254740992),t=t.toString(16),o(1,27,t)}function v(t){return t>=0?t<24?f(t):t<=255?h(t):t<=65535?l(t):t<=4294967295?d(t):p(t):t>=-24?y(t):t>=-255?g(t):t>=-65535?b(t):t>=-4294967295?w(t):m(t)}function E(t){return i(s(2,t.byteLength),t)}function _(t){return a(t)}function x(t){return i(s(4,t.length),...t)}function I(t,e=!1){t instanceof Map||(t=new Map(Object.entries(t)));let r=Array.from(t.entries());return e&&(r=r.sort((([t],[e])=>t.localeCompare(e)))),i(s(5,t.size),...r.map((([t,e])=>i(a(t),e))))}function A(t){const e=new Float32Array([t]);return i(new Uint8Array([250]),new Uint8Array(e.buffer))}function B(t){const e=new Float64Array([t]);return i(new Uint8Array([251]),new Uint8Array(e.buffer))}function T(t){return t?S():O()}function S(){return u(new Uint8Array([245]))}function O(){return u(new Uint8Array([244]))}function R(){return u(new Uint8Array([246]))}function N(){return u(new Uint8Array([247]))}e.tagged=c,e.raw=u,e.uSmall=f,e.u8=h,e.u16=l,e.u32=d,e.u64=p,e.iSmall=y,e.i8=g,e.i16=b,e.i32=w,e.i64=m,e.number=v,e.bytes=E,e.string=_,e.array=x,e.map=I,e.singleFloat=A,e.doubleFloat=B,e.bool=T,e.true_=S,e.false_=O,e.null_=R,e.undefined_=N},7347:function(t,e,r){"use strict";var n=r(3724),i=r(9565),o=r(8773),s=r(6980),a=r(5397),c=r(6969),u=r(9297),f=r(5917),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=c(e),f)try{return h(t,e)}catch(r){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},7476:function(t,e,r){"use strict";var n=r(2195),i=r(9504);t.exports=function(t){if("Function"===n(t))return i(t)}},7588:function(t,e,r){"use strict";var n=r(6518),i=r(9565),o=r(2652),s=r(9306),a=r(8551),c=r(1767),u=r(9539),f=r(4549),h=f("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:h},{forEach:function(t){a(this);try{s(t)}catch(n){u(this,"throw",n)}if(h)return i(h,this,t);var e=c(this),r=0;o(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},7629:function(t,e,r){"use strict";var n=r(6395),i=r(4576),o=r(9433),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.42.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7642:function(t,e,r){"use strict";var n=r(6518),i=r(3440),o=r(4916),s=!o("difference",(function(t){return 0===t.size}));n({target:"Set",proto:!0,real:!0,forced:s},{difference:i})},7646:function(t,e,r){"use strict";const n=r(8577).BigNumber;e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=Math.pow(2,32),e.SHIFT16=Math.pow(2,16),e.MAX_SAFE_HIGH=2097151,e.NEG_ONE=new n(-1),e.TEN=new n(10),e.TWO=new n(2),e.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},7657:function(t,e,r){"use strict";var n,i,o,s=r(9039),a=r(4901),c=r(34),u=r(2360),f=r(2787),h=r(6840),l=r(8227),d=r(6395),p=l("iterator"),y=!1;[].keys&&(o=[].keys(),"next"in o?(i=f(f(o)),i!==Object.prototype&&(n=i)):y=!0);var g=!c(n)||s((function(){var t={};return n[p].call(t)!==t}));g?n={}:d&&(n=u(n)),a(n[p])||h(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},7740:function(t,e,r){"use strict";var n=r(9297),i=r(5031),o=r(7347),s=r(4913);t.exports=function(t,e,r){for(var a=i(e),c=s.f,u=o.f,f=0;f<a.length;f++){var h=a[f];n(t,h)||r&&n(r,h)||c(t,h,u(e,h))}}},7750:function(t,e,r){"use strict";var n=r(4117),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},7751:function(t,e,r){"use strict";var n=r(4576),i=r(4901),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},7795:function(t,e,r){"use strict";const{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:s}=r(6034),a=r(3528);t.exports={URL:n,URLSearchParams:o,format:i,relative:a,defaultBase:s}},7887:function(t,e,r){"use strict";r.r(e),r.d(e,{CustomPath:function(){return u},encodePath:function(){return l},fetchNodeKeys:function(){return h},request:function(){return f}});r(8111),r(7588),r(1701),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698);var n=r(3003),i=r(6460),o=r(4356),s=r(9023),a=r(3839),c=r(5258);class u{constructor(t,e,r){this.key=t,this.path=e,this.decodeStrategy=r}}const f=async t=>{const{agent:e,paths:r}=t,s=n.p.from(t.canisterId),a=[...new Set(r)],u=a.map((t=>l(t,s))),f=new Map,b=a.map(((t,r)=>(async()=>{var n;try{const t=await e.readState(s,{paths:[u[r]]});if(null==e.rootKey)throw new Error("Agent is missing root key");const n=await o.us.create({certificate:t.certificate,rootKey:e.rootKey,canisterId:s,disableTimeVerification:!0}),i=(r,n)=>{if("subnet"===n){if(null==e.rootKey)throw new Error("Agent is missing root key");const r=h(t.certificate,s,e.rootKey);return{path:n,data:r}}return{path:n,data:(0,o.Xr)(r.lookup(l(n,s)))}},{path:b,data:w}=i(n,a[r]);if(w)switch(b){case"time":f.set(b,(0,c.A)(w));break;case"controllers":f.set(b,g(w));break;case"module_hash":f.set(b,d(w));break;case"subnet":f.set(b,w);break;case"candid":f.set(b,(new TextDecoder).decode(w));break;default:if("string"!==typeof b&&"key"in b&&"path"in b)switch(b.decodeStrategy){case"raw":f.set(b.key,w);break;case"leb128":f.set(b.key,(0,c.b)(w));break;case"cbor":f.set(b.key,p(w));break;case"hex":f.set(b.key,d(w));break;case"utf-8":f.set(b.key,y(w))}}else console.warn(`Expected to find result for path ${b}, but instead found nothing.`),"string"===typeof b?f.set(b,null):f.set(b.key,null)}catch(b){if(null===(n=null===b||void 0===b?void 0:b.message)||void 0===n?void 0:n.includes("Invalid certificate"))throw new i.Yv(b.message);"string"!==typeof t&&"key"in t&&"path"in t?f.set(t.key,null):f.set(t,null),console.group(),console.warn(`Expected to find result for path ${t}, but instead found nothing.`),console.warn(b),console.groupEnd()}})()));return await Promise.all(b),f},h=(t,e,r)=>{if(!e._isPrincipal)throw new Error("Invalid canisterId");const i=a.D4(new Uint8Array(t)),s=i.tree;let c,u=i.delegation;u&&u.subnet_id?c=n.p.fromUint8Array(new Uint8Array(u.subnet_id)):u||"undefined"===typeof r?(c=n.p.selfAuthenticating(n.p.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),u={subnet_id:c.toUint8Array(),certificate:new ArrayBuffer(0)}):(c=n.p.selfAuthenticating(new Uint8Array(r)),u={subnet_id:c.toUint8Array(),certificate:new ArrayBuffer(0)});const f=(0,o.Gk)({canisterId:e,subnetId:c,tree:s});if(!f)throw new Error("Canister not in range");const h=(0,o.hV)(["subnet",u.subnet_id,"node"],s);if(h.status!==o.hi.Found)throw new Error("Node not found");if(h.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const l=(0,o.Bx)(h.value),d=new Map;return l.forEach((t=>{const e=n.p.from(new Uint8Array(t[1])).toText(),r=(0,o.hV)(["public_key"],t[2]);if(r.status!==o.hi.Found)throw new Error("Public key not found");const i=r.value;if(44!==i.byteLength)throw new Error("Invalid public key length");d.set(e,i)})),{subnetId:n.p.fromUint8Array(new Uint8Array(u.subnet_id)).toText(),nodeKeys:d}},l=(t,e)=>{const r=new TextEncoder,n=t=>new DataView(r.encode(t).buffer).buffer,i=new DataView(e.toUint8Array().buffer).buffer;switch(t){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in t&&"path"in t){if("string"===typeof t["path"]||t["path"]instanceof ArrayBuffer){const e=t.path,r="string"===typeof e?n(e):e;return[n("canister"),i,n("metadata"),r]}return t["path"]}}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${t} was formatted correctly.`)},d=t=>(0,s.nj)(t),p=t=>a.D4(t),y=t=>(new TextDecoder).decode(t),g=t=>{const e=p(t);return e.map((t=>n.p.fromUint8Array(new Uint8Array(t))))}},8004:function(t,e,r){"use strict";var n=r(6518),i=r(9039),o=r(8750),s=r(4916),a=!s("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:a},{intersection:o})},8014:function(t,e,r){"use strict";var n=r(1291),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},8111:function(t,e,r){"use strict";var n=r(6518),i=r(4576),o=r(679),s=r(8551),a=r(4901),c=r(2787),u=r(2106),f=r(4659),h=r(9039),l=r(9297),d=r(8227),p=r(7657).IteratorPrototype,y=r(3724),g=r(6395),b="constructor",w="Iterator",m=d("toStringTag"),v=TypeError,E=i[w],_=g||!a(E)||E.prototype!==p||!h((function(){E({})})),x=function(){if(o(this,p),c(this)===p)throw new v("Abstract class Iterator not directly constructable")},I=function(t,e){y?u(p,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===p)throw new v("You can't redefine this property");l(this,t)?this[t]=e:f(this,t,e)}}):p[t]=e};l(p,m)||I(m,w),!_&&l(p,b)&&p[b]!==Object||I(b,x),x.prototype=p,n({global:!0,constructor:!0,forced:_},{Iterator:x})},8227:function(t,e,r){"use strict";var n=r(4576),i=r(5745),o=r(9297),s=r(3392),a=r(4495),c=r(7040),u=n.Symbol,f=i("wks"),h=c?u["for"]||u:u&&u.withoutSetter||s;t.exports=function(t){return o(f,t)||(f[t]=a&&o(u,t)?u[t]:h("Symbol."+t)),f[t]}},8237:function(t,e,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),s=r(8551),a=r(1767),c=r(9539),u=r(4549),f=r(8745),h=r(9039),l=TypeError,d=h((function(){[].keys().reduce((function(){}),void 0)})),p=!d&&u("reduce",l);n({target:"Iterator",proto:!0,real:!0,forced:d||p},{reduce:function(t){s(this);try{o(t)}catch(h){c(this,"throw",h)}var e=arguments.length<2,r=e?void 0:arguments[1];if(p)return f(p,this,e?[t]:[t,r]);var n=a(this),u=0;if(i(n,(function(n){e?(e=!1,r=n):r=t(r,n,u),u++}),{IS_RECORD:!0}),e)throw new l("Reduce of empty iterator with no initial value");return r}})},8343:function(t,e,r){"use strict";r(8111),r(8237);const{Buffer:n}=r(712),i=r(5735),o=r(4198);class s extends i{createTag(t,e){return`${t}(${e})`}createInt(t){return super.createInt(t).toString()}createInt32(t,e){return super.createInt32(t,e).toString()}createInt64(t,e,r,n){return super.createInt64(t,e,r,n).toString()}createInt32Neg(t,e){return super.createInt32Neg(t,e).toString()}createInt64Neg(t,e,r,n){return super.createInt64Neg(t,e,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const e=super.createFloat(t);return o.isNegativeZero(t)?"-0_1":`${e}_1`}createFloatSingle(t,e,r,n){const i=super.createFloatSingle(t,e,r,n);return`${i}_2`}createFloatDouble(t,e,r,n,i,o,s,a){const c=super.createFloatDouble(t,e,r,n,i,o,s,a);return`${c}_3`}createByteString(t,e){const r=t.join(", ");return-1===e?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(t,e){const r=n.from(super.createByteStringFromHeap(t,e)).toString("hex");return`h'${r}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,e){const r=super.createArray(t,e);return-1===e?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(t,e){const r=super.createMap(t),n=Array.from(r.keys()).reduce(a(r),"");return-1===e?`{_ ${n}}`:`{${n}}`}createObject(t,e){const r=super.createObject(t),n=Object.keys(r).reduce(a(r),"");return-1===e?`{_ ${n}}`:`{${n}}`}createUtf8String(t,e){const r=t.join(", ");return-1===e?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(t,e){const r=n.from(super.createUtf8StringFromHeap(t,e)).toString("utf8");return`"${r}"`}static diagnose(t,e){"string"===typeof t&&(t=n.from(t,e||"hex"));const r=new s;return r.decodeFirst(t)}}function a(t){return(e,r)=>e?`${e}, ${r}: ${t[r]}`:`${r}: ${t[r]}`}t.exports=s},8469:function(t,e,r){"use strict";var n=r(9504),i=r(507),o=r(4402),s=o.Set,a=o.proto,c=n(a.forEach),u=n(a.keys),f=u(new s).next;t.exports=function(t,e,r){return r?i({iterator:u(t),next:f},e):c(t,e)}},8480:function(t,e,r){"use strict";var n=r(1828),i=r(8727),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},8527:function(t,e,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),s=r(3789),a=r(507),c=r(9539);t.exports=function(t){var e=n(this),r=s(t);if(o(e)<r.size)return!1;var u=r.getIterator();return!1!==a(u,(function(t){if(!i(e,t))return c(u,"normal",!1)}))}},8551:function(t,e,r){"use strict";var n=r(34),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},8577:function(t,e,r){var n;r(4114),function(){"use strict";var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",f=1e14,h=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,y=1e9;function g(t){var e,r,n,i=L.prototype={constructor:L,toString:null,valueOf:null},I=new L(1),A=20,B=4,T=-7,S=21,O=-1e7,R=1e7,N=!1,U=1,P=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function L(t,e){var i,s,c,f,d,p,y,g,b=this;if(!(b instanceof L))return new L(t,e);if(null==e){if(t&&!0===t._isBigNumber)return b.s=t.s,void(!t.c||t.e>R?b.c=b.e=null:t.e<O?b.c=[b.e=0]:(b.e=t.e,b.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(b.s=1/t<0?(t=-t,-1):1,t===~~t){for(f=0,d=t;d>=10;d/=10,f++);return void(f>R?b.c=b.e=null:(b.e=f,b.c=[t]))}g=String(t)}else{if(!o.test(g=String(t)))return n(b,g,p);b.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(f=g.indexOf("."))>-1&&(g=g.replace(".","")),(d=g.search(/e/i))>0?(f<0&&(f=d),f+=+g.slice(d+1),g=g.substring(0,d)):f<0&&(f=g.length)}else{if(v(e,2,F.length,"Base"),10==e&&k)return b=new L(t),C(b,A+b.e+1,B);if(g=String(t),p="number"==typeof t){if(0*t!=0)return n(b,g,p,e);if(b.s=1/t<0?(g=g.slice(1),-1):1,L.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(u+t)}else b.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(i=F.slice(0,e),f=d=0,y=g.length;d<y;d++)if(i.indexOf(s=g.charAt(d))<0){if("."==s){if(d>f){f=y;continue}}else if(!c&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){c=!0,d=-1,f=0;continue}return n(b,String(t),p,e)}p=!1,g=r(g,e,10,b.s),(f=g.indexOf("."))>-1?g=g.replace(".",""):f=g.length}for(d=0;48===g.charCodeAt(d);d++);for(y=g.length;48===g.charCodeAt(--y););if(g=g.slice(d,++y)){if(y-=d,p&&L.DEBUG&&y>15&&(t>l||t!==a(t)))throw Error(u+b.s*t);if((f=f-d-1)>R)b.c=b.e=null;else if(f<O)b.c=[b.e=0];else{if(b.e=f,b.c=[],d=(f+1)%h,f<0&&(d+=h),d<y){for(d&&b.c.push(+g.slice(0,d)),y-=h;d<y;)b.c.push(+g.slice(d,d+=h));d=h-(g=g.slice(d)).length}else d-=y;for(;d--;g+="0");b.c.push(+g)}}else b.c=[b.e=0]}function D(t,e,r,n){var i,o,s,a,c;if(null==r?r=B:v(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)c=w(t.c),c=1==n||2==n&&(s<=T||s>=S)?_(c,s):x(c,s,"0");else if(t=C(new L(t),e,r),o=t.e,c=w(t.c),a=c.length,1==n||2==n&&(e<=o||o<=T)){for(;a<e;c+="0",a++);c=_(c,o)}else if(e-=s,c=x(c,o,"0"),o+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if(e+=o-a,e>0)for(o+1==a&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function M(t,e){for(var r,n,i=1,o=new L(t[0]);i<t.length;i++)n=new L(t[i]),(!n.s||(r=m(o,n))===e||0===r&&o.s===e)&&(o=n);return o}function q(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*h-1)>R?t.c=t.e=null:r<O?t.c=[t.e=0]:(t.e=r,t.c=e),t}function C(t,e,r,n){var i,o,c,u,l,p,y,g=t.c,b=d;if(g){t:{for(i=1,u=g[0];u>=10;u/=10,i++);if(o=e-i,o<0)o+=h,c=e,l=g[p=0],y=a(l/b[i-c-1]%10);else if(p=s((o+1)/h),p>=g.length){if(!n)break t;for(;g.length<=p;g.push(0));l=y=0,i=1,o%=h,c=o-h+1}else{for(l=u=g[p],i=1;u>=10;u/=10,i++);o%=h,c=o-h+i,y=c<0?0:a(l/b[i-c-1]%10)}if(n=n||e<0||null!=g[p+1]||(c<0?l:l%b[i-c-1]),n=r<4?(y||n)&&(0==r||r==(t.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(o>0?c>0?l/b[i-c]:0:g[p-1])%10&1||r==(t.s<0?8:7)),e<1||!g[0])return g.length=0,n?(e-=t.e+1,g[0]=b[(h-e%h)%h],t.e=-e||0):g[0]=t.e=0,t;if(0==o?(g.length=p,u=1,p--):(g.length=p+1,u=b[h-o],g[p]=c>0?a(l/b[i-c]%b[c])*u:0),n)for(;;){if(0==p){for(o=1,c=g[0];c>=10;c/=10,o++);for(c=g[0]+=u,u=1;c>=10;c/=10,u++);o!=u&&(t.e++,g[0]==f&&(g[0]=1));break}if(g[p]+=u,g[p]!=f)break;g[p--]=0,u=1}for(o=g.length;0===g[--o];g.pop());}t.e>R?t.c=t.e=null:t.e<O&&(t.c=[t.e=0])}return t}function V(t){var e,r=t.e;return null===r?t.toString():(e=w(t.c),e=r<=T||r>=S?_(e,r):x(e,r,"0"),t.s<0?"-"+e:e)}return L.clone=g,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(r=t[e],v(r,0,y,e),A=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(r=t[e],v(r,0,8,e),B=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&(r=t[e],r&&r.pop?(v(r[0],-y,0,e),v(r[1],0,y,e),T=r[0],S=r[1]):(v(r,-y,y,e),T=-(S=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if(r=t[e],r&&r.pop)v(r[0],-y,-1,e),v(r[1],1,y,e),O=r[0],R=r[1];else{if(v(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);O=-(R=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if(r=t[e],r!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!r,Error(c+"crypto unavailable");N=r}else N=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(r=t[e],v(r,0,9,e),U=r),t.hasOwnProperty(e="POW_PRECISION")&&(r=t[e],v(r,0,y,e),P=r),t.hasOwnProperty(e="FORMAT")){if(r=t[e],"object"!=typeof r)throw Error(c+e+" not an object: "+r);j=r}if(t.hasOwnProperty(e="ALPHABET")){if(r=t[e],"string"!=typeof r||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);k="0123456789"==r.slice(0,10),F=r}}return{DECIMAL_PLACES:A,ROUNDING_MODE:B,EXPONENTIAL_AT:[T,S],RANGE:[O,R],CRYPTO:N,MODULO_MODE:U,POW_PRECISION:P,FORMAT:j,ALPHABET:F}},L.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!L.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===a(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if(e=(i+1)%h,e<1&&(e+=h),String(n[0]).length==e){for(e=0;e<n.length;e++)if(r=n[e],r<0||r>=f||r!==a(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+t)},L.maximum=L.max=function(){return M(arguments,-1)},L.minimum=L.min=function(){return M(arguments,1)},L.random=function(){var t=9007199254740992,e=Math.random()*t&2097151?function(){return a(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var r,n,i,o,u,f=0,l=[],p=new L(I);if(null==t?t=A:v(t,0,y),o=s(t/h),N)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(o*=2));f<o;)u=131072*r[f]+(r[f+1]>>>11),u>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[f]=n[0],r[f+1]=n[1]):(l.push(u%1e14),f+=2);f=o/2}else{if(!crypto.randomBytes)throw N=!1,Error(c+"crypto unavailable");for(r=crypto.randomBytes(o*=7);f<o;)u=281474976710656*(31&r[f])+1099511627776*r[f+1]+4294967296*r[f+2]+16777216*r[f+3]+(r[f+4]<<16)+(r[f+5]<<8)+r[f+6],u>=9e15?crypto.randomBytes(7).copy(r,f):(l.push(u%1e14),f+=7);f=o/7}if(!N)for(;f<o;)u=e(),u<9e15&&(l[f++]=u%1e14);for(o=l[--f],t%=h,o&&t&&(u=d[h-t],l[f]=a(o/u)*u);0===l[f];l.pop(),f--);if(f<0)l=[i=0];else{for(i=-1;0===l[0];l.splice(0,1),i-=h);for(f=1,u=l[0];u>=10;u/=10,f++);f<h&&(i-=h-f)}return p.e=i,p.c=l,p}}(),L.sum=function(){for(var t=1,e=arguments,r=new L(e[0]);t<e.length;)r=r.plus(e[t++]);return r},r=function(){var t="0123456789";function r(t,e,r,n){for(var i,o,s=[0],a=0,c=t.length;a<c;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var c,u,f,h,l,d,p,y,g=n.indexOf("."),b=A,m=B;for(g>=0&&(h=P,P=0,n=n.replace(".",""),y=new L(i),d=y.pow(n.length-g),P=h,y.c=r(x(w(d.c),d.e,"0"),10,o,t),y.e=y.c.length),p=r(n,i,o,a?(c=F,t):(c=t,F)),f=h=p.length;0==p[--h];p.pop());if(!p[0])return c.charAt(0);if(g<0?--f:(d.c=p,d.e=f,d.s=s,d=e(d,y,b,m,o),p=d.c,l=d.r,f=d.e),u=f+b+1,g=p[u],h=o/2,l=l||u<0||null!=p[u+1],l=m<4?(null!=g||l)&&(0==m||m==(d.s<0?3:2)):g>h||g==h&&(4==m||l||6==m&&1&p[u-1]||m==(d.s<0?8:7)),u<1||!p[0])n=l?x(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(p.length=u,l)for(--o;++p[--u]>o;)p[u]=0,u||(++f,p=[1].concat(p));for(h=p.length;!p[--h];);for(g=0,n="";g<=h;n+=c.charAt(p[g++]));n=x(n,f,c.charAt(0))}return n}}(),e=function(){function t(t,e,r){var n,i,o,s,a=0,c=t.length,u=e%p,f=e/p|0;for(t=t.slice();c--;)o=t[c]%p,s=t[c]/p|0,n=f*o+s*u,i=u*o+n%p*p+a,a=(i/r|0)+(n/p|0)+f*s,t[c]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,c){var u,l,d,p,y,g,w,m,v,E,_,x,I,A,B,T,S,O=n.s==i.s?1:-1,R=n.c,N=i.c;if(!R||!R[0]||!N||!N[0])return new L(n.s&&i.s&&(R?!N||R[0]!=N[0]:N)?R&&0==R[0]||!N?0*O:O/0:NaN);for(m=new L(O),v=m.c=[],l=n.e-i.e,O=o+l+1,c||(c=f,l=b(n.e/h)-b(i.e/h),O=O/h|0),d=0;N[d]==(R[d]||0);d++);if(N[d]>(R[d]||0)&&l--,O<0)v.push(1),p=!0;else{for(A=R.length,T=N.length,d=0,O+=2,y=a(c/(N[0]+1)),y>1&&(N=t(N,y,c),R=t(R,y,c),T=N.length,A=R.length),I=T,E=R.slice(0,T),_=E.length;_<T;E[_++]=0);S=N.slice(),S=[0].concat(S),B=N[0],N[1]>=c/2&&B++;do{if(y=0,u=e(N,E,T,_),u<0){if(x=E[0],T!=_&&(x=x*c+(E[1]||0)),y=a(x/B),y>1){y>=c&&(y=c-1),g=t(N,y,c),w=g.length,_=E.length;while(1==e(g,E,w,_))y--,r(g,T<w?S:N,w,c),w=g.length,u=1}else 0==y&&(u=y=1),g=N.slice(),w=g.length;if(w<_&&(g=[0].concat(g)),r(E,g,_,c),_=E.length,-1==u)while(e(N,E,T,_)<1)y++,r(E,T<_?S:N,_,c),_=E.length}else 0===u&&(y++,E=[0]);v[d++]=y,E[0]?E[_++]=R[I]||0:(E=[R[I]],_=1)}while((I++<A||null!=E[0])&&O--);p=null!=E[0],v[0]||v.splice(0,1)}if(c==f){for(d=1,O=v[0];O>=10;O/=10,d++);C(m,o+(m.e=d+l*h-1)+1,s,p)}else m.e=l,m.r=+p;return m}}(),n=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,u){var f,h=a?s:s.replace(i,"");if(n.test(h))o.s=isNaN(h)?null:h<0?-1:1;else{if(!a&&(h=h.replace(t,(function(t,e,r){return f="x"==(r=r.toLowerCase())?16:"b"==r?2:8,u&&u!=f?t:e})),u&&(f=u,h=h.replace(e,"$1").replace(r,"0.$1")),s!=h))return new L(h,f);if(L.DEBUG)throw Error(c+"Not a"+(u?" base "+u:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),i.absoluteValue=i.abs=function(){var t=new L(this);return t.s<0&&(t.s=1),t},i.comparedTo=function(t,e){return m(this,new L(t,e))},i.decimalPlaces=i.dp=function(t,e){var r,n,i,o=this;if(null!=t)return v(t,0,y),null==e?e=B:v(e,0,8),C(new L(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-b(this.e/h))*h,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},i.dividedBy=i.div=function(t,r){return e(this,new L(t,r),A,B)},i.dividedToIntegerBy=i.idiv=function(t,r){return e(this,new L(t,r),0,1)},i.exponentiatedBy=i.pow=function(t,e){var r,n,i,o,u,f,l,d,p,y=this;if(t=new L(t),t.c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+V(t));if(null!=e&&(e=new L(e)),f=t.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!t.c||!t.c[0])return p=new L(Math.pow(+V(y),f?t.s*(2-E(t)):+V(t))),e?p.mod(e):p;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new L(NaN);n=!l&&y.isInteger()&&e.isInteger(),n&&(y=y.mod(e))}else{if(t.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||f&&y.c[1]>=24e7:y.c[0]<8e13||f&&y.c[0]<=9999975e7)))return o=y.s<0&&E(t)?-0:0,y.e>-1&&(o=1/o),new L(l?1/o:o);P&&(o=s(P/h+2))}for(f?(r=new L(.5),l&&(t.s=1),d=E(t)):(i=Math.abs(+V(t)),d=i%2),p=new L(I);;){if(d){if(p=p.times(y),!p.c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(e))}if(i){if(i=a(i/2),0===i)break;d=i%2}else if(t=t.times(r),C(t,t.e+1,1),t.e>14)d=E(t);else{if(i=+V(t),0===i)break;d=i%2}y=y.times(y),o?y.c&&y.c.length>o&&(y.c.length=o):n&&(y=y.mod(e))}return n?p:(l&&(p=I.div(p)),e?p.mod(e):o?C(p,P,B,u):p)},i.integerValue=function(t){var e=new L(this);return null==t?t=B:v(t,0,8),C(e,e.e+1,t)},i.isEqualTo=i.eq=function(t,e){return 0===m(this,new L(t,e))},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(t,e){return m(this,new L(t,e))>0},i.isGreaterThanOrEqualTo=i.gte=function(t,e){return 1===(e=m(this,new L(t,e)))||0===e},i.isInteger=function(){return!!this.c&&b(this.e/h)>this.c.length-2},i.isLessThan=i.lt=function(t,e){return m(this,new L(t,e))<0},i.isLessThanOrEqualTo=i.lte=function(t,e){return-1===(e=m(this,new L(t,e)))||0===e},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&0==this.c[0]},i.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(t=new L(t,e),e=t.s,!a||!e)return new L(NaN);if(a!=e)return t.s=-e,s.plus(t);var c=s.e/h,u=t.e/h,l=s.c,d=t.c;if(!c||!u){if(!l||!d)return l?(t.s=-e,t):new L(d?s:NaN);if(!l[0]||!d[0])return d[0]?(t.s=-e,t):new L(l[0]?s:3==B?-0:0)}if(c=b(c),u=b(u),l=l.slice(),a=c-u){for((o=a<0)?(a=-a,i=l):(u=c,i=d),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(e=d.length))?a:e,a=e=0;e<n;e++)if(l[e]!=d[e]){o=l[e]<d[e];break}if(o&&(i=l,l=d,d=i,t.s=-t.s),e=(n=d.length)-(r=l.length),e>0)for(;e--;l[r++]=0);for(e=f-1;n>a;){if(l[--n]<d[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=f}l[n]-=d[n]}for(;0==l[0];l.splice(0,1),--u);return l[0]?q(t,l,u):(t.s=3==B?-1:1,t.c=[t.e=0],t)},i.modulo=i.mod=function(t,r){var n,i,o=this;return t=new L(t,r),!o.c||!t.s||t.c&&!t.c[0]?new L(NaN):!t.c||o.c&&!o.c[0]?new L(o):(9==U?(i=t.s,t.s=1,n=e(o,t,0,3),t.s=i,n.s*=i):n=e(o,t,0,U),t=o.minus(n.times(t)),t.c[0]||1!=U||(t.s=o.s),t)},i.multipliedBy=i.times=function(t,e){var r,n,i,o,s,a,c,u,l,d,y,g,w,m,v,E=this,_=E.c,x=(t=new L(t,e)).c;if(!_||!x||!_[0]||!x[0])return!E.s||!t.s||_&&!_[0]&&!x||x&&!x[0]&&!_?t.c=t.e=t.s=null:(t.s*=E.s,_&&x?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=b(E.e/h)+b(t.e/h),t.s*=E.s,c=_.length,d=x.length,c<d&&(w=_,_=x,x=w,i=c,c=d,d=i),i=c+d,w=[];i--;w.push(0));for(m=f,v=p,i=d;--i>=0;){for(r=0,y=x[i]%v,g=x[i]/v|0,s=c,o=i+s;o>i;)u=_[--s]%v,l=_[s]/v|0,a=g*u+l*y,u=y*u+a%v*v+w[o]+r,r=(u/m|0)+(a/v|0)+g*l,w[o--]=u%m;w[o]=r}return r?++n:w.splice(0,1),q(t,w,n)},i.negated=function(){var t=new L(this);return t.s=-t.s||null,t},i.plus=function(t,e){var r,n=this,i=n.s;if(t=new L(t,e),e=t.s,!i||!e)return new L(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/h,s=t.e/h,a=n.c,c=t.c;if(!o||!s){if(!a||!c)return new L(i/0);if(!a[0]||!c[0])return c[0]?t:new L(a[0]?n:0*i)}if(o=b(o),s=b(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for(i=a.length,e=c.length,i-e<0&&(r=c,c=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/f|0,a[e]=f===a[e]?0:a[e]%f;return i&&(a=[i].concat(a),++s),q(t,a,s)},i.precision=i.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return v(t,1,y),null==e?e=B:v(e,0,8),C(new L(o),t,e);if(!(r=o.c))return null;if(i=r.length-1,n=i*h+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},i.shiftedBy=function(t){return v(t,-l,l),this.times("1e"+t)},i.squareRoot=i.sqrt=function(){var t,r,n,i,o,s=this,a=s.c,c=s.s,u=s.e,f=A+4,h=new L("0.5");if(1!==c||!a||!a[0])return new L(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(c=Math.sqrt(+V(s)),0==c||c==1/0?(r=w(a),(r.length+u)%2==0&&(r+="0"),c=Math.sqrt(+r),u=b((u+1)/2)-(u<0||u%2),c==1/0?r="5e"+u:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+u),n=new L(r)):n=new L(c+""),n.c[0])for(u=n.e,c=u+f,c<3&&(c=0);;)if(o=n,n=h.times(o.plus(e(s,o,f,1))),w(o.c).slice(0,c)===(r=w(n.c)).slice(0,c)){if(n.e<u&&--c,r=r.slice(c-3,c+1),"9999"!=r&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(n,n.e+A+2,1),t=!n.times(n).eq(s));break}if(!i&&(C(o,o.e+A+2,0),o.times(o).eq(s))){n=o;break}f+=4,c+=4,i=1}return C(n,n.e+A+1,B,t)},i.toExponential=function(t,e){return null!=t&&(v(t,0,y),t++),D(this,t,e,1)},i.toFixed=function(t,e){return null!=t&&(v(t,0,y),t=t+this.e+1),D(this,t,e)},i.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=j;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,f=r.groupSeparator||"",h=s[0],l=s[1],d=i.s<0,p=d?h.slice(1):h,y=p.length;if(u&&(o=a,a=u,u=o,y-=o),a>0&&y>0){for(o=y%a||a,h=p.substr(0,o);o<y;o+=a)h+=f+p.substr(o,a);u>0&&(h+=f+p.slice(o)),d&&(h="-"+h)}n=l?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):h}return(r.prefix||"")+n+(r.suffix||"")},i.toFraction=function(t){var r,n,i,o,s,a,u,f,l,p,y,g,b=this,m=b.c;if(null!=t&&(u=new L(t),!u.isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!m)return new L(b);for(r=new L(I),l=n=new L(I),i=f=new L(I),g=w(m),s=r.e=g.length-b.e-1,r.c[0]=d[(a=s%h)<0?h+a:a],t=!t||u.comparedTo(r)>0?s>0?r:l:u,a=R,R=1/0,u=new L(g),f.c[0]=0;;){if(p=e(u,r,0,1),o=n.plus(p.times(i)),1==o.comparedTo(t))break;n=i,i=o,l=f.plus(p.times(o=l)),f=o,r=u.minus(p.times(o=r)),u=o}return o=e(t.minus(n),i,0,1),f=f.plus(o.times(l)),n=n.plus(o.times(i)),f.s=l.s=b.s,s*=2,y=e(l,i,s,B).minus(b).abs().comparedTo(e(f,n,s,B).minus(b).abs())<1?[l,i]:[f,n],R=a,y},i.toNumber=function(){return+V(this)},i.toPrecision=function(t,e){return null!=t&&v(t,1,y),D(this,t,e,2)},i.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=T||o>=S?_(w(n.c),o):x(w(n.c),o,"0"):10===t&&k?(n=C(new L(n),A+o+1,B),e=x(w(n.c),n.e,"0")):(v(t,2,F.length,"Base"),e=r(x(w(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},i.valueOf=i.toJSON=function(){return V(this)},i._isBigNumber=!0,null!=t&&L.set(t),L}function b(t){var e=0|t;return t>0||t===e?e:e-1}function w(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=h-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function m(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,u=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function v(t,e,r,n){if(t<e||t>r||t!==a(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function E(t){var e=t.c.length-1;return b(t.e/h)==e&&t.c[e]%2!=0}function _(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function x(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}i=g(),i["default"]=i.BigNumber=i,n=function(){return i}.call(e,r,e,t),void 0===n||(t.exports=n)}()},8622:function(t,e,r){"use strict";var n=r(4576),i=r(4901),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8686:function(t,e,r){"use strict";var n=r(3724),i=r(9039);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(t,e,r){"use strict";var n=r(616),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},8750:function(t,e,r){"use strict";var n=r(7080),i=r(4402),o=r(5170),s=r(3789),a=r(8469),c=r(507),u=i.Set,f=i.add,h=i.has;t.exports=function(t){var e=n(this),r=s(t),i=new u;return o(e)>r.size?c(r.getIterator(),(function(t){h(e,t)&&f(i,t)})):a(e,(function(t){r.includes(t)&&f(i,t)})),i}},8773:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},8962:function(t,e,r){"use strict";r.d(e,{o:function(){return i}});r(4114),r(8111),r(2489),r(7588);class n{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter((e=>e!==t))}notify(t,...e){this.observers.forEach((r=>r(t,...e)))}}class i extends n{constructor(){super()}print(t,...e){this.notify({message:t,level:"info"},...e)}warn(t,...e){this.notify({message:t,level:"warn"},...e)}error(t,e,...r){this.notify({message:t,level:"error",error:e},...r)}}},8981:function(t,e,r){"use strict";var n=r(7750),i=Object;t.exports=function(t){return i(n(t))}},9023:function(t,e,r){"use strict";r.d(e,{HA:function(){return c},Nn:function(){return u},UD:function(){return a},aD:function(){return s},em:function(){return f},nj:function(){return i},xW:function(){return n}});r(8111),r(1701),r(8237);function n(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.byteLength),0));let r=0;for(const n of t)e.set(new Uint8Array(n),r),r+=n.byteLength;return e.buffer}function i(t){return[...new Uint8Array(t)].map((t=>t.toString(16).padStart(2,"0"))).join("")}const o=new RegExp(/^[0-9a-fA-F]+$/);function s(t){if(!o.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce(((t,e,r)=>(t[r/2|0]=(t[r/2|0]||"")+e,t)),[]).map((t=>Number.parseInt(t,16)));return new Uint8Array(e).buffer}function a(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function c(t,e){return 0===a(t,e)}function u(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function f(t){return t instanceof Uint8Array?u(t):t instanceof ArrayBuffer?t:Array.isArray(t)?u(new Uint8Array(t)):"buffer"in t?f(t.buffer):u(new Uint8Array(t))}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},9046:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,f=-7,h=r?i-1:0,l=r?-1:1,d=t[e+h];for(h+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,c,u=8*o-i-1,f=(1<<u)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+h>=1?l/c:l*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*y}},9261:function(t,e,r){"use strict";const n=r(7646),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(t){if("number"!==typeof t)throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(0|t)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(t){return t instanceof a}static decode(t,e){switch(null==e&&(e=!0),t){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return e?null:s.NULL;case o.UNDEFINED:return e?void 0:s.UNDEFINED;case-1:if(!e)throw new Error("Invalid BREAK");return s.BREAK;default:return new a(t)}}}t.exports=a},9286:function(t,e,r){"use strict";var n=r(4402),i=r(8469),o=n.Set,s=n.add;t.exports=function(t){var e=new o;return i(t,(function(t){s(e,t)})),e}},9297:function(t,e,r){"use strict";var n=r(9504),i=r(8981),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},9306:function(t,e,r){"use strict";var n=r(4901),i=r(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},9383:function(t,e,r){"use strict";r.d(e,{D0:function(){return B},LH:function(){return A},Tp:function(){return S},dQ:function(){return m},f4:function(){return _},jr:function(){return E},pS:function(){return x},qy:function(){return O},tB:function(){return I},zH:function(){return d},zi:function(){return l}});r(8111),r(8237);var n=r(6330),i=r(5404);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const o=BigInt(0),s=BigInt(1),a=BigInt(2),c=BigInt(3),u=BigInt(4),f=BigInt(5),h=BigInt(8);function l(t,e){const r=t%e;return r>=o?r:e+r}function d(t,e,r){let n=t;while(e-- >o)n*=n,n%=r;return n}function p(t,e){if(t===o)throw new Error("invert: expected non-zero number");if(e<=o)throw new Error("invert: expected positive modulus, got "+e);let r=l(t,e),n=e,i=o,a=s,c=s,u=o;while(r!==o){const t=n/r,e=n%r,o=i-c*t,s=a-u*t;n=r,r=e,i=c,a=u,c=o,u=s}const f=n;if(f!==s)throw new Error("invert: does not exist");return l(i,e)}function y(t,e){const r=(t.ORDER+s)/u,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function g(t,e){const r=(t.ORDER-f)/h,n=t.mul(e,a),i=t.pow(n,r),o=t.mul(e,i),s=t.mul(t.mul(o,a),i),c=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function b(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-s,r=0;while(e%a===o)e/=a,r++;let n=a;const i=B(t);while(1===I(i,n))if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return y;let c=i.pow(n,e);const u=(e+s)/a;return function(t,n){if(t.is0(n))return n;if(1!==I(t,n))throw new Error("Cannot find square root");let i=r,o=t.mul(t.ONE,c),a=t.pow(n,e),f=t.pow(n,u);while(!t.eql(a,t.ONE)){if(t.is0(a))return t.ZERO;let e=1,r=t.sqr(a);while(!t.eql(r,t.ONE))if(e++,r=t.sqr(r),e===i)throw new Error("Cannot find square root");const n=s<<BigInt(i-e-1),c=t.pow(o,n);i=e,o=t.sqr(c),a=t.mul(a,o),f=t.mul(f,c)}return f}}function w(t){return t%u===c?y:t%h===f?g:b(t)}const m=(t,e)=>(l(t,e)&s)===s,v=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=v.reduce(((t,e)=>(t[e]="function",t)),e);return(0,i.Q5)(t,r)}function _(t,e,r){if(r<o)throw new Error("invalid exponent, negatives unsupported");if(r===o)return t.ONE;if(r===s)return e;let n=t.ONE,i=e;while(r>o)r&s&&(n=t.mul(n,i)),i=t.sqr(i),r>>=s;return n}function x(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce(((e,r,i)=>t.is0(r)?e:(n[i]=e,t.mul(e,r))),t.ONE),o=t.inv(i);return e.reduceRight(((e,r,i)=>t.is0(r)?e:(n[i]=t.mul(e,n[i]),t.mul(e,r))),o),n}function I(t,e){const r=(t.ORDER-s)/a,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),c=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!c)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function A(t,e){void 0!==e&&(0,n.Fe)(e);const r=void 0!==e?e:t.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function B(t,e,r=!1,n={}){if(t<=o)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:a,nByteLength:c}=A(t,e);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:r,BITS:a,BYTES:c,MASK:(0,i.OG)(a),ZERO:o,ONE:s,create:e=>l(e,t),isValid:e=>{if("bigint"!==typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return o<=e&&e<t},is0:t=>t===o,isOdd:t=>(t&s)===s,neg:e=>l(-e,t),eql:(t,e)=>t===e,sqr:e=>l(e*e,t),add:(e,r)=>l(e+r,t),sub:(e,r)=>l(e-r,t),mul:(e,r)=>l(e*r,t),pow:(t,e)=>_(f,t,e),div:(e,r)=>l(e*p(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>p(e,t),sqrt:n.sqrt||(e=>(u||(u=w(t)),u(f,e))),toBytes:t=>r?(0,i.z)(t,c):(0,i.lq)(t,c),fromBytes:t=>{if(t.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);return r?(0,i.lX)(t):(0,i.Ph)(t)},invertBatch:t=>x(f,t),cmov:(t,e,r)=>r?e:t});return Object.freeze(f)}function T(t){if("bigint"!==typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function S(t){const e=T(t);return e+Math.ceil(e/2)}function O(t,e,r=!1){const n=t.length,o=T(e),a=S(e);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const c=r?(0,i.lX)(t):(0,i.Ph)(t),u=l(c,e-s)+s;return r?(0,i.z)(u,o):(0,i.lq)(u,o)}},9433:function(t,e,r){"use strict";var n=r(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9441:function(t,e,r){"use strict";r.d(e,{Ih:function(){return n},Ki:function(){return s},em:function(){return c},Ui:function(){return y},kk:function(){return p}});var n={};r.r(n),r.d(n,{Bool:function(){return it},BoolClass:function(){return P},ConstructType:function(){return R},Empty:function(){return et},EmptyClass:function(){return N},FixedIntClass:function(){return q},FixedNatClass:function(){return C},Float32:function(){return ut},Float64:function(){return ft},FloatClass:function(){return M},Func:function(){return Bt},FuncClass:function(){return K},Int:function(){return at},Int16:function(){return lt},Int32:function(){return dt},Int64:function(){return pt},Int8:function(){return ht},IntClass:function(){return L},Nat:function(){return ct},Nat16:function(){return gt},Nat32:function(){return bt},Nat64:function(){return wt},Nat8:function(){return yt},NatClass:function(){return D},Null:function(){return ot},NullClass:function(){return j},Opt:function(){return _t},OptClass:function(){return $},PrimitiveType:function(){return O},Principal:function(){return mt},PrincipalClass:function(){return Z},Rec:function(){return At},RecClass:function(){return Y},Record:function(){return xt},RecordClass:function(){return z},Reserved:function(){return rt},ReservedClass:function(){return F},Service:function(){return Tt},ServiceClass:function(){return X},Text:function(){return st},TextClass:function(){return k},Tuple:function(){return vt},TupleClass:function(){return G},Type:function(){return S},Unknown:function(){return nt},UnknownClass:function(){return U},Variant:function(){return It},VariantClass:function(){return H},Vec:function(){return Et},VecClass:function(){return V},Visitor:function(){return T},decode:function(){return tt},encode:function(){return Q}});r(8111),r(7588),r(4114),r(1148),r(1701);var i=r(3003);r(8237);function o(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.byteLength),0));let r=0;for(const n of t)e.set(new Uint8Array(n),r),r+=n.byteLength;return e}class s{constructor(t,e=(null===t||void 0===t?void 0:t.byteLength)||0){this._buffer=c(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,e)}save(){return this._view}restore(t){this._view=t}get buffer(){return c(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const e=this._view.subarray(0,t);return this._view=this._view.subarray(t),e.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const e=new Uint8Array(t),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+e.byteLength>=this._buffer.byteLength?this.alloc(e.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+e.byteLength),this._view.set(e,r)}get end(){return 0===this._view.byteLength}alloc(t){const e=new ArrayBuffer(1.2*(this._buffer.byteLength+t)|0),r=new Uint8Array(e,0,this._view.byteLength+t);r.set(this._view),this._buffer=e,this._view=r}}function a(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function c(t){return t instanceof Uint8Array?a(t):t instanceof ArrayBuffer?t:Array.isArray(t)?a(new Uint8Array(t)):"buffer"in t?c(t.buffer):a(new Uint8Array(t))}function u(t){const e=new TextEncoder,r=e.encode(t);let n=0;for(const i of r)n=(223*n+i)%2**32;return n}function f(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return u(t)}function h(){throw new Error("unexpected end of buffer")}function l(t,e){return t.byteLength<e&&h(),t.read(e)}function d(t){const e=t.readUint8();return void 0===e&&h(),e}function p(t){if("number"===typeof t&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new s(new ArrayBuffer(e),0);while(1){const e=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){r.write(new Uint8Array([e]));break}r.write(new Uint8Array([128|e]))}return r.buffer}function y(t){let e,r=BigInt(1),n=BigInt(0);do{e=d(t),n+=BigInt(127&e).valueOf()*r,r*=BigInt(128)}while(e>=128);return n}function g(t){"number"===typeof t&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const r=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,n=new s(new ArrayBuffer(r),0);while(1){const r=i(t);if(t/=BigInt(128),e&&t===BigInt(0)&&0!==(64&r)||!e&&t===BigInt(0)&&0===(64&r)){n.write(new Uint8Array([r]));break}n.write(new Uint8Array([128|r]))}function i(t){const r=t%BigInt(128);return Number(e?BigInt(128)-r-BigInt(1):r)}return n.buffer}function b(t){const e=new Uint8Array(t.buffer);let r=0;for(;r<e.byteLength;r++)if(e[r]<128){if(0===(64&e[r]))return y(t);break}const n=new Uint8Array(l(t,r+1));let i=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)i=i*BigInt(128)+BigInt(128-(127&n[o])-1);return-i-BigInt(1)}function w(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return m(t,e)}function m(t,e){t=BigInt(t);const r=new s(new ArrayBuffer(Math.min(1,e)),0);let n=0,i=BigInt(256),o=BigInt(0),a=Number(t%i);r.write(new Uint8Array([a]));while(++n<e)t<0&&o===BigInt(0)&&0!==a&&(o=BigInt(1)),a=Number((t/i-o)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function v(t,e){let r=BigInt(d(t)),n=BigInt(1),i=0;while(++i<e){n*=BigInt(256);const e=BigInt(d(t));r+=n*e}return r}function E(t,e){let r=v(t,e);const n=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function _(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const x="DIDL",I=400;function A(t,e,r){return t.map(((t,n)=>r(t,e[n])))}class B{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,e){const r=this._typs.length;this._idx.set(t.name,r),this._typs.push(e)}merge(t,e){const r=this._idx.get(t.name),n=this._idx.get(e);if(void 0===r)throw new Error("Missing type index for "+t);if(void 0===n)throw new Error("Missing type index for "+e);this._typs[r]=this._typs[n],this._typs.splice(n,1),this._idx.delete(e)}encode(){const t=p(this._typs.length),e=o(...this._typs);return o(t,e)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return g(this._idx.get(t)||0)}}class T{visitType(t,e){throw new Error("Not implemented")}visitPrimitive(t,e){return this.visitType(t,e)}visitEmpty(t,e){return this.visitPrimitive(t,e)}visitBool(t,e){return this.visitPrimitive(t,e)}visitNull(t,e){return this.visitPrimitive(t,e)}visitReserved(t,e){return this.visitPrimitive(t,e)}visitText(t,e){return this.visitPrimitive(t,e)}visitNumber(t,e){return this.visitPrimitive(t,e)}visitInt(t,e){return this.visitNumber(t,e)}visitNat(t,e){return this.visitNumber(t,e)}visitFloat(t,e){return this.visitPrimitive(t,e)}visitFixedInt(t,e){return this.visitNumber(t,e)}visitFixedNat(t,e){return this.visitNumber(t,e)}visitPrincipal(t,e){return this.visitPrimitive(t,e)}visitConstruct(t,e){return this.visitType(t,e)}visitVec(t,e,r){return this.visitConstruct(t,r)}visitOpt(t,e,r){return this.visitConstruct(t,r)}visitRecord(t,e,r){return this.visitConstruct(t,r)}visitTuple(t,e,r){const n=e.map(((t,e)=>[`_${e}_`,t]));return this.visitRecord(t,n,r)}visitVariant(t,e,r){return this.visitConstruct(t,r)}visitRec(t,e,r){return this.visitConstruct(e,r)}visitFunc(t,e){return this.visitConstruct(t,e)}visitService(t,e){return this.visitConstruct(t,e)}}class S{display(){return this.name}valueToString(t){return J(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class O extends S{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class R extends S{checkType(t){if(t instanceof Y){const e=t.getType();if("undefined"===typeof e)throw new Error("type mismatch with uninitialized type");return e}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class N extends O{accept(t,e){return t.visitEmpty(this,e)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return g(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class U extends S{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,e){throw t.visitType(this,e)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,e){let r,n=e.decodeValue(t,e);return Object(n)!==n&&(n=Object(n)),r=e instanceof Y?()=>e.getType():()=>e,Object.defineProperty(n,"type",{value:r,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class P extends O{accept(t,e){return t.visitBool(this,e)}covariant(t){if("boolean"===typeof t)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return g(-2)}decodeValue(t,e){switch(this.checkType(e),d(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class j extends O{accept(t,e){return t.visitNull(this,e)}covariant(t){if(null===t)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return g(-1)}decodeValue(t,e){return this.checkType(e),null}get name(){return"null"}}class F extends O{accept(t,e){return t.visitReserved(this,e)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return g(-16)}decodeValue(t,e){return e.name!==this.name&&e.decodeValue(t,e),null}get name(){return"reserved"}}class k extends O{accept(t,e){return t.visitText(this,e)}covariant(t){if("string"===typeof t)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=(new TextEncoder).encode(t),r=p(e.byteLength);return o(r,e)}encodeType(){return g(-15)}decodeValue(t,e){this.checkType(e);const r=y(t),n=l(t,Number(r)),i=new TextDecoder("utf8",{fatal:!0});return i.decode(n)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class L extends O{accept(t,e){return t.visitInt(this,e)}covariant(t){if("bigint"===typeof t||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return g(t)}encodeType(){return g(-4)}decodeValue(t,e){return this.checkType(e),b(t)}get name(){return"int"}valueToString(t){return t.toString()}}class D extends O{accept(t,e){return t.visitNat(this,e)}covariant(t){if("bigint"===typeof t&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return p(t)}encodeType(){return g(-3)}decodeValue(t,e){return this.checkType(e),y(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class M extends O{constructor(t){if(super(),this._bits=t,32!==t&&64!==t)throw new Error("not a valid float type")}accept(t,e){return t.visitFloat(this,e)}covariant(t){if("number"===typeof t||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=new ArrayBuffer(this._bits/8),r=new DataView(e);return 32===this._bits?r.setFloat32(0,t,!0):r.setFloat64(0,t,!0),e}encodeType(){const t=32===this._bits?-13:-14;return g(t)}decodeValue(t,e){this.checkType(e);const r=l(t,this._bits/8),n=new DataView(r);return 32===this._bits?n.getFloat32(0,!0):n.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class q extends O{constructor(t){super(),this._bits=t}accept(t,e){return t.visitFixedInt(this,e)}covariant(t){const e=_(this._bits-1)*BigInt(-1),r=_(this._bits-1)-BigInt(1);let n=!1;if("bigint"===typeof t)n=t>=e&&t<=r;else if(Number.isInteger(t)){const i=BigInt(t);n=i>=e&&i<=r}else n=!1;if(n)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return m(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return g(-9-t)}decodeValue(t,e){this.checkType(e);const r=E(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class C extends O{constructor(t){super(),this._bits=t}accept(t,e){return t.visitFixedNat(this,e)}covariant(t){const e=_(this._bits);let r=!1;if("bigint"===typeof t&&t>=BigInt(0))r=t<e;else if(Number.isInteger(t)&&t>=0){const n=BigInt(t);r=n<e}else r=!1;if(r)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return w(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return g(-5-t)}decodeValue(t,e){this.checkType(e);const r=v(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class V extends R{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof C&&8===t._bits&&(this._blobOptimization=!0)}accept(t,e){return t.visitVec(this,this._type,e)}covariant(t){const e=this._type instanceof C||this._type instanceof q?this._type._bits:0;if(ArrayBuffer.isView(t)&&e==8*t.BYTES_PER_ELEMENT||Array.isArray(t)&&t.every(((t,e)=>{try{return this._type.covariant(t)}catch(r){throw new Error(`Invalid ${this.display()} argument: \n\nindex ${e} -> ${r.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=p(t.length);if(this._blobOptimization)return o(e,new Uint8Array(t));if(ArrayBuffer.isView(t))return o(e,new Uint8Array(t.buffer));const r=new s(new ArrayBuffer(e.byteLength+t.length),0);r.write(e);for(const n of t){const t=this._type.encodeValue(n);r.write(new Uint8Array(t))}return r.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const e=g(-19),r=this._type.encodeType(t);t.add(this,o(e,r))}decodeValue(t,e){const r=this.checkType(e);if(!(r instanceof V))throw new Error("Not a vector type");const n=Number(y(t));if(this._type instanceof C){if(8==this._type._bits)return new Uint8Array(t.read(n));if(16==this._type._bits)return new Uint16Array(t.read(2*n));if(32==this._type._bits)return new Uint32Array(t.read(4*n));if(64==this._type._bits)return new BigUint64Array(t.read(8*n))}if(this._type instanceof q){if(8==this._type._bits)return new Int8Array(t.read(n));if(16==this._type._bits)return new Int16Array(t.read(2*n));if(32==this._type._bits)return new Int32Array(t.read(4*n));if(64==this._type._bits)return new BigInt64Array(t.read(8*n))}const i=[];for(let o=0;o<n;o++)i.push(this._type.decodeValue(t,r._type));return i}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){const e=t.map((t=>this._type.valueToString(t)));return"vec {"+e.join("; ")+"}"}}class $ extends R{constructor(t){super(),this._type=t}accept(t,e){return t.visitOpt(this,this._type,e)}covariant(t){try{if(Array.isArray(t)&&(0===t.length||1===t.length&&this._type.covariant(t[0])))return!0}catch(e){throw new Error(`Invalid ${this.display()} argument: ${J(t)} \n\n-> ${e.message}`)}throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){return 0===t.length?new Uint8Array([0]):o(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const e=g(-18),r=this._type.encodeType(t);t.add(this,o(e,r))}decodeValue(t,e){if(e instanceof j)return[];if(e instanceof F)return[];let r=e;if(e instanceof Y){const t=e.getType();if("undefined"===typeof t)throw new Error("type mismatch with uninitialized type");r=t}if(r instanceof $)switch(d(t)){case 0:return[];case 1:{const e=t.save();try{const e=this._type.decodeValue(t,r._type);return[e]}catch(n){t.restore(e);r._type.decodeValue(t,r._type);return[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof j||this._type instanceof $||this._type instanceof F){r.decodeValue(t,r);return[]}{const i=t.save();try{const r=this._type.decodeValue(t,e);return[r]}catch(n){t.restore(i);r.decodeValue(t,e);return[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return 0===t.length?"null":`opt ${this._type.valueToString(t[0])}`}}class z extends R{constructor(t={}){super(),this._fields=Object.entries(t).sort(((t,e)=>f(t[0])-f(e[0])))}accept(t,e){return t.visitRecord(this,this._fields,e)}tryAsTuple(){const t=[];for(let e=0;e<this._fields.length;e++){const[r,n]=this._fields[e];if(r!==`_${e}_`)return null;t.push(n)}return t}covariant(t){if("object"===typeof t&&this._fields.every((([e,r])=>{if(!t.hasOwnProperty(e))throw new Error(`Record is missing key "${e}".`);try{return r.covariant(t[e])}catch(n){throw new Error(`Invalid ${this.display()} argument: \n\nfield ${e} -> ${n.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=this._fields.map((([e])=>t[e])),r=A(this._fields,e,(([,t],e)=>t.encodeValue(e)));return o(...r)}_buildTypeTableImpl(t){this._fields.forEach((([e,r])=>r.buildTypeTable(t)));const e=g(-20),r=p(this._fields.length),n=this._fields.map((([e,r])=>o(p(f(e)),r.encodeType(t))));t.add(this,o(e,r,o(...n)))}decodeValue(t,e){const r=this.checkType(e);if(!(r instanceof z))throw new Error("Not a record type");const n={};let i=0,o=0;while(o<r._fields.length){const[e,s]=r._fields[o];if(i>=this._fields.length){s.decodeValue(t,s),o++;continue}const[a,c]=this._fields[i],u=f(this._fields[i][0]),h=f(e);if(u===h)n[a]=c.decodeValue(t,s),i++,o++;else if(h>u){if(!(c instanceof $||c instanceof F))throw new Error("Cannot find required field "+a);n[a]=[],i++}else s.decodeValue(t,s),o++}for(const[s,a]of this._fields.slice(i)){if(!(a instanceof $||a instanceof F))throw new Error("Cannot find required field "+s);n[s]=[]}return n}get name(){const t=this._fields.map((([t,e])=>t+":"+e.name));return`record {${t.join("; ")}}`}display(){const t=this._fields.map((([t,e])=>t+":"+e.display()));return`record {${t.join("; ")}}`}valueToString(t){const e=this._fields.map((([e])=>t[e])),r=A(this._fields,e,(([t,e],r)=>t+"="+e.valueToString(r)));return`record {${r.join("; ")}}`}}class G extends z{constructor(t){const e={};t.forEach(((t,r)=>e["_"+r+"_"]=t)),super(e),this._components=t}accept(t,e){return t.visitTuple(this,this._components,e)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every(((e,r)=>{try{return e.covariant(t[r])}catch(n){throw new Error(`Invalid ${this.display()} argument: \n\nindex ${r} -> ${n.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=A(this._components,t,((t,e)=>t.encodeValue(e)));return o(...e)}decodeValue(t,e){const r=this.checkType(e);if(!(r instanceof G))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const n=[];for(const[i,o]of r._components.entries())i>=this._components.length?o.decodeValue(t,o):n.push(this._components[i].decodeValue(t,o));return n}display(){const t=this._components.map((t=>t.display()));return`record {${t.join("; ")}}`}valueToString(t){const e=A(this._components,t,((t,e)=>t.valueToString(e)));return`record {${e.join("; ")}}`}}class H extends R{constructor(t={}){super(),this._fields=Object.entries(t).sort(((t,e)=>f(t[0])-f(e[0])))}accept(t,e){return t.visitVariant(this,this._fields,e)}covariant(t){if("object"===typeof t&&1===Object.entries(t).length&&this._fields.every((([e,r])=>{try{return!t.hasOwnProperty(e)||r.covariant(t[e])}catch(n){throw new Error(`Invalid ${this.display()} argument: \n\nvariant ${e} -> ${n.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){for(let e=0;e<this._fields.length;e++){const[r,n]=this._fields[e];if(t.hasOwnProperty(r)){const i=p(e),s=n.encodeValue(t[r]);return o(i,s)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach((([,e])=>{e.buildTypeTable(t)}));const e=g(-21),r=p(this._fields.length),n=this._fields.map((([e,r])=>o(p(f(e)),r.encodeType(t))));t.add(this,o(e,r,...n))}decodeValue(t,e){const r=this.checkType(e);if(!(r instanceof H))throw new Error("Not a variant type");const n=Number(y(t));if(n>=r._fields.length)throw Error("Invalid variant index: "+n);const[i,o]=r._fields[n];for(const[s,a]of this._fields)if(f(i)===f(s)){const e=a.decodeValue(t,o);return{[s]:e}}throw new Error("Cannot find field hash "+i)}get name(){const t=this._fields.map((([t,e])=>t+":"+e.name));return`variant {${t.join("; ")}}`}display(){const t=this._fields.map((([t,e])=>t+("null"===e.name?"":`:${e.display()}`)));return`variant {${t.join("; ")}}`}valueToString(t){for(const[e,r]of this._fields)if(t.hasOwnProperty(e)){const n=r.valueToString(t[e]);return"null"===n?`variant {${e}}`:`variant {${e}=${n}}`}throw new Error("Variant has no data: "+t)}}class Y extends R{constructor(){super(...arguments),this._id=Y._counter++,this._type=void 0}accept(t,e){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,e)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,e)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}function W(t){const e=d(t);if(1!==e)throw new Error("Cannot decode principal");const r=Number(y(t));return i.p.fromUint8Array(new Uint8Array(l(t,r)))}Y._counter=0;class Z extends O{accept(t,e){return t.visitPrincipal(this,e)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=t.toUint8Array(),r=p(e.byteLength);return o(new Uint8Array([1]),r,e)}encodeType(){return g(-24)}decodeValue(t,e){return this.checkType(e),W(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class K extends R{constructor(t,e,r=[]){super(),this.argTypes=t,this.retTypes=e,this.annotations=r}static argsToString(t,e){if(t.length!==e.length)throw new Error("arity mismatch");return"("+t.map(((t,r)=>t.valueToString(e[r]))).join(", ")+")"}accept(t,e){return t.visitFunc(this,e)}covariant(t){if(Array.isArray(t)&&2===t.length&&t[0]&&t[0]._isPrincipal&&"string"===typeof t[1])return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue([t,e]){const r=t.toUint8Array(),n=p(r.byteLength),i=o(new Uint8Array([1]),n,r),s=(new TextEncoder).encode(e),a=p(s.byteLength);return o(new Uint8Array([1]),i,a,s)}_buildTypeTableImpl(t){this.argTypes.forEach((e=>e.buildTypeTable(t))),this.retTypes.forEach((e=>e.buildTypeTable(t)));const e=g(-22),r=p(this.argTypes.length),n=o(...this.argTypes.map((e=>e.encodeType(t)))),i=p(this.retTypes.length),s=o(...this.retTypes.map((e=>e.encodeType(t)))),a=p(this.annotations.length),c=o(...this.annotations.map((t=>this.encodeAnnotation(t))));t.add(this,o(e,r,n,i,s,a,c))}decodeValue(t){const e=d(t);if(1!==e)throw new Error("Cannot decode function reference");const r=W(t),n=Number(y(t)),i=l(t,n),o=new TextDecoder("utf8",{fatal:!0}),s=o.decode(i);return[r,s]}get name(){const t=this.argTypes.map((t=>t.name)).join(", "),e=this.retTypes.map((t=>t.name)).join(", "),r=" "+this.annotations.join(" ");return`(${t}) -> (${e})${r}`}valueToString([t,e]){return`func "${t.toText()}".${e}`}display(){const t=this.argTypes.map((t=>t.display())).join(", "),e=this.retTypes.map((t=>t.display())).join(", "),r=" "+this.annotations.join(" ");return`(${t})  (${e})${r}`}encodeAnnotation(t){if("query"===t)return new Uint8Array([1]);if("oneway"===t)return new Uint8Array([2]);if("composite_query"===t)return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class X extends R{constructor(t){super(),this._fields=Object.entries(t).sort(((t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0))}accept(t,e){return t.visitService(this,e)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${J(t)}`)}encodeValue(t){const e=t.toUint8Array(),r=p(e.length);return o(new Uint8Array([1]),r,e)}_buildTypeTableImpl(t){this._fields.forEach((([e,r])=>r.buildTypeTable(t)));const e=g(-23),r=p(this._fields.length),n=this._fields.map((([e,r])=>{const n=(new TextEncoder).encode(e),i=p(n.length);return o(i,n,r.encodeType(t))}));t.add(this,o(e,r,...n))}decodeValue(t){return W(t)}get name(){const t=this._fields.map((([t,e])=>t+":"+e.name));return`service {${t.join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function J(t){const e=JSON.stringify(t,((t,e)=>"bigint"===typeof e?`BigInt(${e})`:e));return e&&e.length>I?e.substring(0,I-3)+"...":e}function Q(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const r=new B;t.forEach((t=>t.buildTypeTable(r)));const n=(new TextEncoder).encode(x),i=r.encode(),s=p(e.length),a=o(...t.map((t=>t.encodeType(r)))),c=o(...A(t,e,((t,e)=>{try{t.covariant(e)}catch(r){const t=new Error(r.message+"\n\n");throw t}return t.encodeValue(e)})));return o(n,i,s,a,c)}function tt(t,e){const r=new s(e);if(e.byteLength<x.length)throw new Error("Message length smaller than magic number");const n=l(r,x.length),i=(new TextDecoder).decode(n);if(i!==x)throw new Error("Wrong magic number: "+JSON.stringify(i));function o(t){const e=[],r=Number(y(t));for(let o=0;o<r;o++){const r=Number(b(t));switch(r){case-18:case-19:{const n=Number(b(t));e.push([r,n]);break}case-20:case-21:{const n=[];let i,o=Number(y(t));while(o--){const e=Number(y(t));if(e>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if("number"===typeof i&&i>=e)throw new Error("field id collision or not sorted");i=e;const r=Number(b(t));n.push([e,r])}e.push([r,n]);break}case-22:{const n=[];let i=Number(y(t));while(i--)n.push(Number(b(t)));const o=[];let s=Number(y(t));while(s--)o.push(Number(b(t)));const a=[];let c=Number(y(t));while(c--){const e=Number(y(t));switch(e){case 1:a.push("query");break;case 2:a.push("oneway");break;case 3:a.push("composite_query");break;default:throw new Error("unknown annotation")}}e.push([r,[n,o,a]]);break}case-23:{let n=Number(y(t));const i=[];while(n--){const e=Number(y(t)),r=(new TextDecoder).decode(l(t,e)),n=b(t);i.push([r,n])}e.push([r,i]);break}default:throw new Error("Illegal op_code: "+r)}}const n=[],i=Number(y(t));for(let o=0;o<i;o++)n.push(Number(b(t)));return[e,n]}const[a,c]=o(r);if(c.length<t.length)throw new Error("Wrong number of return values");const u=a.map((t=>At()));function f(t){if(t<-24)throw new Error("future value not supported");if(t<0)switch(t){case-1:return ot;case-2:return it;case-3:return ct;case-4:return at;case-5:return yt;case-6:return gt;case-7:return bt;case-8:return wt;case-9:return ht;case-10:return lt;case-11:return dt;case-12:return pt;case-13:return ut;case-14:return ft;case-15:return st;case-16:return rt;case-17:return et;case-24:return mt;default:throw new Error("Illegal op_code: "+t)}if(t>=a.length)throw new Error("type index out of range");return u[t]}function h(t){switch(t[0]){case-19:{const e=f(t[1]);return Et(e)}case-18:{const e=f(t[1]);return _t(e)}case-20:{const e={};for(const[i,o]of t[1]){const t=`_${i}_`;e[t]=f(o)}const r=xt(e),n=r.tryAsTuple();return Array.isArray(n)?vt(...n):r}case-21:{const e={};for(const[r,n]of t[1]){const t=`_${r}_`;e[t]=f(n)}return It(e)}case-22:{const[e,r,n]=t[1];return Bt(e.map((t=>f(t))),r.map((t=>f(t))),n)}case-23:{const e={},r=t[1];for(const[t,n]of r){let r=f(n);if(r instanceof Y&&(r=r.getType()),!(r instanceof K))throw new Error("Illegal service definition: services can only contain functions");e[t]=r}return Tt(e)}default:throw new Error("Illegal op_code: "+t[0])}}a.forEach(((t,e)=>{if(-22===t[0]){const r=h(t);u[e].fill(r)}})),a.forEach(((t,e)=>{if(-22!==t[0]){const r=h(t);u[e].fill(r)}}));const d=c.map((t=>f(t))),p=t.map(((t,e)=>t.decodeValue(r,d[e])));for(let s=t.length;s<d.length;s++)d[s].decodeValue(r,d[s]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return p}const et=new N,rt=new F,nt=new U,it=new P,ot=new j,st=new k,at=new L,ct=new D,ut=new M(32),ft=new M(64),ht=new q(8),lt=new q(16),dt=new q(32),pt=new q(64),yt=new C(8),gt=new C(16),bt=new C(32),wt=new C(64),mt=new Z;function vt(...t){return new G(t)}function Et(t){return new V(t)}function _t(t){return new $(t)}function xt(t){return new z(t)}function It(t){return new H(t)}function At(){return new Y}function Bt(t,e,r=[]){return new K(t,e,r)}function Tt(t){return new X(t)}r(3579)},9462:function(t,e,r){"use strict";var n=r(9565),i=r(2360),o=r(6699),s=r(6279),a=r(8227),c=r(1181),u=r(5966),f=r(7657).IteratorPrototype,h=r(2529),l=r(9539),d=a("toStringTag"),p="IteratorHelper",y="WrapForValidIterator",g=c.set,b=function(t){var e=c.getterFor(t?y:p);return s(i(f),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return h(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:h(n,r.done)}catch(i){throw r.done=!0,i}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var o=u(i,"return");return o?n(o,i):h(void 0,!0)}if(r.inner)try{l(r.inner.iterator,"normal")}catch(s){return l(i,"throw",s)}return i&&l(i,"normal"),h(void 0,!0)}})},w=b(!0),m=b(!1);o(m,d,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=e?y:p,i.returnHandlerResult=!!r,i.nextHandler=t,i.counter=0,i.done=!1,g(this,i)};return n.prototype=e?w:m,n}},9504:function(t,e,r){"use strict";var n=r(616),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);t.exports=n?s:function(t){return function(){return o.apply(t,arguments)}}},9519:function(t,e,r){"use strict";var n,i,o=r(4576),s=r(2839),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,f=u&&u.v8;f&&(n=f.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),t.exports=i},9539:function(t,e,r){"use strict";var n=r(9565),i=r(8551),o=r(5966);t.exports=function(t,e,r){var s,a;i(t);try{if(s=o(t,"return"),!s){if("throw"===e)throw r;return r}s=n(s,t)}catch(c){a=!0,s=c}if("throw"===e)throw r;if(a)throw s;return i(s),r}},9565:function(t,e,r){"use strict";var n=r(616),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},9617:function(t,e,r){"use strict";var n=r(5397),i=r(5610),o=r(6198),s=function(t){return function(e,r,s){var a=n(e),c=o(a);if(0===c)return!t&&-1;var u,f=i(s,c);if(t&&r!==r){while(c>f)if(u=a[f++],u!==u)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},9881:function(t,e,r){"use strict";r.d(e,{MM:function(){return c},Z3:function(){return f},s8:function(){return u}});r(4114),r(8111),r(7588);var n=r(9441),i=r(2446),o=r(2948);const s=BigInt(1e6),a=6e4;class c{constructor(t){if(t<9e4){const e=BigInt(Date.now()+t)*s,r=e/BigInt(1e9);return void(this._value=r*BigInt(1e9))}const e=BigInt(Math.floor(Date.now()+t-a))*s,r=e/BigInt(1e9),n=r/BigInt(60),i=n*BigInt(60)*BigInt(1e9);this._value=i}toCBOR(){return i.value.u64(this._value.toString(16),16)}toHash(){return(0,n.kk)(this._value)}}function u(t=o.o){return async e=>{const r=e.request.headers;e.request.headers=r,"call"===e.endpoint&&(e.body.nonce=t())}}function f(t){const e=[];return t.forEach(((t,r)=>{e.push([r,t])})),e}},9929:function(t,e,r){"use strict";r.d(e,{mC:function(){return i}});var n=r(3003);r(5652),r(9023);(new TextEncoder).encode("\nic-request");class i{getPrincipal(){return n.p.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}}}]);
//# sourceMappingURL=chunk-vendors.79d0e482.js.map